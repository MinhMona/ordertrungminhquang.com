(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6128],{93077:function(n,e,t){"use strict";t.d(e,{B:function(){return h},W:function(){return i}});var h={dasboard:"Trang \u0111i\u1ec1u khi\u1ec3n",settings:{system:"C\u1ea5u h\xecnh h\u1ec7 th\u1ed1ng",feeTQVN:"C\u1ea5u h\xecnh v\u1eadn chuy\u1ec3n TQVN",feeBuy:"C\u1ea5u h\xecnh ph\xed d\u1ecbch v\u1ee5 mua h\xe0ng",feePayFor:"C\u1ea5u h\xecnh ph\xed thanh to\xe1n h\u1ed9",feeUser:"C\u1ea5u h\xecnh ph\xed ng\u01b0\u1eddi d\xf9ng",listBank:"Danh s\xe1ch ng\xe2n h\xe0ng",notification:"C\u1ea5u h\xecnh th\xf4ng b\xe1o",goodsChecking:"C\u1ea5u h\xecnh ph\xed ki\u1ec3m \u0111\u1ebfm",wareHouse:"C\u1ea5u h\xecnh kho TQ - VN"},staff:{employeeManager:"Qu\u1ea3n l\xfd nh\xe2n vi\xean",decentralization:"Qu\u1ea3n l\xfd ph\xe2n quy\u1ec1n",infoAccount:"Th\xf4ng tin t\xe0i kho\u1ea3n",commissionManager:"Qu\u1ea3n l\xfd hoa h\u1ed3ng"},listCustomer:"Danh s\xe1ch kh\xe1ch h\xe0ng",createNewClient:"Th\xeam m\u1edbi kh\xe1ch h\xe0ng",oder:{orderMain:"Danh s\xe1ch \u0111\u01a1n h\xe0ng",oderBuyFor:"\u0110\u01a1n h\xe0ng mua h\u1ed9",oderBuyForOther:"\u0110\u01a1n h\xe0ng mua h\u1ed9 kh\xe1c",payFor:"\u0110\u01a1n h\xe0ng thanh to\xe1n h\u1ed9",detail:" Chi ti\u1ebft \u0111\u01a1n h\xe0ng",payOder:"Thanh to\xe1n \u0111\u01a1n h\xe0ng",createdOder:"T\u1ea1o \u0111\u01a1n h\xe0ng kh\xe1c",detailProduct:"Chi ti\u1ebft s\u1ea3n ph\u1ea9m"},handleComplaint:"X\u1eed l\xfd khi\u1ebfu n\u1ea1i",deposit:{listDeposit:"Danh s\xe1ch v\u1eadn chuy\u1ec3n h\u1ed9",statisticalFeeDeposit:"Th\u1ed1ng k\xea c\u01b0\u1edbc v\u1eadn chuy\u1ec3n h\u1ed9",exportDepositRequest:"Xu\u1ea5t kho k\xfd g\u1eedi \u0111\xe3 y\xeau c\u1ea7u",exportDeposit:"Xu\u1ea5t kho ki\u1ec7n ch\u01b0a y\xeau c\u1ea7u",detailRequest:"Chi ti\u1ebft y\xeau c\u1ea7u"},checkWarehouseTQ:"Ki\u1ec3m h\xe0ng kho TQ",checkWarehouseVN:"Ki\u1ec3m h\xe0ng kho VN",importWarehouseTQ:"Nh\u1eadp kho TQ",assignPro:"G\xe1n ki\u1ec7n cho kh\xe1ch",export:"Xu\u1ea5t kho",parcelManagement:{packageManagement:"Qu\u1ea3n l\xfd bao h\xe0ng",billCodeManager:"Qu\u1ea3n l\xfd m\xe3 v\u1eadn \u0111\u01a1n",lostCase:"Danh s\xe1ch ki\u1ec7n th\u1ea5t l\u1ea1c",floatingCase:"Danh s\xe1ch ki\u1ec7n tr\xf4i n\u1ed5i",detailPackageManagement:"Qu\u1ea3n l\xfd bao h\xe0ng chi ti\u1ebft"},moneyManagement:{personalRecharge:"qu\u1ea3n l\xfd n\u1ea1p ti\u1ec1n c\xe1 nh\xe2n",historyRechargeVN:"L\u1ecbch s\u1eed n\u1ea1p ti\u1ec1n",historyWithdrawVN:"L\u1ecbch s\u1eed r\xfat ti\u1ec1n",historyRechargeTQ:"L\u1ecbch s\u1eed n\u1ea1p t\u1ec7",historyWithdrawTQ:"L\u1ecbch s\u1eed r\xfat t\u1ec7",historyTransaction:"L\u1ecbch s\u1eed giao d\u1ecbch",payExport:"Thanh to\xe1n xu\u1ea5t kho",detailPayExport:"Chi ti\u1ebft thanh to\xe1n xu\u1ea5t kho"},statistical:{printPurchaseVoucher:"In phi\u1ebfu mua h\u1ed9",turnover:"Th\u1ed1ng k\xea doanh thu",depositMoney:"Th\u1ed1ng k\xea ti\u1ec1n n\u1ea1p",surplus:"Th\u1ed1ng k\xea s\u1ed1 d\u01b0",transaction:"Th\u1ed1ng k\xea giao d\u1ecbch",other:"Th\u1ed1ng k\xea \u0111\u01a1n h\xe0ng",realMoney:"Th\u1ed1ng k\xea ti\u1ec1n mua h\xe0ng",depositRevenue:"Th\u1ed1ng k\xea k\xfd g\u1eedi",salesRevenue:"Th\u1ed1ng k\xea sale",orderRevenue:"Th\u1ed1ng k\xea \u0111\u1eb7t h\xe0ng",profitBuyFor:"Th\u1ed1ng k\xea l\u1ee3i nhu\u1eadn mua h\u1ed9",profitPayFor:"Th\u1ed1ng k\xea l\u1ee3i nhu\u1eadn mua h\u1ed9"},post:{Categories:"Chuy\xean m\u1ee5c b\xe0i vi\u1ebft",listPost:"B\xe0i vi\u1ebft",addCategories:" Th\xeam chuy\xean m\u1ee5c",editCategories:"Ch\u1ec9nh s\u1eeda chuy\xean m\u1ee5c",addPost:"Th\xeam b\xe0i vi\u1ebft",editPost:"Ch\u1ec9nh s\u1eeda b\xe0i vi\u1ebft"},homepageContent:"C\u1ea5u h\xecnh trang ch\u1ee7",detailMenu:"Chi ti\u1ebft Menu",addMenuChild:"Th\xeam menu con",addMenu:"Th\xeam menu",signIn:"\u0110\u0103ng nh\u1eadp",register:"\u0110\u0103ng k\xfd",forgotPassword:"Kh\xf4i ph\u1ee5c m\u1eadt kh\u1ea9u",homePage:"NHAPHANGTRUNGQUOC.MONAMEDIA.NET",notification:"Th\xf4ng b\xe1o"},i={dashboard:"Dashboard",shopping:{shopingBag:"Gi\u1ecf h\xe0ng",payment:"Thanh to\xe1n"},buyGroceries:{listOder:"Danh s\xe1ch \u0111\u01a1n h\xe0ng",createOderPageTMDT:"T\u1ea1o \u0111\u01a1n h\xe0ng trang TM\u0110T Kh\xe1c","listOderTM\u0110T":"Danh s\xe1ch \u0111\u01a1n h\xe0ng"},consignmentShipping:{createOderDeposit:"T\u1ea1o \u0111\u01a1n h\xe0ng k\xfd g\u1eedi",listOderDeposit:"Danh s\xe1ch \u0111\u01a1n h\xe0ng k\xfd g\u1eedi",statisticalDeposit:"Th\u1ed1ng k\xea c\u01b0\u1edbc k\xfd g\u1eedi"},payFor:{listRequest:"Danh s\xe1ch y\xeau c\u1ea7u thanh to\xe1n h\u1ed9",createRequest:"T\u1ea1o y\xeau c\u1ea7u thanh to\xe1n h\u1ed9",detaiPay:"Chi ti\u1ebft thanh to\xe1n h\u1ed9"},financialManagement:{listTransactionVND:" Danh s\xe1ch giao d\u1ecbch VN\u0110",listTransactionTQ:" Danh s\xe1ch giao d\u1ecbch VN\u0110","rechargeVN\u0110":"N\u1ea1p ti\u1ec1n VN\u0110",rechargeTQ:"N\u1ea1p ti\u1ec1n TQ",withdrawMoneyVND:"R\xfat ti\u1ec1n VN\u0110",withdrawMoneyTQ:"R\xfat ti\u1ec1n TQ"},complain:"Khi\u1ebfu n\u1ea1i",floating:"Ki\u1ec7n tr\xf4i n\u1ed5i",createComplain:"T\u1ea1o khi\u1ebfu n\u1ea1i m\u1edbi",tracking:"Theo d\xf5i v\u1eadn chuy\u1ec3n",infoUser:"Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"}},47778:function(n,e,t){"use strict";t.r(e);t(54038);var h=t(36671),i=t(30266),a=t(809),o=t.n(a),r=t(11163),s=t(67294),u=t(87536),c=t(88767),l=t(88671),d=t(65027),g=t(93077),p=t(94851),m=t(82381),T=t(66727),v=t(85893),y=function(){var n=(0,T.TL)(),e=(0,r.useRouter)(),t=(0,T.CG)((function(n){return n.cart.selectedShopIds})),a=(0,c.useQueryClient)(),g=(0,c.useQueries)(t.map((function(n){return{queryKey:["orderShopTempData",n],queryFn:function(){return l.c6.getByID(n).then((function(n){return n.Data}))}}}))).map((function(n){return n.data})),y=(0,u.cI)({mode:"onBlur",defaultValues:{ShopPayments:[]}}),k=y.control,f=y.handleSubmit,N=y.reset,C=(y.getValues,y.setValue,(0,m.N)({warehouseTQEnabled:!0,warehouseVNEnabled:!0,shippingTypeToWarehouseEnabled:!0})),x=C.warehouseTQ,D=C.warehouseVN,Q=C.shippingTypeToWarehouse;(0,p.Hu)((function(){if(null!==x&&void 0!==x&&x.length&&null!==D&&void 0!==D&&D.length&&null!==Q&&void 0!==Q&&Q.length&&g.length&&null!==g&&void 0!==g&&g[0]){var n=null===g||void 0===g?void 0:g[0],e=n.FullName,t=n.Address,h=n.Email,i=n.Phone;N({ReceiverFullName:e,ReceiverAddress:t,ReceiverEmail:h,ReceiverPhone:i,FullName:e,Address:t,Email:h,Phone:i,ShopPayments:g.map((function(n){var e,t,h;return{ShopId:null===n||void 0===n?void 0:n.Id,ShippingType:null===(e=Q[0])||void 0===e?void 0:e.Id,WarehouseTQ:null===(t=x[0])||void 0===t?void 0:t.Id,WarehouseVN:null===(h=D[0])||void 0===h?void 0:h.Id}}))})}}),[x,D,Q,g]);var P=(0,c.useMutation)(l.c6.payment,{onSuccess:function(){d.Amu.success("\u0110\u1eb7t h\xe0ng th\xe0nh c\xf4ng!"),a.invalidateQueries({queryKey:"menuData"}),e.push("/user/order-list")},onError:d.Amu.error}),w=function(){var e=(0,i.Z)(o().mark((function e(h){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==h&&void 0!==h&&h.IsAgreement){e.next=4;break}d.Amu.warning("Vui l\xf2ng x\xe1c nh\u1eadn tr\u01b0\u1edbc khi thanh to\xe1n"),e.next=12;break;case 4:return e.prev=4,e.next=7,P.mutateAsync(h);case 7:t.map((function(e){return n((0,T.p6)(e))})),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(n){return e.apply(this,arguments)}}(),V=g.map((function(n){return null===n||void 0===n?void 0:n.TotalPriceVND})),M=0;return V.forEach((function(n){M+=n})),(0,v.jsxs)("div",{className:"",children:[(0,v.jsxs)("div",{className:"",children:[(0,v.jsx)("div",{className:"titlePageUser",children:"Thanh to\xe1n"}),(0,v.jsx)(d.z02,{current:2}),!t.length||!(null!==g&&void 0!==g&&g[0])&&(0,v.jsx)(h.default,{description:"Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u n\xe0o trong thanh to\xe1n"})]}),!!t.length&&!(null===g||void 0===g||!g[0])&&(0,v.jsxs)(s.Fragment,{children:[(0,v.jsxs)("div",{className:"grid grid-cols-10 gap-4",children:[(0,v.jsx)("div",{className:"sm:col-span-7 col-span-10 flex flex-col gap-4 sm:order-1 order-1",children:g.map((function(n,e){return(0,v.jsx)(s.Fragment,{children:(0,v.jsx)(d.Efp,{index:e,orderShopTempData:n,warehouseTQ:x,warehouseVN:D,shippingTypeToWarehouse:Q,control:k})},"".concat(e,"-").concat(null===n||void 0===n?void 0:n.Id))}))}),(0,v.jsxs)("div",{className:"sm:col-span-3 col-span-10 flex flex-col sm:order-2 order-2",children:[(0,v.jsx)(d.oQs,{warehouseTQ:x,warehouseVN:D}),(0,v.jsxs)("div",{className:"sticky top-4",children:[(0,v.jsx)(d.PSt,{control:k}),(0,v.jsx)(d.d1N,{control:k}),(0,v.jsx)(d.aWJ,{totalPrice:M,control:k,onPress:f(w)})]})]})]}),(0,v.jsx)("div",{className:"mb-4"})]})]})};y.displayName=g.W.shopping.payment,y.Layout=d.rfd,e.default=y},33044:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/cart/payment",function(){return t(47778)}])}},function(n){n.O(0,[9774,2888,179],(function(){return e=33044,n(n.s=e);var e}));var e=n.O();_N_E=e}]);