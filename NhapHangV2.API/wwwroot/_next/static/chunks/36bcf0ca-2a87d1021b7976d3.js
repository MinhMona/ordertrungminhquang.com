"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7570],{53328:function(a,b,c){c.d(b,{qi:function(){return KA},vn:function(){return zf},ZL:function(){return SC},uw:function(){return kK},kL:function(){return vv},Gu:function(){return QD},De:function(){return TF},jn:function(){return AB},"f$":function(){return mL},od:function(){return rC},CV:function(){return pl},l7:function(){return $L},Dx:function(){return uG},u:function(){return hK}});var d=c(3940),e=new class{constructor(){this._request=null,this._charts=new Map(),this._running=!1,this._lastDate=void 0}_notify(f,g,h,i){const j=g.listeners[i],k=g.duration;j.forEach(a=>a({chart:f,initial:g.initial,numSteps:k,currentStep:Math.min(h-g.start,k)}))}_refresh(){this._request||(this._running=!0,this._request=d.r.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(l=Date.now()){let m=0;this._charts.forEach((a,b)=>{if(a.running&&a.items.length){const c=a.items;let d=c.length-1,e=!1,f;for(;d>=0;--d)(f=c[d])._active?(f._total>a.duration&&(a.duration=f._total),f.tick(l),e=!0):(c[d]=c[c.length-1],c.pop());e&&(b.draw(),this._notify(b,a,l,"progress")),c.length||(a.running=!1,this._notify(b,a,l,"complete"),a.initial=!1),m+=c.length}}),this._lastDate=l,0===m&&(this._running=!1)}_getAnims(n){const o=this._charts;let p=o.get(n);return p||(p={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},o.set(n,p)),p}listen(q,r,s){this._getAnims(q).listeners[r].push(s)}add(t,u){u&&u.length&&this._getAnims(t).items.push(...u)}has(v){return this._getAnims(v).items.length>0}start(w){const x=this._charts.get(w);x&&(x.running=!0,x.start=Date.now(),x.duration=x.items.reduce((a,b)=>Math.max(a,b._duration),0),this._refresh())}running(y){if(!this._running)return!1;const z=this._charts.get(y);return!!z&&!!z.running&&!!z.items.length}stop(A){const B=this._charts.get(A);if(B&&B.items.length){const C=B.items;let D=C.length-1;for(;D>=0;--D)C[D].cancel();B.items=[],this._notify(A,B,Date.now(),"complete")}}remove(E){return this._charts.delete(E)}}();const F="transparent",G={boolean(a,b,c){return c>0.5?b:a},color(a,b,c){const e=(0,d.c)(a||F),f=e.valid&&(0,d.c)(b||F);return f&&f.valid?f.mix(e,c).hexString():b},number(a,b,c){return a+(b-a)*c}};class H{constructor(I,J,K,L){const M=J[K];L=(0,d.a)([I.to,L,M,I.from]);const N=(0,d.a)([I.from,M,L]);this._active=!0,this._fn=I.fn||G[I.type||typeof N],this._easing=d.e[I.easing]||d.e.linear,this._start=Math.floor(Date.now()+(I.delay||0)),this._duration=this._total=Math.floor(I.duration),this._loop=!!I.loop,this._target=J,this._prop=K,this._from=N,this._to=L,this._promises=void 0}active(){return this._active}update(O,P,Q){if(this._active){this._notify(!1);const R=this._target[this._prop],S=Q-this._start,T=this._duration-S;this._start=Q,this._duration=Math.floor(Math.max(T,O.duration)),this._total+=S,this._loop=!!O.loop,this._to=(0,d.a)([O.to,P,R,O.from]),this._from=(0,d.a)([O.from,R,P])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(U){const V=U-this._start,W=this._duration,X=this._prop,Y=this._from,Z=this._loop,$=this._to;let _;if(this._active=Y!==$&&(Z||V<W),!this._active){this._target[X]=$,this._notify(!0);return}if(V<0){this._target[X]=Y;return}_=V/W%2,_=Z&&_>1?2-_:_,_=this._easing(Math.min(1,Math.max(0,_))),this._target[X]=this._fn(Y,$,_)}wait(){const aa=this._promises||(this._promises=[]);return new Promise((a,b)=>{aa.push({res:a,rej:b})})}_notify(ba){const ca=ba?"res":"rej",da=this._promises||[];for(let ea=0;ea<da.length;ea++)da[ea][ca]()}}d.d.set("animation",{delay:void 0,duration:1000,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const fa=Object.keys(d.d.animation);d.d.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:a=>"onProgress"!==a&&"onComplete"!==a&&"fn"!==a}),d.d.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),d.d.describe("animations",{_fallback:"animation"}),d.d.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:a=>0|a}}}});class ga{constructor(ha,ia){this._chart=ha,this._properties=new Map(),this.configure(ia)}configure(ja){if((0,d.i)(ja)){const ka=this._properties;Object.getOwnPropertyNames(ja).forEach(a=>{const b=ja[a];if((0,d.i)(b)){const c={};for(const e of fa)c[e]=b[e];((0,d.b)(b.properties)&&b.properties||[a]).forEach(b=>{b!==a&&ka.has(b)||ka.set(b,c)})}})}}_animateOptions(la,ma){const na=ma.options,oa=Ga(la,na);if(!oa)return[];const pa=this._createAnimations(oa,na);return na.$shared&&Fa(la.options.$animations,na).then(()=>{la.options=na},()=>{}),pa}_createAnimations(qa,ra){const sa=this._properties,ta=[],ua=qa.$animations||(qa.$animations={}),va=Object.keys(ra),wa=Date.now();let xa;for(xa=va.length-1;xa>=0;--xa){const ya=va[xa];if("$"!==ya.charAt(0)){if("options"===ya){ta.push(...this._animateOptions(qa,ra));continue}const za=ra[ya];let Aa=ua[ya];const Ba=sa.get(ya);if(Aa){if(Ba&&Aa.active()){Aa.update(Ba,za,wa);continue}Aa.cancel()}if(!Ba||!Ba.duration){qa[ya]=za;continue}ua[ya]=Aa=new H(Ba,qa,ya,za),ta.push(Aa)}}return ta}update(Ca,Da){if(0===this._properties.size){Object.assign(Ca,Da);return}const Ea=this._createAnimations(Ca,Da);if(Ea.length)return e.add(this._chart,Ea),!0}}function Fa(a,b){const c=[],d=Object.keys(b);for(let e=0;e<d.length;e++){const f=a[d[e]];f&&f.active()&&c.push(f.wait())}return Promise.all(c)}function Ga(a,b){if(b){let c=a.options;if(!c){a.options=b;return}return c.$shared&&(a.options=c=Object.assign({},c,{$shared:!1,$animations:{}})),c}}function Ha(a,b){const c=a&&a.options||{},d=c.reverse,e=void 0===c.min?b:0,f=void 0===c.max?b:0;return{start:d?f:e,end:d?e:f}}function Ia(a,b){const c=[],d=a._getSortedDatasetMetas(b);let e,f;for(e=0,f=d.length;e<f;++e)c.push(d[e].index);return c}function Ja(a,b,c,e={}){const f=a.keys,g="single"===e.mode;let h,i,j,k;if(null!==b){for(h=0,i=f.length;h<i;++h){if((j=+f[h])===c){if(e.all)continue;break}k=a.values[j],(0,d.g)(k)&&(g||0===b||(0,d.s)(b)===(0,d.s)(k))&&(b+=k)}return b}}function Ka(a,b){const c=a&&a.options.stacked;return c|| void 0===c&& void 0!==b.stack}function La(a,b,c){const d=a[b]||(a[b]={});return d[c]||(d[c]={})}function Ma(a,b,c,d){for(const e of b.getMatchingVisibleMetas(d).reverse()){const f=a[e.index];if(c&&f>0|| !c&&f<0)return e.index}return null}function Na(a,b){var c,d,e;const{chart:f,_cachedMeta:g}=a,h=f._stacks||(f._stacks={}),{iScale:i,vScale:j,index:k}=g,l=i.axis,m=j.axis,n=(c=i,d=j,e=g,`${c.id}.${d.id}.${e.stack||e.type}`),o=b.length;let p;for(let q=0;q<o;++q){const r=b[q],{[l]:s,[m]:t}=r,u=r._stacks||(r._stacks={});(p=u[m]=La(h,n,s))[k]=t,p._top=Ma(p,j,!0,g.type),p._bottom=Ma(p,j,!1,g.type)}}function Oa(a,b){const c=a.scales;return Object.keys(c).filter(a=>c[a].axis===b).shift()}function Pa(a,b){const c=a.controller.index,d=a.vScale&&a.vScale.axis;if(d)for(const e of b=b||a._parsed){const f=e._stacks;if(!f|| void 0===f[d]|| void 0===f[d][c])return;delete f[d][c]}}const Qa=a=>"reset"===a||"none"===a,Ra=(a,b)=>b?a:Object.assign({},a),Sa=(a,b,c)=>a&&!b.hidden&&b._stacked&&{keys:Ia(c,!0),values:null};class Ta{constructor(Ua,Va){this.chart=Ua,this._ctx=Ua.ctx,this.index=Va,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const Wa=this._cachedMeta;this.configure(),this.linkScales(),Wa._stacked=Ka(Wa.vScale,Wa),this.addElements()}updateIndex(Xa){this.index!==Xa&&Pa(this._cachedMeta),this.index=Xa}linkScales(){const Ya=this.chart,Za=this._cachedMeta,$a=this.getDataset(),_a=(a,b,c,d)=>"x"===a?b:"r"===a?d:c,ab=Za.xAxisID=(0,d.v)($a.xAxisID,Oa(Ya,"x")),bb=Za.yAxisID=(0,d.v)($a.yAxisID,Oa(Ya,"y")),cb=Za.rAxisID=(0,d.v)($a.rAxisID,Oa(Ya,"r")),db=Za.indexAxis,eb=Za.iAxisID=_a(db,ab,bb,cb),fb=Za.vAxisID=_a(db,bb,ab,cb);Za.xScale=this.getScaleForId(ab),Za.yScale=this.getScaleForId(bb),Za.rScale=this.getScaleForId(cb),Za.iScale=this.getScaleForId(eb),Za.vScale=this.getScaleForId(fb)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(gb){return this.chart.scales[gb]}_getOtherScale(hb){const ib=this._cachedMeta;return hb===ib.iScale?ib.vScale:ib.iScale}reset(){this._update("reset")}_destroy(){const jb=this._cachedMeta;this._data&&(0,d.u)(this._data,this),jb._stacked&&Pa(jb)}_dataCheck(){const kb=this.getDataset(),lb=kb.data||(kb.data=[]),mb=this._data;if((0,d.i)(lb))this._data=(function(a){const b=Object.keys(a),c=new Array(b.length);let d,e,f;for(d=0,e=b.length;d<e;++d)f=b[d],c[d]={x:f,y:a[f]};return c})(lb);else if(mb!==lb){if(mb){(0,d.u)(mb,this);const nb=this._cachedMeta;Pa(nb),nb._parsed=[]}lb&&Object.isExtensible(lb)&&(0,d.l)(lb,this),this._syncList=[],this._data=lb}}addElements(){const ob=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(ob.dataset=new this.datasetElementType())}buildOrUpdateElements(pb){const qb=this._cachedMeta,rb=this.getDataset();let sb=!1;this._dataCheck();const tb=qb._stacked;qb._stacked=Ka(qb.vScale,qb),qb.stack!==rb.stack&&(sb=!0,Pa(qb),qb.stack=rb.stack),this._resyncElements(pb),(sb||tb!==qb._stacked)&&Na(this,qb._parsed)}configure(){const ub=this.chart.config,vb=ub.datasetScopeKeys(this._type),wb=ub.getOptionScopes(this.getDataset(),vb,!0);this.options=ub.createResolver(wb,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(xb,yb){const{_cachedMeta:zb,_data:Ab}=this,{iScale:Bb,_stacked:Cb}=zb,Db=Bb.axis;let Eb=0===xb&&yb===Ab.length||zb._sorted,Fb=xb>0&&zb._parsed[xb-1],Gb,Hb,Ib;if(!1===this._parsing)zb._parsed=Ab,zb._sorted=!0,Ib=Ab;else{Ib=(0,d.b)(Ab[xb])?this.parseArrayData(zb,Ab,xb,yb):(0,d.i)(Ab[xb])?this.parseObjectData(zb,Ab,xb,yb):this.parsePrimitiveData(zb,Ab,xb,yb);const Jb=()=>null===Hb[Db]||Fb&&Hb[Db]<Fb[Db];for(Gb=0;Gb<yb;++Gb)zb._parsed[Gb+xb]=Hb=Ib[Gb],Eb&&(Jb()&&(Eb=!1),Fb=Hb);zb._sorted=Eb}Cb&&Na(this,Ib)}parsePrimitiveData(Kb,Lb,Mb,Nb){const{iScale:Ob,vScale:Pb}=Kb,Qb=Ob.axis,Rb=Pb.axis,Sb=Ob.getLabels(),Tb=Ob===Pb,Ub=new Array(Nb);let Vb,Wb,Xb;for(Vb=0,Wb=Nb;Vb<Wb;++Vb)Xb=Vb+Mb,Ub[Vb]={[Qb]:Tb||Ob.parse(Sb[Xb],Xb),[Rb]:Pb.parse(Lb[Xb],Xb)};return Ub}parseArrayData(Yb,Zb,$b,_b){const{xScale:ac,yScale:bc}=Yb,cc=new Array(_b);let dc,ec,fc,gc;for(dc=0,ec=_b;dc<ec;++dc)gc=Zb[fc=dc+$b],cc[dc]={x:ac.parse(gc[0],fc),y:bc.parse(gc[1],fc)};return cc}parseObjectData(hc,ic,jc,kc){const{xScale:lc,yScale:mc}=hc,{xAxisKey:nc="x",yAxisKey:oc="y"}=this._parsing,pc=new Array(kc);let qc,rc,sc,tc;for(qc=0,rc=kc;qc<rc;++qc)tc=ic[sc=qc+jc],pc[qc]={x:lc.parse((0,d.f)(tc,nc),sc),y:mc.parse((0,d.f)(tc,oc),sc)};return pc}getParsed(uc){return this._cachedMeta._parsed[uc]}getDataElement(vc){return this._cachedMeta.data[vc]}applyStack(wc,xc,yc){const zc=this.chart,Ac=this._cachedMeta,Bc=xc[wc.axis],Cc={keys:Ia(zc,!0),values:xc._stacks[wc.axis]};return Ja(Cc,Bc,Ac.index,{mode:yc})}updateRangeFromParsed(Dc,Ec,Fc,Gc){const Hc=Fc[Ec.axis];let Ic=null===Hc?NaN:Hc;const Jc=Gc&&Fc._stacks[Ec.axis];Gc&&Jc&&(Gc.values=Jc,Ic=Ja(Gc,Hc,this._cachedMeta.index)),Dc.min=Math.min(Dc.min,Ic),Dc.max=Math.max(Dc.max,Ic)}getMinMax(Kc,Lc){const Mc=this._cachedMeta,Nc=Mc._parsed,Oc=Mc._sorted&&Kc===Mc.iScale,Pc=Nc.length,Qc=this._getOtherScale(Kc),Rc=Sa(Lc,Mc,this.chart),Sc={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:Tc,max:Uc}=function(a){const{min:b,max:c,minDefined:d,maxDefined:e}=a.getUserBounds();return{min:d?b:Number.NEGATIVE_INFINITY,max:e?c:Number.POSITIVE_INFINITY}}(Qc);let Vc,Wc;function Xc(){Wc=Nc[Vc];const a=Wc[Qc.axis];return!(0,d.g)(Wc[Kc.axis])||Tc>a||Uc<a}for(Vc=0;Vc<Pc&&(Xc()||(this.updateRangeFromParsed(Sc,Kc,Wc,Rc),!Oc));++Vc);if(Oc){for(Vc=Pc-1;Vc>=0;--Vc)if(!Xc()){this.updateRangeFromParsed(Sc,Kc,Wc,Rc);break}}return Sc}getAllParsedValues(Yc){const Zc=this._cachedMeta._parsed,$c=[];let _c,ad,bd;for(_c=0,ad=Zc.length;_c<ad;++_c)bd=Zc[_c][Yc.axis],(0,d.g)(bd)&&$c.push(bd);return $c}getMaxOverflow(){return!1}getLabelAndValue(cd){const dd=this._cachedMeta,ed=dd.iScale,fd=dd.vScale,gd=this.getParsed(cd);return{label:ed?""+ed.getLabelForValue(gd[ed.axis]):"",value:fd?""+fd.getLabelForValue(gd[fd.axis]):""}}_update(hd){var id;const jd=this._cachedMeta;this.update(hd||"default");let kd,ld,md,nd;jd._clip=(id=(0,d.v)(this.options.clip,function(a,b,c){if(!1===c)return!1;const d=Ha(a,c),e=Ha(b,c);return{top:e.end,right:d.end,bottom:e.start,left:d.start}}(jd.xScale,jd.yScale,this.getMaxOverflow())),(0,d.i)(id)?(kd=id.top,ld=id.right,md=id.bottom,nd=id.left):kd=ld=md=nd=id,{top:kd,right:ld,bottom:md,left:nd,disabled:!1===id})}update(od){}draw(){const pd=this._ctx,qd=this.chart,rd=this._cachedMeta,sd=rd.data||[],td=qd.chartArea,ud=[],vd=this._drawStart||0,wd=this._drawCount||sd.length-vd;let xd;for(rd.dataset&&rd.dataset.draw(pd,td,vd,wd),xd=vd;xd<vd+wd;++xd){const yd=sd[xd];yd.hidden||(yd.active?ud.push(yd):yd.draw(pd,td))}for(xd=0;xd<ud.length;++xd)ud[xd].draw(pd,td)}getStyle(zd,Ad){const Bd=Ad?"active":"default";return void 0===zd&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(Bd):this.resolveDataElementOptions(zd||0,Bd)}getContext(Cd,Dd,Ed){var Fd,Gd,Hd,Id,Jd;const Kd=this.getDataset();let Ld;if(Cd>=0&&Cd<this._cachedMeta.data.length){const Md=this._cachedMeta.data[Cd];(Ld=Md.$context||(Md.$context=(Fd=this.getContext(),Gd=Cd,Hd=Md,(0,d.h)(Fd,{active:!1,dataIndex:Gd,parsed:void 0,raw:void 0,element:Hd,index:Gd,mode:"default",type:"data"})))).parsed=this.getParsed(Cd),Ld.raw=Kd.data[Cd],Ld.index=Ld.dataIndex=Cd}else(Ld=this.$context||(this.$context=(Id=this.chart.getContext(),Jd=this.index,(0,d.h)(Id,{active:!1,dataset:void 0,datasetIndex:Jd,index:Jd,mode:"default",type:"dataset"})))).dataset=Kd,Ld.index=Ld.datasetIndex=this.index;return Ld.active=!!Dd,Ld.mode=Ed,Ld}resolveDatasetElementOptions(Nd){return this._resolveElementOptions(this.datasetElementType.id,Nd)}resolveDataElementOptions(Od,Pd){return this._resolveElementOptions(this.dataElementType.id,Pd,Od)}_resolveElementOptions(Qd,Rd="default",Sd){const Td="active"===Rd,Ud=this._cachedDataOpts,Vd=Qd+"-"+Rd,Wd=Ud[Vd],Xd=this.enableOptionSharing&&(0,d.j)(Sd);if(Wd)return Ra(Wd,Xd);const Yd=this.chart.config,Zd=Yd.datasetElementScopeKeys(this._type,Qd),$d=Td?[`${Qd}Hover`,"hover",Qd,""]:[Qd,""],_d=Yd.getOptionScopes(this.getDataset(),Zd),ae=Object.keys(d.d.elements[Qd]),be=Yd.resolveNamedOptions(_d,ae,()=>this.getContext(Sd,Td),$d);return be.$shared&&(be.$shared=Xd,Ud[Vd]=Object.freeze(Ra(be,Xd))),be}_resolveAnimations(ce,de,ee){const fe=this.chart,ge=this._cachedDataOpts,he=`animation-${de}`,ie=ge[he];if(ie)return ie;let je;if(!1!==fe.options.animation){const ke=this.chart.config,le=ke.datasetAnimationScopeKeys(this._type,de),me=ke.getOptionScopes(this.getDataset(),le);je=ke.createResolver(me,this.getContext(ce,ee,de))}const ne=new ga(fe,je&&je.animations);return je&&je._cacheable&&(ge[he]=Object.freeze(ne)),ne}getSharedOptions(oe){if(oe.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},oe))}includeOptions(pe,qe){return!qe||Qa(pe)||this.chart._animationsDisabled}updateElement(re,se,te,ue){Qa(ue)?Object.assign(re,te):this._resolveAnimations(se,ue).update(re,te)}updateSharedOptions(ve,we,xe){ve&&!Qa(we)&&this._resolveAnimations(void 0,we).update(ve,xe)}_setStyle(ye,ze,Ae,Be){ye.active=Be;const Ce=this.getStyle(ze,Be);this._resolveAnimations(ze,Ae,Be).update(ye,{options:!Be&&this.getSharedOptions(Ce)||Ce})}removeHoverStyle(De,Ee,Fe){this._setStyle(De,Fe,"active",!1)}setHoverStyle(Ge,He,Ie){this._setStyle(Ge,Ie,"active",!0)}_removeDatasetHoverStyle(){const Je=this._cachedMeta.dataset;Je&&this._setStyle(Je,void 0,"active",!1)}_setDatasetHoverStyle(){const Ke=this._cachedMeta.dataset;Ke&&this._setStyle(Ke,void 0,"active",!0)}_resyncElements(Le){const Me=this._data,Ne=this._cachedMeta.data;for(const[Oe,Pe,Qe]of this._syncList)this[Oe](Pe,Qe);this._syncList=[];const Re=Ne.length,Se=Me.length,Te=Math.min(Se,Re);Te&&this.parse(0,Te),Se>Re?this._insertElements(Re,Se-Re,Le):Se<Re&&this._removeElements(Se,Re-Se)}_insertElements(Ue,Ve,We=!0){const Xe=this._cachedMeta,Ye=Xe.data,Ze=Ue+Ve;let $e;const _e=a=>{for(a.length+=Ve,$e=a.length-1;$e>=Ze;$e--)a[$e]=a[$e-Ve]};for(_e(Ye),$e=Ue;$e<Ze;++$e)Ye[$e]=new this.dataElementType();this._parsing&&_e(Xe._parsed),this.parse(Ue,Ve),We&&this.updateElements(Ye,Ue,Ve,"reset")}updateElements(af,bf,cf,df){}_removeElements(ef,ff){const gf=this._cachedMeta;if(this._parsing){const hf=gf._parsed.splice(ef,ff);gf._stacked&&Pa(gf,hf)}gf.data.splice(ef,ff)}_sync(jf){if(this._parsing)this._syncList.push(jf);else{const[kf,lf,mf]=jf;this[kf](lf,mf)}this.chart._dataChanges.push([this.index,...jf])}_onDataPush(){const nf=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-nf,nf])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(of,pf){pf&&this._sync(["_removeElements",of,pf]);const qf=arguments.length-2;qf&&this._sync(["_insertElements",of,qf])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function rf(a,b,c,e){return(0,d.b)(a)?(function(a,b,c,d){const e=c.parse(a[0],d),f=c.parse(a[1],d),g=Math.min(e,f),h=Math.max(e,f);let i=g,j=h;Math.abs(g)>Math.abs(h)&&(i=h,j=g),b[c.axis]=j,b._custom={barStart:i,barEnd:j,start:e,end:f,min:g,max:h}})(a,b,c,e):b[c.axis]=c.parse(a,e),b}function sf(a,b,c,d){const e=a.iScale,f=a.vScale,g=e.getLabels(),h=e===f,i=[];let j,k,l,m;for(j=c,k=c+d;j<k;++j)m=b[j],(l={})[e.axis]=h||e.parse(g[j],j),i.push(rf(m,l,f,j));return i}function tf(a){return a&& void 0!==a.barStart&& void 0!==a.barEnd}function uf(a,b,c,d){var e;let f=b.borderSkipped;const g={};if(!f){a.borderSkipped=g;return}let h,i,j,k,l;const{start:m,end:n,reverse:o,top:p,bottom:q}=((e=a).horizontal?(h=e.base>e.x,i="left",j="right"):(h=e.base<e.y,i="bottom",j="top"),h?(k="end",l="start"):(k="start",l="end"),{start:i,end:j,reverse:h,top:k,bottom:l});"middle"===f&&c&&(a.enableBorderRadius=!0,(c._top||0)===d?f=p:(c._bottom||0)===d?f=q:(g[vf(q,m,n,o)]=!0,f=p)),g[vf(f,m,n,o)]=!0,a.borderSkipped=g}function vf(a,b,c,d){return a=d?xf(a=wf(a,b,c),c,b):xf(a,b,c)}function wf(a,b,c){return a===b?c:a===c?b:a}function xf(a,b,c){return"start"===a?b:"end"===a?c:a}function yf(a,{inflateAmount:b},c){a.inflateAmount="auto"===b?1===c?0.33:0:b}Ta.defaults={},Ta.prototype.datasetElementType=null,Ta.prototype.dataElementType=null;class zf extends Ta{parsePrimitiveData(Af,Bf,Cf,Df){return sf(Af,Bf,Cf,Df)}parseArrayData(Ef,Ff,Gf,Hf){return sf(Ef,Ff,Gf,Hf)}parseObjectData(If,Jf,Kf,Lf){const{iScale:Mf,vScale:Nf}=If,{xAxisKey:Of="x",yAxisKey:Pf="y"}=this._parsing,Qf="x"===Mf.axis?Of:Pf,Rf="x"===Nf.axis?Of:Pf,Sf=[];let Tf,Uf,Vf,Wf;for(Tf=Kf,Uf=Kf+Lf;Tf<Uf;++Tf)Wf=Jf[Tf],(Vf={})[Mf.axis]=Mf.parse((0,d.f)(Wf,Qf),Tf),Sf.push(rf((0,d.f)(Wf,Rf),Vf,Nf,Tf));return Sf}updateRangeFromParsed(Xf,Yf,Zf,$f){super.updateRangeFromParsed(Xf,Yf,Zf,$f);const _f=Zf._custom;_f&&Yf===this._cachedMeta.vScale&&(Xf.min=Math.min(Xf.min,_f.min),Xf.max=Math.max(Xf.max,_f.max))}getMaxOverflow(){return 0}getLabelAndValue(ag){const bg=this._cachedMeta,{iScale:cg,vScale:dg}=bg,eg=this.getParsed(ag),fg=eg._custom,gg=tf(fg)?"["+fg.start+", "+fg.end+"]":""+dg.getLabelForValue(eg[dg.axis]);return{label:""+cg.getLabelForValue(eg[cg.axis]),value:gg}}initialize(){this.enableOptionSharing=!0,super.initialize();const hg=this._cachedMeta;hg.stack=this.getDataset().stack}update(ig){const jg=this._cachedMeta;this.updateElements(jg.data,0,jg.data.length,ig)}updateElements(kg,lg,mg,ng){const og="reset"===ng,{index:pg,_cachedMeta:{vScale:qg}}=this,rg=qg.getBasePixel(),sg=qg.isHorizontal(),tg=this._getRuler(),ug=this.resolveDataElementOptions(lg,ng),vg=this.getSharedOptions(ug),wg=this.includeOptions(ng,vg);this.updateSharedOptions(vg,ng,ug);for(let xg=lg;xg<lg+mg;xg++){const yg=this.getParsed(xg),zg=og||(0,d.k)(yg[qg.axis])?{base:rg,head:rg}:this._calculateBarValuePixels(xg),Ag=this._calculateBarIndexPixels(xg,tg),Bg=(yg._stacks||{})[qg.axis],Cg={horizontal:sg,base:zg.base,enableBorderRadius:!Bg||tf(yg._custom)||pg===Bg._top||pg===Bg._bottom,x:sg?zg.head:Ag.center,y:sg?Ag.center:zg.head,height:sg?Ag.size:Math.abs(zg.size),width:sg?Math.abs(zg.size):Ag.size};wg&&(Cg.options=vg||this.resolveDataElementOptions(xg,kg[xg].active?"active":ng));const Dg=Cg.options||kg[xg].options;uf(Cg,Dg,Bg,pg),yf(Cg,Dg,tg.ratio),this.updateElement(kg[xg],xg,Cg,ng)}}_getStacks(Eg,Fg){const Gg=this._cachedMeta,Hg=Gg.iScale,Ig=Hg.getMatchingVisibleMetas(this._type),Jg=Hg.options.stacked,Kg=Ig.length,Lg=[];let Mg,Ng;for(Mg=0;Mg<Kg;++Mg)if((Ng=Ig[Mg]).controller.options.grouped){if(void 0!==Fg){const Og=Ng.controller.getParsed(Fg)[Ng.controller._cachedMeta.vScale.axis];if((0,d.k)(Og)||isNaN(Og))continue}if((!1===Jg|| -1===Lg.indexOf(Ng.stack)|| void 0===Jg&& void 0===Ng.stack)&&Lg.push(Ng.stack),Ng.index===Eg)break}return Lg.length||Lg.push(void 0),Lg}_getStackCount(Pg){return this._getStacks(void 0,Pg).length}_getStackIndex(Qg,Rg,Sg){const Tg=this._getStacks(Qg,Sg),Ug=void 0!==Rg?Tg.indexOf(Rg):-1;return -1===Ug?Tg.length-1:Ug}_getRuler(){const Vg=this.options,Wg=this._cachedMeta,Xg=Wg.iScale,Yg=[];let Zg,$g;for(Zg=0,$g=Wg.data.length;Zg<$g;++Zg)Yg.push(Xg.getPixelForValue(this.getParsed(Zg)[Xg.axis],Zg));const _g=Vg.barThickness,ah=_g||function(a){const b=a.iScale,c=function(a,b){if(!a._cache.$bar){const c=a.getMatchingVisibleMetas(b);let e=[];for(let f=0,g=c.length;f<g;f++)e=e.concat(c[f].controller.getAllParsedValues(a));a._cache.$bar=(0,d._)(e.sort((a,b)=>a-b))}return a._cache.$bar}(b,a.type);let e=b._length,f,g,h,i;const j=()=>{32767!==h&& -32768!==h&&((0,d.j)(i)&&(e=Math.min(e,Math.abs(h-i)||e)),i=h)};for(f=0,g=c.length;f<g;++f)h=b.getPixelForValue(c[f]),j();for(f=0,i=void 0,g=b.ticks.length;f<g;++f)h=b.getPixelForTick(f),j();return e}(Wg);return{min:ah,pixels:Yg,start:Xg._startPixel,end:Xg._endPixel,stackCount:this._getStackCount(),scale:Xg,grouped:Vg.grouped,ratio:_g?1:Vg.categoryPercentage*Vg.barPercentage}}_calculateBarValuePixels(bh){const{_cachedMeta:{vScale:ch,_stacked:dh},options:{base:eh,minBarLength:fh}}=this,gh=eh||0,hh=this.getParsed(bh),ih=hh._custom,jh=tf(ih);let kh=hh[ch.axis],lh=0,mh=dh?this.applyStack(ch,hh,dh):kh,nh,oh;mh!==kh&&(lh=mh-kh,mh=kh),jh&&(kh=ih.barStart,mh=ih.barEnd-ih.barStart,0!==kh&&(0,d.s)(kh)!==(0,d.s)(ih.barEnd)&&(lh=0),lh+=kh);const ph=(0,d.k)(eh)||jh?lh:eh;let qh=ch.getPixelForValue(ph);if(Math.abs(oh=(nh=this.chart.getDataVisibility(bh)?ch.getPixelForValue(lh+mh):qh)-qh)<fh){var rh,sh,th;rh=oh,sh=ch,th=gh,oh=(0!==rh?(0,d.s)(rh):(sh.isHorizontal()?1:-1)*(sh.min>=th?1:-1))*fh,kh===gh&&(qh-=oh/2),nh=qh+oh}if(qh===ch.getPixelForValue(gh)){const uh=(0,d.s)(oh)*ch.getLineWidthForValue(gh)/2;qh+=uh,oh-=uh}return{size:oh,base:qh,head:nh,center:nh+oh/2}}_calculateBarIndexPixels(vh,wh){const xh=wh.scale,yh=this.options,zh=yh.skipNull,Ah=(0,d.v)(yh.maxBarThickness,1/0);let Bh,Ch;if(wh.grouped){const Dh=zh?this._getStackCount(vh):wh.stackCount,Eh="flex"===yh.barThickness?function(a,b,c,d){const e=b.pixels,f=e[a];let g=a>0?e[a-1]:null,h=a<e.length-1?e[a+1]:null;const i=c.categoryPercentage;return null===g&&(g=f-(null===h?b.end-b.start:h-f)),null===h&&(h=f+f-g),{chunk:Math.abs(h-g)/2*i/d,ratio:c.barPercentage,start:f-(f-Math.min(g,h))/2*i}}(vh,wh,yh,Dh):function(a,b,c,e){const f=c.barThickness;let g,h;return(0,d.k)(f)?(g=b.min*c.categoryPercentage,h=c.barPercentage):(g=f*e,h=1),{chunk:g/e,ratio:h,start:b.pixels[a]-g/2}}(vh,wh,yh,Dh),Fh=this._getStackIndex(this.index,this._cachedMeta.stack,zh?vh:void 0);Bh=Eh.start+Eh.chunk*Fh+Eh.chunk/2,Ch=Math.min(Ah,Eh.chunk*Eh.ratio)}else Bh=xh.getPixelForValue(this.getParsed(vh)[xh.axis],vh),Ch=Math.min(Ah,wh.min*wh.ratio);return{base:Bh-Ch/2,head:Bh+Ch/2,center:Bh,size:Ch}}draw(){const Gh=this._cachedMeta,Hh=Gh.vScale,Ih=Gh.data,Jh=Ih.length;let Kh=0;for(;Kh<Jh;++Kh)null!==this.getParsed(Kh)[Hh.axis]&&Ih[Kh].draw(this._ctx)}}zf.id="bar",zf.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:0.8,barPercentage:0.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},zf.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Lh extends Ta{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(Mh,Nh,Oh,Ph){const Qh=super.parsePrimitiveData(Mh,Nh,Oh,Ph);for(let Rh=0;Rh<Qh.length;Rh++)Qh[Rh]._custom=this.resolveDataElementOptions(Rh+Oh).radius;return Qh}parseArrayData(Sh,Th,Uh,Vh){const Wh=super.parseArrayData(Sh,Th,Uh,Vh);for(let Xh=0;Xh<Wh.length;Xh++){const Yh=Th[Uh+Xh];Wh[Xh]._custom=(0,d.v)(Yh[2],this.resolveDataElementOptions(Xh+Uh).radius)}return Wh}parseObjectData(Zh,$h,_h,ai){const bi=super.parseObjectData(Zh,$h,_h,ai);for(let ci=0;ci<bi.length;ci++){const di=$h[_h+ci];bi[ci]._custom=(0,d.v)(di&&di.r&&+di.r,this.resolveDataElementOptions(ci+_h).radius)}return bi}getMaxOverflow(){const ei=this._cachedMeta.data;let fi=0;for(let gi=ei.length-1;gi>=0;--gi)fi=Math.max(fi,ei[gi].size(this.resolveDataElementOptions(gi))/2);return fi>0&&fi}getLabelAndValue(hi){const ii=this._cachedMeta,{xScale:ji,yScale:ki}=ii,li=this.getParsed(hi),mi=ji.getLabelForValue(li.x),ni=ki.getLabelForValue(li.y),oi=li._custom;return{label:ii.label,value:"("+mi+", "+ni+(oi?", "+oi:"")+")"}}update(pi){const qi=this._cachedMeta.data;this.updateElements(qi,0,qi.length,pi)}updateElements(ri,si,ti,ui){const vi="reset"===ui,{iScale:wi,vScale:xi}=this._cachedMeta,yi=this.resolveDataElementOptions(si,ui),zi=this.getSharedOptions(yi),Ai=this.includeOptions(ui,zi),Bi=wi.axis,Ci=xi.axis;for(let Di=si;Di<si+ti;Di++){const Ei=ri[Di],Fi=!vi&&this.getParsed(Di),Gi={},Hi=Gi[Bi]=vi?wi.getPixelForDecimal(0.5):wi.getPixelForValue(Fi[Bi]),Ii=Gi[Ci]=vi?xi.getBasePixel():xi.getPixelForValue(Fi[Ci]);Gi.skip=isNaN(Hi)||isNaN(Ii),Ai&&(Gi.options=this.resolveDataElementOptions(Di,Ei.active?"active":ui),vi&&(Gi.options.radius=0)),this.updateElement(Ei,Di,Gi,ui)}this.updateSharedOptions(zi,ui,yi)}resolveDataElementOptions(Ji,Ki){const Li=this.getParsed(Ji);let Mi=super.resolveDataElementOptions(Ji,Ki);Mi.$shared&&(Mi=Object.assign({},Mi,{$shared:!1}));const Ni=Mi.radius;return"active"!==Ki&&(Mi.radius=0),Mi.radius+=(0,d.v)(Li&&Li._custom,Ni),Mi}}Lh.id="bubble",Lh.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},Lh.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};class Oi extends Ta{constructor(Pi,Qi){super(Pi,Qi),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(Ri,Si){const Ti=this.getDataset().data,Ui=this._cachedMeta;if(!1===this._parsing)Ui._parsed=Ti;else{let Vi=a=>+Ti[a];if((0,d.i)(Ti[Ri])){const{key:Wi="value"}=this._parsing;Vi=a=>+(0,d.f)(Ti[a],Wi)}let Xi,Yi;for(Xi=Ri,Yi=Ri+Si;Xi<Yi;++Xi)Ui._parsed[Xi]=Vi(Xi)}}_getRotation(){return(0,d.t)(this.options.rotation-90)}_getCircumference(){return(0,d.t)(this.options.circumference)}_getRotationExtents(){let Zi=d.T,$i=-d.T;for(let _i=0;_i<this.chart.data.datasets.length;++_i)if(this.chart.isDatasetVisible(_i)){const aj=this.chart.getDatasetMeta(_i).controller,bj=aj._getRotation(),cj=aj._getCircumference();Zi=Math.min(Zi,bj),$i=Math.max($i,bj+cj)}return{rotation:Zi,circumference:$i-Zi}}update(dj){const ej=this.chart,{chartArea:fj}=ej,gj=this._cachedMeta,hj=gj.data,ij=this.getMaxBorderWidth()+this.getMaxOffset(hj)+this.options.spacing,jj=Math.max((Math.min(fj.width,fj.height)-ij)/2,0),kj=Math.min((0,d.m)(this.options.cutout,jj),1),lj=this._getRingWeight(this.index),{circumference:mj,rotation:nj}=this._getRotationExtents(),{ratioX:oj,ratioY:pj,offsetX:qj,offsetY:rj}=function(a,b,c){let e=1,f=1,g=0,h=0;if(b<d.T){const i=a,j=i+b,k=Math.cos(i),l=Math.sin(i),m=Math.cos(j),n=Math.sin(j),o=(a,b,e)=>(0,d.p)(a,i,j,!0)?1:Math.max(b,b*c,e,e*c),p=(a,b,e)=>(0,d.p)(a,i,j,!0)?-1:Math.min(b,b*c,e,e*c),q=o(0,k,m),r=o(d.H,l,n),s=p(d.P,k,m),t=p(d.P+d.H,l,n);e=(q-s)/2,f=(r-t)/2,g=-(q+s)/2,h=-(r+t)/2}return{ratioX:e,ratioY:f,offsetX:g,offsetY:h}}(nj,mj,kj),sj=(fj.width-ij)/oj,tj=(fj.height-ij)/pj,uj=(0,d.n)(this.options.radius,Math.max(Math.min(sj,tj)/2,0)),vj=(uj-Math.max(uj*kj,0))/this._getVisibleDatasetWeightTotal();this.offsetX=qj*uj,this.offsetY=rj*uj,gj.total=this.calculateTotal(),this.outerRadius=uj-vj*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-vj*lj,0),this.updateElements(hj,0,hj.length,dj)}_circumference(wj,xj){const yj=this.options,zj=this._cachedMeta,Aj=this._getCircumference();return xj&&yj.animation.animateRotate||!this.chart.getDataVisibility(wj)||null===zj._parsed[wj]||zj.data[wj].hidden?0:this.calculateCircumference(zj._parsed[wj]*Aj/d.T)}updateElements(Bj,Cj,Dj,Ej){const Fj="reset"===Ej,Gj=this.chart,Hj=Gj.chartArea,Ij=Gj.options,Jj=Ij.animation,Kj=(Hj.left+Hj.right)/2,Lj=(Hj.top+Hj.bottom)/2,Mj=Fj&&Jj.animateScale,Nj=Mj?0:this.innerRadius,Oj=Mj?0:this.outerRadius,Pj=this.resolveDataElementOptions(Cj,Ej),Qj=this.getSharedOptions(Pj),Rj=this.includeOptions(Ej,Qj);let Sj=this._getRotation(),Tj;for(Tj=0;Tj<Cj;++Tj)Sj+=this._circumference(Tj,Fj);for(Tj=Cj;Tj<Cj+Dj;++Tj){const Uj=this._circumference(Tj,Fj),Vj=Bj[Tj],Wj={x:Kj+this.offsetX,y:Lj+this.offsetY,startAngle:Sj,endAngle:Sj+Uj,circumference:Uj,outerRadius:Oj,innerRadius:Nj};Rj&&(Wj.options=Qj||this.resolveDataElementOptions(Tj,Vj.active?"active":Ej)),Sj+=Uj,this.updateElement(Vj,Tj,Wj,Ej)}this.updateSharedOptions(Qj,Ej,Pj)}calculateTotal(){const Xj=this._cachedMeta,Yj=Xj.data;let Zj=0,$j;for($j=0;$j<Yj.length;$j++){const _j=Xj._parsed[$j];null!==_j&&!isNaN(_j)&&this.chart.getDataVisibility($j)&&!Yj[$j].hidden&&(Zj+=Math.abs(_j))}return Zj}calculateCircumference(ak){const bk=this._cachedMeta.total;return bk>0&&!isNaN(ak)?d.T*(Math.abs(ak)/bk):0}getLabelAndValue(ck){const dk=this._cachedMeta,ek=this.chart,fk=ek.data.labels||[],gk=(0,d.o)(dk._parsed[ck],ek.options.locale);return{label:fk[ck]||"",value:gk}}getMaxBorderWidth(hk){let ik=0;const jk=this.chart;let kk,lk,mk,nk,ok;if(!hk){for(kk=0,lk=jk.data.datasets.length;kk<lk;++kk)if(jk.isDatasetVisible(kk)){hk=(mk=jk.getDatasetMeta(kk)).data,nk=mk.controller;break}}if(!hk)return 0;for(kk=0,lk=hk.length;kk<lk;++kk)"inner"!==(ok=nk.resolveDataElementOptions(kk)).borderAlign&&(ik=Math.max(ik,ok.borderWidth||0,ok.hoverBorderWidth||0));return ik}getMaxOffset(pk){let qk=0;for(let rk=0,sk=pk.length;rk<sk;++rk){const tk=this.resolveDataElementOptions(rk);qk=Math.max(qk,tk.offset||0,tk.hoverOffset||0)}return qk}_getRingWeightOffset(uk){let vk=0;for(let wk=0;wk<uk;++wk)this.chart.isDatasetVisible(wk)&&(vk+=this._getRingWeight(wk));return vk}_getRingWeight(xk){return Math.max((0,d.v)(this.chart.data.datasets[xk].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Oi.id="doughnut",Oi.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},Oi.descriptors={_scriptable:a=>"spacing"!==a,_indexable:a=>"spacing"!==a},Oi.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(a){const b=a.data;if(b.labels.length&&b.datasets.length){const{labels:{pointStyle:c}}=a.legend.options;return b.labels.map((b,d)=>{const e=a.getDatasetMeta(0),f=e.controller.getStyle(d);return{text:b,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,lineWidth:f.borderWidth,pointStyle:c,hidden:!a.getDataVisibility(d),index:d}})}return[]}},onClick(a,b,c){c.chart.toggleDataVisibility(b.index),c.chart.update()}},tooltip:{callbacks:{title(){return""},label(a){let b=a.label;const c=": "+a.formattedValue;return(0,d.b)(b)?(b=b.slice(),b[0]+=c):b+=c,b}}}}};class yk extends Ta{initialize(){this.enableOptionSharing=!0,super.initialize()}update(zk){const Ak=this._cachedMeta,{dataset:Bk,data:Ck=[],_dataset:Dk}=Ak,Ek=this.chart._animationsDisabled;let{start:Fk,count:Gk}=nl(Ak,Ck,Ek);this._drawStart=Fk,this._drawCount=Gk,ol(Ak)&&(Fk=0,Gk=Ck.length),Bk._chart=this.chart,Bk._datasetIndex=this.index,Bk._decimated=!!Dk._decimated,Bk.points=Ck;const Hk=this.resolveDatasetElementOptions(zk);this.options.showLine||(Hk.borderWidth=0),Hk.segment=this.options.segment,this.updateElement(Bk,void 0,{animated:!Ek,options:Hk},zk),this.updateElements(Ck,Fk,Gk,zk)}updateElements(Ik,Jk,Kk,Lk){const Mk="reset"===Lk,{iScale:Nk,vScale:Ok,_stacked:Pk,_dataset:Qk}=this._cachedMeta,Rk=this.resolveDataElementOptions(Jk,Lk),Sk=this.getSharedOptions(Rk),Tk=this.includeOptions(Lk,Sk),Uk=Nk.axis,Vk=Ok.axis,{spanGaps:Wk,segment:Xk}=this.options,Yk=(0,d.q)(Wk)?Wk:Number.POSITIVE_INFINITY,Zk=this.chart._animationsDisabled||Mk||"none"===Lk;let $k=Jk>0&&this.getParsed(Jk-1);for(let _k=Jk;_k<Jk+Kk;++_k){const al=Ik[_k],bl=this.getParsed(_k),cl=Zk?al:{},dl=(0,d.k)(bl[Vk]),el=cl[Uk]=Nk.getPixelForValue(bl[Uk],_k),fl=cl[Vk]=Mk||dl?Ok.getBasePixel():Ok.getPixelForValue(Pk?this.applyStack(Ok,bl,Pk):bl[Vk],_k);cl.skip=isNaN(el)||isNaN(fl)||dl,cl.stop=_k>0&&bl[Uk]-$k[Uk]>Yk,Xk&&(cl.parsed=bl,cl.raw=Qk.data[_k]),Tk&&(cl.options=Sk||this.resolveDataElementOptions(_k,al.active?"active":Lk)),Zk||this.updateElement(al,_k,cl,Lk),$k=bl}this.updateSharedOptions(Sk,Lk,Rk)}getMaxOverflow(){const gl=this._cachedMeta,hl=gl.dataset,il=hl.options&&hl.options.borderWidth||0,jl=gl.data||[];if(!jl.length)return il;const kl=jl[0].size(this.resolveDataElementOptions(0)),ll=jl[jl.length-1].size(this.resolveDataElementOptions(jl.length-1));return Math.max(il,kl,ll)/2}draw(){const ml=this._cachedMeta;ml.dataset.updateControlPoints(this.chart.chartArea,ml.iScale.axis),super.draw()}}function nl(a,b,c){const e=b.length;let f=0,g=e;if(a._sorted){const{iScale:h,_parsed:i}=a,j=h.axis,{min:k,max:l,minDefined:m,maxDefined:n}=h.getUserBounds();m&&(f=(0,d.w)(Math.min((0,d.x)(i,h.axis,k).lo,c?e:(0,d.x)(b,j,h.getPixelForValue(k)).lo),0,e-1)),g=n?(0,d.w)(Math.max((0,d.x)(i,h.axis,l).hi+1,c?0:(0,d.x)(b,j,h.getPixelForValue(l)).hi+1),f,e)-f:e-f}return{start:f,count:g}}function ol(a){const{xScale:b,yScale:c,_scaleRanges:d}=a,e={xmin:b.min,xmax:b.max,ymin:c.min,ymax:c.max};if(!d)return a._scaleRanges=e,!0;const f=d.xmin!==b.min||d.xmax!==b.max||d.ymin!==c.min||d.ymax!==c.max;return Object.assign(d,e),f}yk.id="line",yk.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},yk.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class pl extends Ta{constructor(ql,rl){super(ql,rl),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(sl){const tl=this._cachedMeta,ul=this.chart,vl=ul.data.labels||[],wl=(0,d.o)(tl._parsed[sl].r,ul.options.locale);return{label:vl[sl]||"",value:wl}}update(xl){const yl=this._cachedMeta.data;this._updateRadius(),this.updateElements(yl,0,yl.length,xl)}_updateRadius(){const zl=this.chart,Al=zl.chartArea,Bl=zl.options,Cl=Math.min(Al.right-Al.left,Al.bottom-Al.top),Dl=Math.max(Cl/2,0),El=Math.max(Bl.cutoutPercentage?Dl/100*Bl.cutoutPercentage:1,0),Fl=(Dl-El)/zl.getVisibleDatasetCount();this.outerRadius=Dl-Fl*this.index,this.innerRadius=this.outerRadius-Fl}updateElements(Gl,Hl,Il,Jl){const Kl="reset"===Jl,Ll=this.chart,Ml=this.getDataset(),Nl=Ll.options,Ol=Nl.animation,Pl=this._cachedMeta.rScale,Ql=Pl.xCenter,Rl=Pl.yCenter,Sl=Pl.getIndexAngle(0)-0.5*d.P;let Tl=Sl,Ul;const Vl=360/this.countVisibleElements();for(Ul=0;Ul<Hl;++Ul)Tl+=this._computeAngle(Ul,Jl,Vl);for(Ul=Hl;Ul<Hl+Il;Ul++){const Wl=Gl[Ul];let Xl=Tl,Yl=Tl+this._computeAngle(Ul,Jl,Vl),Zl=Ll.getDataVisibility(Ul)?Pl.getDistanceFromCenterForValue(Ml.data[Ul]):0;Tl=Yl,Kl&&(Ol.animateScale&&(Zl=0),Ol.animateRotate&&(Xl=Yl=Sl));const $l={x:Ql,y:Rl,innerRadius:0,outerRadius:Zl,startAngle:Xl,endAngle:Yl,options:this.resolveDataElementOptions(Ul,Wl.active?"active":Jl)};this.updateElement(Wl,Ul,$l,Jl)}}countVisibleElements(){const _l=this.getDataset(),am=this._cachedMeta;let bm=0;return am.data.forEach((a,b)=>{!isNaN(_l.data[b])&&this.chart.getDataVisibility(b)&&bm++}),bm}_computeAngle(cm,dm,em){return this.chart.getDataVisibility(cm)?(0,d.t)(this.resolveDataElementOptions(cm,dm).angle||em):0}}pl.id="polarArea",pl.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},pl.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(a){const b=a.data;if(b.labels.length&&b.datasets.length){const{labels:{pointStyle:c}}=a.legend.options;return b.labels.map((b,d)=>{const e=a.getDatasetMeta(0),f=e.controller.getStyle(d);return{text:b,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,lineWidth:f.borderWidth,pointStyle:c,hidden:!a.getDataVisibility(d),index:d}})}return[]}},onClick(a,b,c){c.chart.toggleDataVisibility(b.index),c.chart.update()}},tooltip:{callbacks:{title(){return""},label(a){return a.chart.data.labels[a.dataIndex]+": "+a.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class fm extends Oi{}fm.id="pie",fm.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class gm extends Ta{getLabelAndValue(hm){const im=this._cachedMeta.vScale,jm=this.getParsed(hm);return{label:im.getLabels()[hm],value:""+im.getLabelForValue(jm[im.axis])}}update(km){const lm=this._cachedMeta,mm=lm.dataset,nm=lm.data||[],om=lm.iScale.getLabels();if(mm.points=nm,"resize"!==km){const pm=this.resolveDatasetElementOptions(km);this.options.showLine||(pm.borderWidth=0);const qm={_loop:!0,_fullLoop:om.length===nm.length,options:pm};this.updateElement(mm,void 0,qm,km)}this.updateElements(nm,0,nm.length,km)}updateElements(rm,sm,tm,um){const vm=this.getDataset(),wm=this._cachedMeta.rScale,xm="reset"===um;for(let ym=sm;ym<sm+tm;ym++){const zm=rm[ym],Am=this.resolveDataElementOptions(ym,zm.active?"active":um),Bm=wm.getPointPositionForValue(ym,vm.data[ym]),Cm=xm?wm.xCenter:Bm.x,Dm=xm?wm.yCenter:Bm.y,Em={x:Cm,y:Dm,angle:Bm.angle,skip:isNaN(Cm)||isNaN(Dm),options:Am};this.updateElement(zm,ym,Em,um)}}}gm.id="radar",gm.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},gm.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Fm extends yk{}function Gm(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}Fm.id="scatter",Fm.defaults={showLine:!1,fill:!1},Fm.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(a){return"("+a.label+", "+a.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}},Object.freeze({__proto__:null,BarController:zf,BubbleController:Lh,DoughnutController:Oi,LineController:yk,PolarAreaController:pl,PieController:fm,RadarController:gm,ScatterController:Fm});class Hm{constructor(Im){this.options=Im||{}}formats(){return Gm()}parse(Jm,Km){return Gm()}format(Lm,Mm){return Gm()}add(Nm,Om,Pm){return Gm()}diff(Qm,Rm,Sm){return Gm()}startOf(Tm,Um,Vm){return Gm()}endOf(Wm,Xm){return Gm()}}Hm.override=function(a){Object.assign(Hm.prototype,a)};var Ym={_date:Hm};function Zm(a,b){return"native"in a?{x:a.x,y:a.y}:(0,d.y)(a,b)}function $m(a,b,c,e){const{controller:f,data:g,_sorted:h}=a,i=f._cachedMeta.iScale;if(i&&b===i.axis&&h&&g.length){const j=i._reversePixels?d.A:d.x;if(!e)return j(g,b,c);if(f._sharedOptions){const k=g[0],l="function"==typeof k.getRange&&k.getRange(b);if(l){const m=j(g,b,c-l),n=j(g,b,c+l);return{lo:m.lo,hi:n.hi}}}}return{lo:0,hi:g.length-1}}function _m(a,b,c,d,e){const f=a.getSortedVisibleDatasetMetas(),g=c[b];for(let h=0,i=f.length;h<i;++h){const{index:j,data:k}=f[h],{lo:l,hi:m}=$m(f[h],b,g,e);for(let n=l;n<=m;++n){const o=k[n];o.skip||d(o,j,n)}}}function an(a,b,c,e){const f=[];return(0,d.z)(b,a.chartArea,a._minPadding)&&_m(a,c,b,function(a,c,d){a.inRange(b.x,b.y,e)&&f.push({element:a,datasetIndex:c,index:d})},!0),f}function bn(a,b,c,e,f){const g=function(a){const b=-1!==a.indexOf("x"),c=-1!==a.indexOf("y");return function(a,d){const e=b?Math.abs(a.x-d.x):0,f=c?Math.abs(a.y-d.y):0;return Math.sqrt(Math.pow(e,2)+Math.pow(f,2))}}(c);let h=Number.POSITIVE_INFINITY,i=[];return(0,d.z)(b,a.chartArea,a._minPadding)&&_m(a,c,b,function(c,j,k){if(!e||c.inRange(b.x,b.y,f)){const l=c.getCenterPoint(f);if((0,d.z)(l,a.chartArea,a._minPadding)||c.inRange(b.x,b.y,f)){const m=g(b,l);m<h?(i=[{element:c,datasetIndex:j,index:k}],h=m):m===h&&i.push({element:c,datasetIndex:j,index:k})}}}),i}function cn(a,b,c,d){const e=Zm(b,a),f=[],g=c.axis,h="x"===g?"inXRange":"inYRange";let i=!1;return(!function(a,b){const c=a.getSortedVisibleDatasetMetas();let d,e,f;for(let g=0,h=c.length;g<h;++g){({index:d,data:e}=c[g]);for(let i=0,j=e.length;i<j;++i)(f=e[i]).skip||b(f,d,i)}}(a,(a,b,c)=>{a[h](e[g],d)&&f.push({element:a,datasetIndex:b,index:c}),a.inRange(e.x,e.y,d)&&(i=!0)}),c.intersect&&!i)?[]:f}var dn={modes:{index(a,b,c,d){const e=Zm(b,a),f=c.axis||"x",g=c.intersect?an(a,e,f,d):bn(a,e,f,!1,d),h=[];return g.length?(a.getSortedVisibleDatasetMetas().forEach(a=>{const b=g[0].index,c=a.data[b];c&&!c.skip&&h.push({element:c,datasetIndex:a.index,index:b})}),h):[]},dataset(a,b,c,d){const e=Zm(b,a),f=c.axis||"xy";let g=c.intersect?an(a,e,f,d):bn(a,e,f,!1,d);if(g.length>0){const h=g[0].datasetIndex,i=a.getDatasetMeta(h).data;g=[];for(let j=0;j<i.length;++j)g.push({element:i[j],datasetIndex:h,index:j})}return g},point(a,b,c,d){const e=Zm(b,a),f=c.axis||"xy";return an(a,e,f,d)},nearest(a,b,c,d){const e=Zm(b,a),f=c.axis||"xy";return bn(a,e,f,c.intersect,d)},x(a,b,c,d){return cn(a,b,{axis:"x",intersect:c.intersect},d)},y(a,b,c,d){return cn(a,b,{axis:"y",intersect:c.intersect},d)}}};const en=["left","top","right","bottom"];function fn(a,b){return a.filter(a=>a.pos===b)}function gn(a,b){return a.filter(a=>-1===en.indexOf(a.pos)&&a.box.axis===b)}function hn(a,b){return a.sort((a,c)=>{const d=b?c:a,e=b?a:c;return d.weight===e.weight?d.index-e.index:d.weight-e.weight})}function jn(a,b,c,d){return Math.max(a[c],b[c])+Math.max(a[d],b[d])}function kn(a,b){a.top=Math.max(a.top,b.top),a.left=Math.max(a.left,b.left),a.bottom=Math.max(a.bottom,b.bottom),a.right=Math.max(a.right,b.right)}function ln(a,b,c,e){const{pos:f,box:g}=c,h=a.maxPadding;if(!(0,d.i)(f)){c.size&&(a[f]-=c.size);const i=e[c.stack]||{size:0,count:1};i.size=Math.max(i.size,c.horizontal?g.height:g.width),c.size=i.size/i.count,a[f]+=c.size}g.getPadding&&kn(h,g.getPadding());const j=Math.max(0,b.outerWidth-jn(h,a,"left","right")),k=Math.max(0,b.outerHeight-jn(h,a,"top","bottom")),l=j!==a.w,m=k!==a.h;return a.w=j,a.h=k,c.horizontal?{same:l,other:m}:{same:m,other:l}}function mn(a,b){const c=b.maxPadding;return(function(a){const d={left:0,top:0,right:0,bottom:0};return a.forEach(a=>{d[a]=Math.max(b[a],c[a])}),d})(a?["left","right"]:["top","bottom"])}function nn(a,b,c,d){const e=[];let f,g,h,i,j,k;for(f=0,g=a.length,j=0;f<g;++f){(i=(h=a[f]).box).update(h.width||b.w,h.height||b.h,mn(h.horizontal,b));const{same:l,other:m}=ln(b,c,h,d);j|=l&&e.length,k=k||m,i.fullSize||e.push(h)}return j&&nn(e,b,c,d)||k}function on(a,b,c,d,e){a.top=c,a.left=b,a.right=b+d,a.bottom=c+e,a.width=d,a.height=e}function pn(a,b,c,e){const f=c.padding;let{x:g,y:h}=b;for(const i of a){const j=i.box,k=e[i.stack]||{count:1,placed:0,weight:1},l=i.stackWeight/k.weight||1;if(i.horizontal){const m=b.w*l,n=k.size||j.height;(0,d.j)(k.start)&&(h=k.start),j.fullSize?on(j,f.left,h,c.outerWidth-f.right-f.left,n):on(j,b.left+k.placed,h,m,n),k.start=h,k.placed+=m,h=j.bottom}else{const o=b.h*l,p=k.size||j.width;(0,d.j)(k.start)&&(g=k.start),j.fullSize?on(j,g,f.top,p,c.outerHeight-f.bottom-f.top):on(j,g,b.top+k.placed,p,o),k.start=g,k.placed+=o,g=j.right}}b.x=g,b.y=h}d.d.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var qn={addBox(a,b){a.boxes||(a.boxes=[]),b.fullSize=b.fullSize||!1,b.position=b.position||"top",b.weight=b.weight||0,b._layers=b._layers||function(){return[{z:0,draw(a){b.draw(a)}}]},a.boxes.push(b)},removeBox(a,b){const c=a.boxes?a.boxes.indexOf(b):-1;-1!==c&&a.boxes.splice(c,1)},configure(a,b,c){b.fullSize=c.fullSize,b.position=c.position,b.weight=c.weight},update(a,b,c,e){if(a){const f=(0,d.B)(a.options.layout.padding),g=Math.max(b-f.width,0),h=Math.max(c-f.height,0),i=function(a){const b=function(a){const b=[];let c,d,e,f,g,h;for(c=0,d=(a||[]).length;c<d;++c)e=a[c],({position:f,options:{stack:g,stackWeight:h=1}}=e),b.push({index:c,box:e,pos:f,horizontal:e.isHorizontal(),weight:e.weight,stack:g&&f+g,stackWeight:h});return b}(a),c=hn(b.filter(a=>a.box.fullSize),!0),d=hn(fn(b,"left"),!0),e=hn(fn(b,"right")),f=hn(fn(b,"top"),!0),g=hn(fn(b,"bottom")),h=gn(b,"x"),i=gn(b,"y");return{fullSize:c,leftAndTop:d.concat(f),rightAndBottom:e.concat(i).concat(g).concat(h),chartArea:fn(b,"chartArea"),vertical:d.concat(e).concat(i),horizontal:f.concat(g).concat(h)}}(a.boxes),j=i.vertical,k=i.horizontal;(0,d.C)(a.boxes,a=>{"function"==typeof a.beforeLayout&&a.beforeLayout()});const l=j.reduce((a,b)=>b.box.options&& !1===b.box.options.display?a:a+1,0)||1,m=Object.freeze({outerWidth:b,outerHeight:c,padding:f,availableWidth:g,availableHeight:h,vBoxMaxWidth:g/2/l,hBoxMaxHeight:h/2}),n=Object.assign({},f);kn(n,(0,d.B)(e));const o=Object.assign({maxPadding:n,w:g,h:h,x:f.left,y:f.top},f),p=function(a,b){const c=function(a){const b={};for(const c of a){const{stack:d,pos:e,stackWeight:f}=c;if(d&&en.includes(e)){const g=b[d]||(b[d]={count:0,placed:0,weight:0,size:0});g.count++,g.weight+=f}}return b}(a),{vBoxMaxWidth:d,hBoxMaxHeight:e}=b;let f,g,h;for(f=0,g=a.length;f<g;++f){h=a[f];const{fullSize:i}=h.box,j=c[h.stack],k=j&&h.stackWeight/j.weight;h.horizontal?(h.width=k?k*d:i&&b.availableWidth,h.height=e):(h.width=d,h.height=k?k*e:i&&b.availableHeight)}return c}(j.concat(k),m);nn(i.fullSize,o,m,p),nn(j,o,m,p),nn(k,o,m,p)&&nn(j,o,m,p),(function(a){const b=a.maxPadding;function c(c){const d=Math.max(b[c]-a[c],0);return a[c]+=d,d}a.y+=c("top"),a.x+=c("left"),c("right"),c("bottom")})(o),pn(i.leftAndTop,o,m,p),o.x+=o.w,o.y+=o.h,pn(i.rightAndBottom,o,m,p),a.chartArea={left:o.left,top:o.top,right:o.left+o.w,bottom:o.top+o.h,height:o.h,width:o.w},(0,d.C)(i.chartArea,b=>{const c=b.box;Object.assign(c,a.chartArea),c.update(o.w,o.h,{left:0,top:0,right:0,bottom:0})})}}};class rn{acquireContext(sn,tn){}releaseContext(un){return!1}addEventListener(vn,wn,xn){}removeEventListener(yn,zn,An){}getDevicePixelRatio(){return 1}getMaximumSize(Bn,Cn,Dn,En){return Cn=Math.max(0,Cn||Bn.width),Dn=Dn||Bn.height,{width:Cn,height:Math.max(0,En?Math.floor(Cn/En):Dn)}}isAttached(Fn){return!0}updateConfig(Gn){}}const Hn="$chartjs",In={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Jn=a=>null===a||""===a,Kn=!!d.I&&{passive:!0};function Ln(a,b,c){a.canvas.removeEventListener(b,c,Kn)}function Mn(a,b){for(const c of a)if(c===b||c.contains(b))return!0}function Nn(a,b,c){const d=a.canvas,e=new MutationObserver(a=>{let b=!1;for(const e of a)b=(b=b||Mn(e.addedNodes,d))&&!Mn(e.removedNodes,d);b&&c()});return e.observe(document,{childList:!0,subtree:!0}),e}function On(a,b,c){const d=a.canvas,e=new MutationObserver(a=>{let b=!1;for(const e of a)b=(b=b||Mn(e.removedNodes,d))&&!Mn(e.addedNodes,d);b&&c()});return e.observe(document,{childList:!0,subtree:!0}),e}const Pn=new Map();let Qn=0;function Rn(){const a=window.devicePixelRatio;a!==Qn&&(Qn=a,Pn.forEach((b,c)=>{c.currentDevicePixelRatio!==a&&b()}))}function Sn(a,b,c){var e,f;const g=a.canvas,h=g&&(0,d.E)(g);if(h){const i=(0,d.G)((a,b)=>{const d=h.clientWidth;c(a,b),d<h.clientWidth&&c()},window),j=new ResizeObserver(a=>{const b=a[0],c=b.contentRect.width,d=b.contentRect.height;(0!==c||0!==d)&&i(c,d)});return j.observe(h),e=a,f=i,Pn.size||window.addEventListener("resize",Rn),Pn.set(e,f),j}}function Tn(a,b,c){if(c&&c.disconnect(),"resize"===b){var d;d=a,Pn.delete(d),Pn.size||window.removeEventListener("resize",Rn)}}function Un(a,b,c){const e=a.canvas,f=(0,d.G)(b=>{null!==a.ctx&&c(function(a,b){const c=In[a.type]||a.type,{x:e,y:f}=(0,d.y)(a,b);return{type:c,chart:b,native:a,x:void 0!==e?e:null,y:void 0!==f?f:null}}(b,a))},a,a=>{const b=a[0];return[b,b.offsetX,b.offsetY]});return!function(a,b,c){a.addEventListener(b,c,Kn)}(e,b,f),f}class Vn{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(Wn){const{x:Xn,y:Yn}=this.getProps(["x","y"],Wn);return{x:Xn,y:Yn}}hasValue(){return(0,d.q)(this.x)&&(0,d.q)(this.y)}getProps(Zn,$n){const _n=this.$animations;if(!$n||!_n)return this;const ao={};return Zn.forEach(a=>{ao[a]=_n[a]&&_n[a].active()?_n[a]._to:this[a]}),ao}}Vn.defaults={},Vn.defaultRoutes=void 0;const bo={values(a){return(0,d.b)(a)?a:""+a},numeric(a,b,c){if(0===a)return"0";const e=this.chart.options.locale;let f,g=a;if(c.length>1){const h=Math.max(Math.abs(c[0].value),Math.abs(c[c.length-1].value));(h<0.0001||h>10e14)&&(f="scientific"),g=co(a,c)}const i=(0,d.K)(Math.abs(g)),j=Math.max(Math.min(-1*Math.floor(i),20),0),k={notation:f,minimumFractionDigits:j,maximumFractionDigits:j};return Object.assign(k,this.options.ticks.format),(0,d.o)(a,e,k)},logarithmic(a,b,c){if(0===a)return"0";const e=a/Math.pow(10,Math.floor((0,d.K)(a)));return 1===e||2===e||5===e?bo.numeric.call(this,a,b,c):""}};function co(a,b){let c=b.length>3?b[2].value-b[1].value:b[1].value-b[0].value;return Math.abs(c)>=1&&a!==Math.floor(a)&&(c=a-Math.floor(a)),c}var eo={formatters:bo};function fo(a,b,c,e,f){const g=(0,d.v)(e,0),h=Math.min((0,d.v)(f,a.length),a.length);let i=0,j,k,l;for(c=Math.ceil(c),f&&(c=(j=f-e)/Math.floor(j/c)),l=g;l<0;)i++,l=Math.round(g+i*c);for(k=Math.max(g,0);k<h;k++)k===l&&(b.push(a[k]),i++,l=Math.round(g+i*c))}d.d.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(a,b)=>b.lineWidth,tickColor:(a,b)=>b.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:eo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),d.d.route("scale.ticks","color","","color"),d.d.route("scale.grid","color","","borderColor"),d.d.route("scale.grid","borderColor","","borderColor"),d.d.route("scale.title","color","","color"),d.d.describe("scale",{_fallback:!1,_scriptable:a=>!a.startsWith("before")&&!a.startsWith("after")&&"callback"!==a&&"parser"!==a,_indexable:a=>"borderDash"!==a&&"tickBorderDash"!==a}),d.d.describe("scales",{_fallback:"scale"}),d.d.describe("scale.ticks",{_scriptable:a=>"backdropPadding"!==a&&"callback"!==a,_indexable:a=>"backdropPadding"!==a});const go=a=>"left"===a?"right":"right"===a?"left":a,ho=(a,b,c)=>"top"===b||"left"===b?a[b]+c:a[b]-c;function io(a,b){const c=[],d=a.length/b,e=a.length;let f=0;for(;f<e;f+=d)c.push(a[Math.floor(f)]);return c}function jo(a,b,c){const d=a.ticks.length,e=Math.min(b,d-1),f=a._startPixel,g=a._endPixel;let h=a.getPixelForTick(e),i;if(!c||(i=1===d?Math.max(h-f,g-h):0===b?(a.getPixelForTick(1)-h)/2:(h-a.getPixelForTick(e-1))/2,h+=e<b?i:-i,!(h<f-0.000001)&&!(h>g+0.000001)))return h}function ko(a){return a.drawTicks?a.tickLength:0}function lo(a,b){if(!a.display)return 0;const c=(0,d.Y)(a.font,b),e=(0,d.B)(a.padding),f=(0,d.b)(a.text)?a.text.length:1;return f*c.lineHeight+e.height}class mo extends Vn{constructor(no){super(),this.id=no.id,this.type=no.type,this.options=void 0,this.ctx=no.ctx,this.chart=no.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(oo){this.options=oo.setContext(this.getContext()),this.axis=oo.axis,this._userMin=this.parse(oo.min),this._userMax=this.parse(oo.max),this._suggestedMin=this.parse(oo.suggestedMin),this._suggestedMax=this.parse(oo.suggestedMax)}parse(po,qo){return po}getUserBounds(){let{_userMin:ro,_userMax:so,_suggestedMin:to,_suggestedMax:uo}=this;return ro=(0,d.M)(ro,Number.POSITIVE_INFINITY),so=(0,d.M)(so,Number.NEGATIVE_INFINITY),to=(0,d.M)(to,Number.POSITIVE_INFINITY),uo=(0,d.M)(uo,Number.NEGATIVE_INFINITY),{min:(0,d.M)(ro,to),max:(0,d.M)(so,uo),minDefined:(0,d.g)(ro),maxDefined:(0,d.g)(so)}}getMinMax(vo){let{min:wo,max:xo,minDefined:yo,maxDefined:zo}=this.getUserBounds(),Ao;if(yo&&zo)return{min:wo,max:xo};const Bo=this.getMatchingVisibleMetas();for(let Co=0,Do=Bo.length;Co<Do;++Co)Ao=Bo[Co].controller.getMinMax(this,vo),yo||(wo=Math.min(wo,Ao.min)),zo||(xo=Math.max(xo,Ao.max));return wo=zo&&wo>xo?xo:wo,xo=yo&&wo>xo?wo:xo,{min:(0,d.M)(wo,(0,d.M)(xo,wo)),max:(0,d.M)(xo,(0,d.M)(wo,xo))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const Eo=this.chart.data;return this.options.labels||(this.isHorizontal()?Eo.xLabels:Eo.yLabels)||Eo.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){(0,d.N)(this.options.beforeUpdate,[this])}update(Fo,Go,Ho){const{beginAtZero:Io,grace:Jo,ticks:Ko}=this.options,Lo=Ko.sampleSize;this.beforeUpdate(),this.maxWidth=Fo,this.maxHeight=Go,this._margins=Ho=Object.assign({left:0,right:0,top:0,bottom:0},Ho),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+Ho.left+Ho.right:this.height+Ho.top+Ho.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=(0,d.O)(this,Jo,Io),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const Mo=Lo<this.ticks.length;this._convertTicksToLabels(Mo?io(this.ticks,Lo):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),Ko.display&&(Ko.autoSkip||"auto"===Ko.source)&&(this.ticks=(function(a,b){const c=a.options.ticks,e=c.maxTicksLimit||function(a){const b=a.options.offset,c=a._tickSize(),d=a._length/c+(b?0:1),e=a._maxLength/c;return Math.floor(Math.min(d,e))}(a),f=c.major.enabled?function(a){const b=[];let c,d;for(c=0,d=a.length;c<d;c++)a[c].major&&b.push(c);return b}(b):[],g=f.length,h=f[0],i=f[g-1],j=[];if(g>e)return(function(a,b,c,d){let e=0,f=c[0],g;for(g=0,d=Math.ceil(d);g<a.length;g++)g===f&&(b.push(a[g]),e++,f=c[e*d])})(b,j,f,g/e),j;const k=function(a,b,c){const e=function(a){const b=a.length;let c,d;if(b<2)return!1;for(d=a[0],c=1;c<b;++c)if(a[c]-a[c-1]!==d)return!1;return d}(a),f=b.length/c;if(!e)return Math.max(f,1);const g=(0,d.L)(e);for(let h=0,i=g.length-1;h<i;h++){const j=g[h];if(j>f)return j}return Math.max(f,1)}(f,b,e);if(g>0){let l,m;const n=g>1?Math.round((i-h)/(g-1)):null;for(fo(b,j,k,(0,d.k)(n)?0:h-n,h),l=0,m=g-1;l<m;l++)fo(b,j,k,f[l],f[l+1]);return fo(b,j,k,i,(0,d.k)(n)?b.length:i+n),j}return fo(b,j,k),j})(this,this.ticks),this._labelSizes=null),Mo&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let No=this.options.reverse,Oo,Po;this.isHorizontal()?(Oo=this.left,Po=this.right):(Oo=this.top,Po=this.bottom,No=!No),this._startPixel=Oo,this._endPixel=Po,this._reversePixels=No,this._length=Po-Oo,this._alignToPixels=this.options.alignToPixels}afterUpdate(){(0,d.N)(this.options.afterUpdate,[this])}beforeSetDimensions(){(0,d.N)(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){(0,d.N)(this.options.afterSetDimensions,[this])}_callHooks(Qo){this.chart.notifyPlugins(Qo,this.getContext()),(0,d.N)(this.options[Qo],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){(0,d.N)(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(Ro){const So=this.options.ticks;let To,Uo,Vo;for(To=0,Uo=Ro.length;To<Uo;To++)(Vo=Ro[To]).label=(0,d.N)(So.callback,[Vo.value,To,Ro],this)}afterTickToLabelConversion(){(0,d.N)(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){(0,d.N)(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const Wo=this.options,Xo=Wo.ticks,Yo=this.ticks.length,Zo=Xo.minRotation||0,$o=Xo.maxRotation;let _o=Zo,ap,bp,cp;if(!this._isVisible()||!Xo.display||Zo>=$o||Yo<=1||!this.isHorizontal()){this.labelRotation=Zo;return}const dp=this._getLabelSizes(),ep=dp.widest.width,fp=dp.highest.height,gp=(0,d.w)(this.chart.width-ep,0,this.maxWidth);ep+6>(ap=Wo.offset?this.maxWidth/Yo:gp/(Yo-1))&&(ap=gp/(Yo-(Wo.offset?0.5:1)),bp=this.maxHeight-ko(Wo.grid)-Xo.padding-lo(Wo.title,this.chart.options.font),cp=Math.sqrt(ep*ep+fp*fp),_o=(0,d.Q)(Math.min(Math.asin((0,d.w)((dp.highest.height+6)/ap,-1,1)),Math.asin((0,d.w)(bp/cp,-1,1))-Math.asin((0,d.w)(fp/cp,-1,1)))),_o=Math.max(Zo,Math.min($o,_o))),this.labelRotation=_o}afterCalculateLabelRotation(){(0,d.N)(this.options.afterCalculateLabelRotation,[this])}beforeFit(){(0,d.N)(this.options.beforeFit,[this])}fit(){const hp={width:0,height:0},{chart:ip,options:{ticks:jp,title:kp,grid:lp}}=this,mp=this._isVisible(),np=this.isHorizontal();if(mp){const op=lo(kp,ip.options.font);if(np?(hp.width=this.maxWidth,hp.height=ko(lp)+op):(hp.height=this.maxHeight,hp.width=ko(lp)+op),jp.display&&this.ticks.length){const{first:pp,last:qp,widest:rp,highest:sp}=this._getLabelSizes(),tp=2*jp.padding,up=(0,d.t)(this.labelRotation),vp=Math.cos(up),wp=Math.sin(up);if(np){const xp=jp.mirror?0:wp*rp.width+vp*sp.height;hp.height=Math.min(this.maxHeight,hp.height+xp+tp)}else{const yp=jp.mirror?0:vp*rp.width+wp*sp.height;hp.width=Math.min(this.maxWidth,hp.width+yp+tp)}this._calculatePadding(pp,qp,wp,vp)}}this._handleMargins(),np?(this.width=this._length=ip.width-this._margins.left-this._margins.right,this.height=hp.height):(this.width=hp.width,this.height=this._length=ip.height-this._margins.top-this._margins.bottom)}_calculatePadding(zp,Ap,Bp,Cp){const{ticks:{align:Dp,padding:Ep},position:Fp}=this.options,Gp=0!==this.labelRotation,Hp="top"!==Fp&&"x"===this.axis;if(this.isHorizontal()){const Ip=this.getPixelForTick(0)-this.left,Jp=this.right-this.getPixelForTick(this.ticks.length-1);let Kp=0,Lp=0;Gp?Hp?(Kp=Cp*zp.width,Lp=Bp*Ap.height):(Kp=Bp*zp.height,Lp=Cp*Ap.width):"start"===Dp?Lp=Ap.width:"end"===Dp?Kp=zp.width:(Kp=zp.width/2,Lp=Ap.width/2),this.paddingLeft=Math.max((Kp-Ip+Ep)*this.width/(this.width-Ip),0),this.paddingRight=Math.max((Lp-Jp+Ep)*this.width/(this.width-Jp),0)}else{let Mp=Ap.height/2,Np=zp.height/2;"start"===Dp?(Mp=0,Np=zp.height):"end"===Dp&&(Mp=Ap.height,Np=0),this.paddingTop=Mp+Ep,this.paddingBottom=Np+Ep}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){(0,d.N)(this.options.afterFit,[this])}isHorizontal(){const{axis:Op,position:Pp}=this.options;return"top"===Pp||"bottom"===Pp||"x"===Op}isFullSize(){return this.options.fullSize}_convertTicksToLabels(Qp){this.beforeTickToLabelConversion(),this.generateTickLabels(Qp);let Rp,Sp;for(Rp=0,Sp=Qp.length;Rp<Sp;Rp++)(0,d.k)(Qp[Rp].label)&&(Qp.splice(Rp,1),Sp--,Rp--);this.afterTickToLabelConversion()}_getLabelSizes(){let Tp=this._labelSizes;if(!Tp){const Up=this.options.ticks.sampleSize;let Vp=this.ticks;Up<Vp.length&&(Vp=io(Vp,Up)),this._labelSizes=Tp=this._computeLabelSizes(Vp,Vp.length)}return Tp}_computeLabelSizes(Wp,Xp){var Yp,Zp;const{ctx:$p,_longestTextCache:_p}=this,aq=[],bq=[];let cq=0,dq=0,eq,fq,gq,hq,iq,jq,kq,lq,mq,nq,oq;for(eq=0;eq<Xp;++eq){if(hq=Wp[eq].label,iq=this._resolveTickFontOptions(eq),$p.font=jq=iq.string,kq=_p[jq]=_p[jq]||{data:{},gc:[]},lq=iq.lineHeight,mq=nq=0,(0,d.k)(hq)||(0,d.b)(hq)){if((0,d.b)(hq))for(fq=0,gq=hq.length;fq<gq;++fq)oq=hq[fq],(0,d.k)(oq)||(0,d.b)(oq)||(mq=(0,d.R)($p,kq.data,kq.gc,mq,oq),nq+=lq)}else mq=(0,d.R)($p,kq.data,kq.gc,mq,hq),nq=lq;aq.push(mq),bq.push(nq),cq=Math.max(mq,cq),dq=Math.max(nq,dq)}Yp=_p,Zp=Xp,(0,d.C)(Yp,a=>{const b=a.gc,c=b.length/2;let d;if(c>Zp){for(d=0;d<c;++d)delete a.data[b[d]];b.splice(0,c)}});const pq=aq.indexOf(cq),qq=bq.indexOf(dq),rq=a=>({width:aq[a]||0,height:bq[a]||0});return{first:rq(0),last:rq(Xp-1),widest:rq(pq),highest:rq(qq),widths:aq,heights:bq}}getLabelForValue(sq){return sq}getPixelForValue(tq,uq){return NaN}getValueForPixel(vq){}getPixelForTick(wq){const xq=this.ticks;return wq<0||wq>xq.length-1?null:this.getPixelForValue(xq[wq].value)}getPixelForDecimal(yq){this._reversePixels&&(yq=1-yq);const zq=this._startPixel+yq*this._length;return(0,d.S)(this._alignToPixels?(0,d.U)(this.chart,zq,0):zq)}getDecimalForPixel(Aq){const Bq=(Aq-this._startPixel)/this._length;return this._reversePixels?1-Bq:Bq}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:Cq,max:Dq}=this;return Cq<0&&Dq<0?Dq:Cq>0&&Dq>0?Cq:0}getContext(Eq){var Fq,Gq,Hq,Iq,Jq;const Kq=this.ticks||[];if(Eq>=0&&Eq<Kq.length){const Lq=Kq[Eq];return Lq.$context||(Lq.$context=(Fq=this.getContext(),Gq=Eq,Hq=Lq,(0,d.h)(Fq,{tick:Hq,index:Gq,type:"tick"})))}return this.$context||(this.$context=(Iq=this.chart.getContext(),Jq=this,(0,d.h)(Iq,{scale:Jq,type:"scale"})))}_tickSize(){const Mq=this.options.ticks,Nq=(0,d.t)(this.labelRotation),Oq=Math.abs(Math.cos(Nq)),Pq=Math.abs(Math.sin(Nq)),Qq=this._getLabelSizes(),Rq=Mq.autoSkipPadding||0,Sq=Qq?Qq.widest.width+Rq:0,Tq=Qq?Qq.highest.height+Rq:0;return this.isHorizontal()?Tq*Oq>Sq*Pq?Sq/Oq:Tq/Pq:Tq*Pq<Sq*Oq?Tq/Oq:Sq/Pq}_isVisible(){const Uq=this.options.display;return"auto"!==Uq?!!Uq:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(Vq){const Wq=this.axis,Xq=this.chart,Yq=this.options,{grid:Zq,position:$q}=Yq,_q=Zq.offset,ar=this.isHorizontal(),br=this.ticks,cr=br.length+(_q?1:0),dr=ko(Zq),er=[],fr=Zq.setContext(this.getContext()),gr=fr.drawBorder?fr.borderWidth:0,hr=gr/2,ir=function(a){return(0,d.U)(Xq,a,gr)};let jr,kr,lr,mr,nr,or,pr,qr,rr,sr,tr,ur;if("top"===$q)jr=ir(this.bottom),or=this.bottom-dr,qr=jr-hr,sr=ir(Vq.top)+hr,ur=Vq.bottom;else if("bottom"===$q)jr=ir(this.top),sr=Vq.top,ur=ir(Vq.bottom)-hr,or=jr+hr,qr=this.top+dr;else if("left"===$q)jr=ir(this.right),nr=this.right-dr,pr=jr-hr,rr=ir(Vq.left)+hr,tr=Vq.right;else if("right"===$q)jr=ir(this.left),rr=Vq.left,tr=ir(Vq.right)-hr,nr=jr+hr,pr=this.left+dr;else if("x"===Wq){if("center"===$q)jr=ir((Vq.top+Vq.bottom)/2+0.5);else if((0,d.i)($q)){const vr=Object.keys($q)[0],wr=$q[vr];jr=ir(this.chart.scales[vr].getPixelForValue(wr))}sr=Vq.top,ur=Vq.bottom,or=jr+hr,qr=or+dr}else if("y"===Wq){if("center"===$q)jr=ir((Vq.left+Vq.right)/2);else if((0,d.i)($q)){const xr=Object.keys($q)[0],yr=$q[xr];jr=ir(this.chart.scales[xr].getPixelForValue(yr))}pr=(nr=jr-hr)-dr,rr=Vq.left,tr=Vq.right}const zr=(0,d.v)(Yq.ticks.maxTicksLimit,cr),Ar=Math.max(1,Math.ceil(cr/zr));for(kr=0;kr<cr;kr+=Ar){const Br=Zq.setContext(this.getContext(kr)),Cr=Br.lineWidth,Dr=Br.color,Er=Zq.borderDash||[],Fr=Br.borderDashOffset,Gr=Br.tickWidth,Hr=Br.tickColor,Ir=Br.tickBorderDash||[],Jr=Br.tickBorderDashOffset;void 0!==(lr=jo(this,kr,_q))&&(mr=(0,d.U)(Xq,lr,Cr),ar?nr=pr=rr=tr=mr:or=qr=sr=ur=mr,er.push({tx1:nr,ty1:or,tx2:pr,ty2:qr,x1:rr,y1:sr,x2:tr,y2:ur,width:Cr,color:Dr,borderDash:Er,borderDashOffset:Fr,tickWidth:Gr,tickColor:Hr,tickBorderDash:Ir,tickBorderDashOffset:Jr}))}return this._ticksLength=cr,this._borderValue=jr,er}_computeLabelItems(Kr){const Lr=this.axis,Mr=this.options,{position:Nr,ticks:Or}=Mr,Pr=this.isHorizontal(),Qr=this.ticks,{align:Rr,crossAlign:Sr,padding:Tr,mirror:Ur}=Or,Vr=ko(Mr.grid),Wr=Vr+Tr,Xr=Ur?-Tr:Wr,Yr=-(0,d.t)(this.labelRotation),Zr=[];let $r,_r,as,bs,cs,ds,es,fs,gs,hs,is,js="middle";if("top"===Nr)cs=this.bottom-Xr,ds=this._getXAxisLabelAlignment();else if("bottom"===Nr)cs=this.top+Xr,ds=this._getXAxisLabelAlignment();else if("left"===Nr){const ks=this._getYAxisLabelAlignment(Vr);ds=ks.textAlign,bs=ks.x}else if("right"===Nr){const ls=this._getYAxisLabelAlignment(Vr);ds=ls.textAlign,bs=ls.x}else if("x"===Lr){if("center"===Nr)cs=(Kr.top+Kr.bottom)/2+Wr;else if((0,d.i)(Nr)){const ms=Object.keys(Nr)[0],ns=Nr[ms];cs=this.chart.scales[ms].getPixelForValue(ns)+Wr}ds=this._getXAxisLabelAlignment()}else if("y"===Lr){if("center"===Nr)bs=(Kr.left+Kr.right)/2-Wr;else if((0,d.i)(Nr)){const os=Object.keys(Nr)[0],ps=Nr[os];bs=this.chart.scales[os].getPixelForValue(ps)}ds=this._getYAxisLabelAlignment(Vr).textAlign}"y"===Lr&&("start"===Rr?js="top":"end"===Rr&&(js="bottom"));const qs=this._getLabelSizes();for($r=0,_r=Qr.length;$r<_r;++$r){as=Qr[$r].label;const rs=Or.setContext(this.getContext($r));es=this.getPixelForTick($r)+Or.labelOffset,gs=(fs=this._resolveTickFontOptions($r)).lineHeight,hs=(0,d.b)(as)?as.length:1;const ss=hs/2,ts=rs.color,us=rs.textStrokeColor,vs=rs.textStrokeWidth;Pr?(bs=es,is="top"===Nr?"near"===Sr||0!==Yr?-hs*gs+gs/2:"center"===Sr?-qs.highest.height/2-ss*gs+gs:-qs.highest.height+gs/2:"near"===Sr||0!==Yr?gs/2:"center"===Sr?qs.highest.height/2-ss*gs:qs.highest.height-hs*gs,Ur&&(is*=-1)):(cs=es,is=(1-hs)*gs/2);let ws;if(rs.showLabelBackdrop){const xs=(0,d.B)(rs.backdropPadding),ys=qs.heights[$r],zs=qs.widths[$r];let As=cs+is-xs.top,Bs=bs-xs.left;switch(js){case"middle":As-=ys/2;break;case"bottom":As-=ys;break}switch(ds){case"center":Bs-=zs/2;break;case"right":Bs-=zs;break}ws={left:Bs,top:As,width:zs+xs.width,height:ys+xs.height,color:rs.backdropColor}}Zr.push({rotation:Yr,label:as,font:fs,color:ts,strokeColor:us,strokeWidth:vs,textOffset:is,textAlign:ds,textBaseline:js,translation:[bs,cs],backdrop:ws})}return Zr}_getXAxisLabelAlignment(){const{position:Cs,ticks:Ds}=this.options,Es=-(0,d.t)(this.labelRotation);if(Es)return"top"===Cs?"left":"right";let Fs="center";return"start"===Ds.align?Fs="left":"end"===Ds.align&&(Fs="right"),Fs}_getYAxisLabelAlignment(Gs){const{position:Hs,ticks:{crossAlign:Is,mirror:Js,padding:Ks}}=this.options,Ls=this._getLabelSizes(),Ms=Gs+Ks,Ns=Ls.widest.width;let Os,Ps;return"left"===Hs?Js?(Ps=this.right+Ks,"near"===Is?Os="left":"center"===Is?(Os="center",Ps+=Ns/2):(Os="right",Ps+=Ns)):(Ps=this.right-Ms,"near"===Is?Os="right":"center"===Is?(Os="center",Ps-=Ns/2):(Os="left",Ps=this.left)):"right"===Hs?Js?(Ps=this.left+Ks,"near"===Is?Os="right":"center"===Is?(Os="center",Ps-=Ns/2):(Os="left",Ps-=Ns)):(Ps=this.left+Ms,"near"===Is?Os="left":"center"===Is?(Os="center",Ps+=Ns/2):(Os="right",Ps=this.right)):Os="right",{textAlign:Os,x:Ps}}_computeLabelArea(){if(!this.options.ticks.mirror){const Qs=this.chart,Rs=this.options.position;return"left"===Rs||"right"===Rs?{top:0,left:this.left,bottom:Qs.height,right:this.right}:"top"===Rs||"bottom"===Rs?{top:this.top,left:0,bottom:this.bottom,right:Qs.width}:void 0}}drawBackground(){const{ctx:Ss,options:{backgroundColor:Ts},left:Us,top:Vs,width:Ws,height:Xs}=this;Ts&&(Ss.save(),Ss.fillStyle=Ts,Ss.fillRect(Us,Vs,Ws,Xs),Ss.restore())}getLineWidthForValue(Ys){const Zs=this.options.grid;if(!this._isVisible()||!Zs.display)return 0;const $s=this.ticks,_s=$s.findIndex(a=>a.value===Ys);if(_s>=0){const at=Zs.setContext(this.getContext(_s));return at.lineWidth}return 0}drawGrid(bt){const ct=this.options.grid,dt=this.ctx,et=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(bt));let ft,gt;const ht=(a,b,c)=>{c.width&&c.color&&(dt.save(),dt.lineWidth=c.width,dt.strokeStyle=c.color,dt.setLineDash(c.borderDash||[]),dt.lineDashOffset=c.borderDashOffset,dt.beginPath(),dt.moveTo(a.x,a.y),dt.lineTo(b.x,b.y),dt.stroke(),dt.restore())};if(ct.display)for(ft=0,gt=et.length;ft<gt;++ft){const it=et[ft];ct.drawOnChartArea&&ht({x:it.x1,y:it.y1},{x:it.x2,y:it.y2},it),ct.drawTicks&&ht({x:it.tx1,y:it.ty1},{x:it.tx2,y:it.ty2},{color:it.tickColor,width:it.tickWidth,borderDash:it.tickBorderDash,borderDashOffset:it.tickBorderDashOffset})}}drawBorder(){const{chart:jt,ctx:kt,options:{grid:lt}}=this,mt=lt.setContext(this.getContext()),nt=lt.drawBorder?mt.borderWidth:0;if(nt){const ot=lt.setContext(this.getContext(0)).lineWidth,pt=this._borderValue;let qt,rt,st,tt;this.isHorizontal()?(qt=(0,d.U)(jt,this.left,nt)-nt/2,rt=(0,d.U)(jt,this.right,ot)+ot/2,st=tt=pt):(st=(0,d.U)(jt,this.top,nt)-nt/2,tt=(0,d.U)(jt,this.bottom,ot)+ot/2,qt=rt=pt),kt.save(),kt.lineWidth=mt.borderWidth,kt.strokeStyle=mt.borderColor,kt.beginPath(),kt.moveTo(qt,st),kt.lineTo(rt,tt),kt.stroke(),kt.restore()}}drawLabels(ut){const vt=this.options.ticks;if(vt.display){const wt=this.ctx,xt=this._computeLabelArea();xt&&(0,d.V)(wt,xt);const yt=this._labelItems||(this._labelItems=this._computeLabelItems(ut));let zt,At;for(zt=0,At=yt.length;zt<At;++zt){const Bt=yt[zt],Ct=Bt.font,Dt=Bt.label;Bt.backdrop&&(wt.fillStyle=Bt.backdrop.color,wt.fillRect(Bt.backdrop.left,Bt.backdrop.top,Bt.backdrop.width,Bt.backdrop.height));let Et=Bt.textOffset;(0,d.W)(wt,Dt,0,Et,Ct,Bt)}xt&&(0,d.X)(wt)}}drawTitle(){var Ft,Gt,Ht;const{ctx:It,options:{position:Jt,title:Kt,reverse:Lt}}=this;if(Kt.display){const Mt=(0,d.Y)(Kt.font),Nt=(0,d.B)(Kt.padding),Ot=Kt.align;let Pt=Mt.lineHeight/2;"bottom"===Jt||"center"===Jt||(0,d.i)(Jt)?(Pt+=Nt.bottom,(0,d.b)(Kt.text)&&(Pt+=Mt.lineHeight*(Kt.text.length-1))):Pt+=Nt.top;const{titleX:Qt,titleY:Rt,maxWidth:St,rotation:Tt}=function(a,b,c,e){const{top:f,left:g,bottom:h,right:i,chart:j}=a,{chartArea:k,scales:l}=j;let m=0,n,o,p;const q=h-f,r=i-g;if(a.isHorizontal()){if(o=(0,d.$)(e,g,i),(0,d.i)(c)){const s=Object.keys(c)[0],t=c[s];p=l[s].getPixelForValue(t)+q-b}else p="center"===c?(k.bottom+k.top)/2+q-b:ho(a,c,b);n=i-g}else{if((0,d.i)(c)){const u=Object.keys(c)[0],v=c[u];o=l[u].getPixelForValue(v)-r+b}else o="center"===c?(k.left+k.right)/2-r+b:ho(a,c,b);p=(0,d.$)(e,h,f),m="left"===c?-d.H:d.H}return{titleX:o,titleY:p,maxWidth:n,rotation:m}}(this,Pt,Jt,Ot);let Ut;(0,d.W)(It,Kt.text,0,0,Mt,{color:Kt.color,maxWidth:St,rotation:Tt,textAlign:(Ft=Ot,Gt=Jt,Ht=Lt,Ut=(0,d.Z)(Ft),(Ht&&"right"!==Gt|| !Ht&&"right"===Gt)&&(Ut=go(Ut)),Ut),textBaseline:"middle",translation:[Qt,Rt]})}}draw(Vt){this._isVisible()&&(this.drawBackground(),this.drawGrid(Vt),this.drawBorder(),this.drawTitle(),this.drawLabels(Vt))}_layers(){const Wt=this.options,Xt=Wt.ticks&&Wt.ticks.z||0,Yt=(0,d.v)(Wt.grid&&Wt.grid.z,-1);return this._isVisible()&&this.draw===mo.prototype.draw?[{z:Yt,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:Yt+1,draw:()=>{this.drawBorder()}},{z:Xt,draw:a=>{this.drawLabels(a)}}]:[{z:Xt,draw:a=>{this.draw(a)}}]}getMatchingVisibleMetas(Zt){const $t=this.chart.getSortedVisibleDatasetMetas(),_t=this.axis+"AxisID",au=[];let bu,cu;for(bu=0,cu=$t.length;bu<cu;++bu){const du=$t[bu];du[_t]!==this.id||Zt&&du.type!==Zt||au.push(du)}return au}_resolveTickFontOptions(eu){const fu=this.options.ticks.setContext(this.getContext(eu));return(0,d.Y)(fu.font)}_maxDigits(){const gu=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/gu}}class hu{constructor(iu,ju,ku){this.type=iu,this.scope=ju,this.override=ku,this.items=Object.create(null)}isForType(lu){return Object.prototype.isPrototypeOf.call(this.type.prototype,lu.prototype)}register(mu){const nu=Object.getPrototypeOf(mu);let ou;zu(nu)&&(ou=this.register(nu));const pu=this.items,qu=mu.id,ru=this.scope+"."+qu;if(!qu)throw new Error("class does not have id: "+mu);return qu in pu||(pu[qu]=mu,xu(mu,ru,ou),this.override&&d.d.override(mu.id,mu.overrides)),ru}get(su){return this.items[su]}unregister(tu){const uu=this.items,vu=tu.id,wu=this.scope;vu in uu&&delete uu[vu],wu&&vu in d.d[wu]&&(delete d.d[wu][vu],this.override&&delete d.a0[vu])}}function xu(a,b,c){const e=(0,d.a1)(Object.create(null),[c?d.d.get(c):{},d.d.get(b),a.defaults]);d.d.set(b,e),a.defaultRoutes&&yu(b,a.defaultRoutes),a.descriptors&&d.d.describe(b,a.descriptors)}function yu(a,b){Object.keys(b).forEach(c=>{const e=c.split("."),f=e.pop(),g=[a].concat(e).join("."),h=b[c].split("."),i=h.pop(),j=h.join(".");d.d.route(g,f,j,i)})}function zu(a){return"id"in a&&"defaults"in a}var Au=new class{constructor(){this.controllers=new hu(Ta,"datasets",!0),this.elements=new hu(Vn,"elements"),this.plugins=new hu(Object,"plugins"),this.scales=new hu(mo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...Bu){this._each("register",Bu)}remove(...Cu){this._each("unregister",Cu)}addControllers(...Du){this._each("register",Du,this.controllers)}addElements(...Eu){this._each("register",Eu,this.elements)}addPlugins(...Fu){this._each("register",Fu,this.plugins)}addScales(...Gu){this._each("register",Gu,this.scales)}getController(Hu){return this._get(Hu,this.controllers,"controller")}getElement(Iu){return this._get(Iu,this.elements,"element")}getPlugin(Ju){return this._get(Ju,this.plugins,"plugin")}getScale(Ku){return this._get(Ku,this.scales,"scale")}removeControllers(...Lu){this._each("unregister",Lu,this.controllers)}removeElements(...Mu){this._each("unregister",Mu,this.elements)}removePlugins(...Nu){this._each("unregister",Nu,this.plugins)}removeScales(...Ou){this._each("unregister",Ou,this.scales)}_each(Pu,Qu,Ru){[...Qu].forEach(a=>{const b=Ru||this._getRegistryForType(a);Ru||b.isForType(a)||b===this.plugins&&a.id?this._exec(Pu,b,a):(0,d.C)(a,a=>{const b=Ru||this._getRegistryForType(a);this._exec(Pu,b,a)})})}_exec(Su,Tu,Uu){const Vu=(0,d.a2)(Su);(0,d.N)(Uu["before"+Vu],[],Uu),Tu[Su](Uu),(0,d.N)(Uu["after"+Vu],[],Uu)}_getRegistryForType(Wu){for(let Xu=0;Xu<this._typedRegistries.length;Xu++){const Yu=this._typedRegistries[Xu];if(Yu.isForType(Wu))return Yu}return this.plugins}_get(Zu,$u,_u){const av=$u.get(Zu);if(void 0===av)throw new Error("\""+Zu+"\" is not a registered "+_u+".");return av}}();function bv(a,b){return b|| !1!==a?!0===a?{}:a:null}function cv(a,b,c,d){const e=a.pluginScopeKeys(b),f=a.getOptionScopes(c,e);return a.createResolver(f,d,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function dv(a,b){const c=d.d.datasets[a]||{},e=(b.datasets||{})[a]||{};return e.indexAxis||b.indexAxis||c.indexAxis||"x"}function ev(a,b){var c;return"x"===a||"y"===a?a:b.axis||("top"===(c=b.position)||"bottom"===c?"x":"left"===c||"right"===c?"y":void 0)||a.charAt(0).toLowerCase()}function fv(a){const b=a.options||(a.options={});b.plugins=(0,d.v)(b.plugins,{}),b.scales=(function(a,b){const c=d.a0[a.type]||{scales:{}},e=b.scales||{},f=dv(a.type,b),g=Object.create(null),h=Object.create(null);return Object.keys(e).forEach(a=>{const b=e[a];if(!(0,d.i)(b))return console.error(`Invalid scale configuration for scale: ${a}`);if(b._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const i=ev(a,b),j=i===f?"_index_":"_value_",k=c.scales||{};g[i]=g[i]||a,h[a]=(0,d.a8)(Object.create(null),[{axis:i},b,k[i],k[j]])}),a.data.datasets.forEach(c=>{const f=c.type||a.type,i=c.indexAxis||dv(f,b),j=d.a0[f]||{},k=j.scales||{};Object.keys(k).forEach(a=>{var b,f;let j;const l=(b=a,f=i,j=b,"_index_"===b?j=f:"_value_"===b&&(j="x"===f?"y":"x"),j),m=c[l+"AxisID"]||g[l]||l;h[m]=h[m]||Object.create(null),(0,d.a8)(h[m],[{axis:l},e[m],k[a]])})}),Object.keys(h).forEach(a=>{const b=h[a];(0,d.a8)(b,[d.d.scales[b.type],d.d.scale])}),h})(a,b)}function gv(a){return(a=a||{}).datasets=a.datasets||[],a.labels=a.labels||[],a}const hv=new Map(),iv=new Set();function jv(a,b){let c=hv.get(a);return c||(c=b(),hv.set(a,c),iv.add(c)),c}const kv=(a,b,c)=>{const e=(0,d.f)(b,c);void 0!==e&&a.add(e)};function lv(a,b,c){let e=a.get(b);e||(e=new Map(),a.set(b,e));const f=c.join();let g=e.get(f);if(!g){const h=(0,d.a6)(b,c);g={resolver:h,subPrefixes:c.filter(a=>!a.toLowerCase().includes("hover"))},e.set(f,g)}return g}const mv=a=>(0,d.i)(a)&&Object.getOwnPropertyNames(a).reduce((b,c)=>b||(0,d.a4)(a[c]),!1),nv=["top","bottom","left","right","chartArea"];function ov(a,b){return"top"===a||"bottom"===a|| -1===nv.indexOf(a)&&"x"===b}function pv(a,b){return function(c,d){return c[a]===d[a]?c[b]-d[b]:c[a]-d[a]}}function qv(a){const b=a.chart,c=b.options.animation;b.notifyPlugins("afterRender"),(0,d.N)(c&&c.onComplete,[a],b)}function rv(a){return(0,d.J)()&&"string"==typeof a?a=document.getElementById(a):a&&a.length&&(a=a[0]),a&&a.canvas&&(a=a.canvas),a}const sv={},tv=a=>{const b=rv(a);return Object.values(sv).filter(a=>a.canvas===b).pop()};function uv(a,b,c){const d=Object.keys(a);for(const e of d){const f=+e;if(f>=b){const g=a[e];delete a[e],(c>0||f>b)&&(a[f+c]=g)}}}class vv{constructor(wv,xv){var yv;const zv=this.config=new class{constructor(Av){var Bv;(Bv=(Bv=Av)||{}).data=gv(Bv.data),fv(Bv),this._config=Bv,this._scopeCache=new Map(),this._resolverCache=new Map()}get platform(){return this._config.platform}get type(){return this._config.type}set type(Cv){this._config.type=Cv}get data(){return this._config.data}set data(Dv){this._config.data=gv(Dv)}get options(){return this._config.options}set options(Ev){this._config.options=Ev}get plugins(){return this._config.plugins}update(){const Fv=this._config;this.clearCache(),fv(Fv)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(Gv){return jv(Gv,()=>[[`datasets.${Gv}`,""]])}datasetAnimationScopeKeys(Hv,Iv){return jv(`${Hv}.transition.${Iv}`,()=>[[`datasets.${Hv}.transitions.${Iv}`,`transitions.${Iv}`,],[`datasets.${Hv}`,""]])}datasetElementScopeKeys(Jv,Kv){return jv(`${Jv}-${Kv}`,()=>[[`datasets.${Jv}.elements.${Kv}`,`datasets.${Jv}`,`elements.${Kv}`,""]])}pluginScopeKeys(Lv){const Mv=Lv.id,Nv=this.type;return jv(`${Nv}-plugin-${Mv}`,()=>[[`plugins.${Mv}`,...Lv.additionalOptionScopes||[],]])}_cachedScopes(Ov,Pv){const Qv=this._scopeCache;let Rv=Qv.get(Ov);return(!Rv||Pv)&&(Rv=new Map(),Qv.set(Ov,Rv)),Rv}getOptionScopes(Sv,Tv,Uv){const{options:Vv,type:Wv}=this,Xv=this._cachedScopes(Sv,Uv),Yv=Xv.get(Tv);if(Yv)return Yv;const Zv=new Set();Tv.forEach(a=>{Sv&&(Zv.add(Sv),a.forEach(a=>kv(Zv,Sv,a))),a.forEach(a=>kv(Zv,Vv,a)),a.forEach(a=>kv(Zv,d.a0[Wv]||{},a)),a.forEach(a=>kv(Zv,d.d,a)),a.forEach(a=>kv(Zv,d.a3,a))});const $v=Array.from(Zv);return 0===$v.length&&$v.push(Object.create(null)),iv.has(Tv)&&Xv.set(Tv,$v),$v}chartOptionScopes(){const{options:_v,type:aw}=this;return[_v,d.a0[aw]||{},d.d.datasets[aw]||{},{type:aw},d.d,d.a3]}resolveNamedOptions(bw,cw,dw,ew=[""]){const fw={$shared:!0},{resolver:gw,subPrefixes:hw}=lv(this._resolverCache,bw,ew);let iw=gw;if((function(a,b){const{isScriptable:c,isIndexable:e}=(0,d.a7)(a);for(const f of b){const g=c(f),h=e(f),i=(h||g)&&a[f];if(g&&((0,d.a4)(i)||mv(i))||h&&(0,d.b)(i))return!0}return!1})(gw,cw)){fw.$shared=!1,dw=(0,d.a4)(dw)?dw():dw;const jw=this.createResolver(bw,dw,hw);iw=(0,d.a5)(gw,dw,jw)}for(const kw of cw)fw[kw]=iw[kw];return fw}createResolver(lw,mw,nw=[""],ow){const{resolver:pw}=lv(this._resolverCache,lw,nw);return(0,d.i)(mw)?(0,d.a5)(pw,mw,void 0,ow):pw}}(xv),qw=rv(wv),rw=tv(qw);if(rw)throw new Error("Canvas is already in use. Chart with ID '"+rw.id+"' must be destroyed before the canvas can be reused.");const sw=zv.createResolver(zv.chartOptionScopes(),this.getContext());this.platform=new(zv.platform||(yv=qw,(!(0,d.J)()||"undefined"!=typeof OffscreenCanvas&&yv instanceof OffscreenCanvas?class extends rn{acquireContext(tw){return tw&&tw.getContext&&tw.getContext("2d")||null}updateConfig(uw){uw.options.animation=!1}}:class extends rn{acquireContext(vw,ww){const xw=vw&&vw.getContext&&vw.getContext("2d");return xw&&xw.canvas===vw?((function(a,b){const c=a.style,e=a.getAttribute("height"),f=a.getAttribute("width");if(a[Hn]={initial:{height:e,width:f,style:{display:c.display,height:c.height,width:c.width}}},c.display=c.display||"block",c.boxSizing=c.boxSizing||"border-box",Jn(f)){const g=(0,d.F)(a,"width");void 0!==g&&(a.width=g)}if(Jn(e))if(""===a.style.height)a.height=a.width/(b||2);else{const h=(0,d.F)(a,"height");void 0!==h&&(a.height=h)}})(vw,ww),xw):null}releaseContext(yw){const zw=yw.canvas;if(!zw[Hn])return!1;const Aw=zw[Hn].initial;["height","width"].forEach(a=>{const b=Aw[a];(0,d.k)(b)?zw.removeAttribute(a):zw.setAttribute(a,b)});const Bw=Aw.style||{};return Object.keys(Bw).forEach(a=>{zw.style[a]=Bw[a]}),zw.width=zw.width,delete zw[Hn],!0}addEventListener(Cw,Dw,Ew){this.removeEventListener(Cw,Dw);const Fw=Cw.$proxies||(Cw.$proxies={}),Gw={attach:Nn,detach:On,resize:Sn}[Dw]||Un;Fw[Dw]=Gw(Cw,Dw,Ew)}removeEventListener(Hw,Iw){const Jw=Hw.$proxies||(Hw.$proxies={}),Kw=Jw[Iw];if(Kw){const Lw={attach:Tn,detach:Tn,resize:Tn}[Iw]||Ln;Lw(Hw,Iw,Kw),Jw[Iw]=void 0}}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(Mw,Nw,Ow,Pw){return(0,d.D)(Mw,Nw,Ow,Pw)}isAttached(Qw){const Rw=(0,d.E)(Qw);return!!(Rw&&Rw.isConnected)}})))(),this.platform.updateConfig(zv);const Sw=this.platform.acquireContext(qw,sw.aspectRatio),Tw=Sw&&Sw.canvas,Uw=Tw&&Tw.height,Vw=Tw&&Tw.width;if(this.id=(0,d.a9)(),this.ctx=Sw,this.canvas=Tw,this.width=Vw,this.height=Uw,this._options=sw,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new class{constructor(){this._init=[]}notify(Ww,Xw,Yw,Zw){"beforeInit"===Xw&&(this._init=this._createDescriptors(Ww,!0),this._notify(this._init,Ww,"install"));const $w=Zw?this._descriptors(Ww).filter(Zw):this._descriptors(Ww),_w=this._notify($w,Ww,Xw,Yw);return"destroy"===Xw&&(this._notify($w,Ww,"stop"),this._notify(this._init,Ww,"uninstall")),_w}_notify(ax,bx,cx,dx){for(const ex of(dx=dx||{},ax)){const fx=ex.plugin,gx=fx[cx],hx=[bx,dx,ex.options];if(!1===(0,d.N)(gx,hx,fx)&&dx.cancelable)return!1}return!0}invalidate(){(0,d.k)(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(ix){if(this._cache)return this._cache;const jx=this._cache=this._createDescriptors(ix);return this._notifyStateChanges(ix),jx}_createDescriptors(kx,lx){const mx=kx&&kx.config,nx=(0,d.v)(mx.options&&mx.options.plugins,{}),ox=function(a){const b=[],c=Object.keys(Au.plugins.items);for(let d=0;d<c.length;d++)b.push(Au.getPlugin(c[d]));const e=a.plugins||[];for(let f=0;f<e.length;f++){const g=e[f];-1===b.indexOf(g)&&b.push(g)}return b}(mx);return!1!==nx||lx?(function(a,b,c,d){const e=[],f=a.getContext();for(let g=0;g<b.length;g++){const h=b[g],i=h.id,j=bv(c[i],d);null!==j&&e.push({plugin:h,options:cv(a.config,h,j,f)})}return e})(kx,ox,nx,lx):[]}_notifyStateChanges(px){const qx=this._oldCache||[],rx=this._cache,sx=(a,b)=>a.filter(a=>!b.some(b=>a.plugin.id===b.plugin.id));this._notify(sx(qx,rx),px,"stop"),this._notify(sx(rx,qx),px,"start")}}(),this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=(0,d.aa)(a=>this.update(a),sw.resizeDelay||0),this._dataChanges=[],sv[this.id]=this,!Sw||!Tw){console.error("Failed to create chart: can't acquire context from the given item");return}e.listen(this,"complete",qv),e.listen(this,"progress",function(a){const b=a.chart,c=b.options.animation;(0,d.N)(c&&c.onProgress,[a],b)}),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:tx,maintainAspectRatio:ux},width:vx,height:wx,_aspectRatio:xx}=this;return(0,d.k)(tx)?ux&&xx?xx:wx?vx/wx:null:tx}get data(){return this.config.data}set data(yx){this.config.data=yx}get options(){return this._options}set options(zx){this.config.options=zx}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():(0,d.ab)(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return(0,d.ac)(this.canvas,this.ctx),this}stop(){return e.stop(this),this}resize(Ax,Bx){e.running(this)?this._resizeBeforeDraw={width:Ax,height:Bx}:this._resize(Ax,Bx)}_resize(Cx,Dx){const Ex=this.options,Fx=this.canvas,Gx=Ex.maintainAspectRatio&&this.aspectRatio,Hx=this.platform.getMaximumSize(Fx,Cx,Dx,Gx),Ix=Ex.devicePixelRatio||this.platform.getDevicePixelRatio(),Jx=this.width?"resize":"attach";this.width=Hx.width,this.height=Hx.height,this._aspectRatio=this.aspectRatio,!!(0,d.ab)(this,Ix,!0)&&(this.notifyPlugins("resize",{size:Hx}),(0,d.N)(Ex.onResize,[this,Hx],this),this.attached&&this._doResize(Jx)&&this.render())}ensureScalesHaveIDs(){const Kx=this.options,Lx=Kx.scales||{};(0,d.C)(Lx,(a,b)=>{a.id=b})}buildOrUpdateScales(){const Mx=this.options,Nx=Mx.scales,Ox=this.scales,Px=Object.keys(Ox).reduce((a,b)=>(a[b]=!1,a),{});let Qx=[];Nx&&(Qx=Qx.concat(Object.keys(Nx).map(a=>{const b=Nx[a],c=ev(a,b),d="r"===c,e="x"===c;return{options:b,dposition:d?"chartArea":e?"bottom":"left",dtype:d?"radialLinear":e?"category":"linear"}}))),(0,d.C)(Qx,a=>{const b=a.options,c=b.id,e=ev(c,b),f=(0,d.v)(b.type,a.dtype);(void 0===b.position||ov(b.position,e)!==ov(a.dposition))&&(b.position=a.dposition),Px[c]=!0;let g=null;if(c in Ox&&Ox[c].type===f)g=Ox[c];else{const h=Au.getScale(f);Ox[(g=new h({id:c,type:f,ctx:this.ctx,chart:this})).id]=g}g.init(b,Mx)}),(0,d.C)(Px,(a,b)=>{a||delete Ox[b]}),(0,d.C)(Ox,a=>{qn.configure(this,a,a.options),qn.addBox(this,a)})}_updateMetasets(){const Rx=this._metasets,Sx=this.data.datasets.length,Tx=Rx.length;if(Rx.sort((a,b)=>a.index-b.index),Tx>Sx){for(let Ux=Sx;Ux<Tx;++Ux)this._destroyDatasetMeta(Ux);Rx.splice(Sx,Tx-Sx)}this._sortedMetasets=Rx.slice(0).sort(pv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:Vx,data:{datasets:Wx}}=this;Vx.length>Wx.length&&delete this._stacks,Vx.forEach((a,b)=>{0===Wx.filter(b=>b===a._dataset).length&&this._destroyDatasetMeta(b)})}buildOrUpdateControllers(){const Xx=[],Yx=this.data.datasets;let Zx,$x;for(this._removeUnreferencedMetasets(),Zx=0,$x=Yx.length;Zx<$x;Zx++){const _x=Yx[Zx];let ay=this.getDatasetMeta(Zx);const by=_x.type||this.config.type;if(ay.type&&ay.type!==by&&(this._destroyDatasetMeta(Zx),ay=this.getDatasetMeta(Zx)),ay.type=by,ay.indexAxis=_x.indexAxis||dv(by,this.options),ay.order=_x.order||0,ay.index=Zx,ay.label=""+_x.label,ay.visible=this.isDatasetVisible(Zx),ay.controller)ay.controller.updateIndex(Zx),ay.controller.linkScales();else{const cy=Au.getController(by),{datasetElementType:dy,dataElementType:ey}=d.d.datasets[by];Object.assign(cy.prototype,{dataElementType:Au.getElement(ey),datasetElementType:dy&&Au.getElement(dy)}),ay.controller=new cy(this,Zx),Xx.push(ay.controller)}}return this._updateMetasets(),Xx}_resetElements(){(0,d.C)(this.data.datasets,(a,b)=>{this.getDatasetMeta(b).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(fy){const gy=this.config;gy.update();const hy=this._options=gy.createResolver(gy.chartOptionScopes(),this.getContext()),iy=this._animationsDisabled=!hy.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1!==this.notifyPlugins("beforeUpdate",{mode:fy,cancelable:!0})){const jy=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let ky=0;for(let ly=0,my=this.data.datasets.length;ly<my;ly++){const{controller:ny}=this.getDatasetMeta(ly),oy=!iy&& -1===jy.indexOf(ny);ny.buildOrUpdateElements(oy),ky=Math.max(+ny.getMaxOverflow(),ky)}ky=this._minPadding=hy.layout.autoPadding?ky:0,this._updateLayout(ky),iy||(0,d.C)(jy,a=>{a.reset()}),this._updateDatasets(fy),this.notifyPlugins("afterUpdate",{mode:fy}),this._layers.sort(pv("z","_idx")),this._lastEvent&&this._eventHandler(this._lastEvent,!0),this.render()}}_updateScales(){(0,d.C)(this.scales,a=>{qn.removeBox(this,a)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const py=this.options,qy=new Set(Object.keys(this._listeners)),ry=new Set(py.events);(0,d.ad)(qy,ry)&& !!this._responsiveListeners===py.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:sy}=this,ty=this._getUniformDataChanges()||[];for(const{method:uy,start:vy,count:wy}of ty){const xy="_removeElements"===uy?-wy:wy;uv(sy,vy,xy)}}_getUniformDataChanges(){const yy=this._dataChanges;if(yy&&yy.length){this._dataChanges=[];const zy=this.data.datasets.length,Ay=a=>new Set(yy.filter(b=>b[0]===a).map((a,b)=>b+","+a.splice(1).join(","))),By=Ay(0);for(let Cy=1;Cy<zy;Cy++)if(!(0,d.ad)(By,Ay(Cy)))return;return Array.from(By).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}}_updateLayout(Dy){if(!1!==this.notifyPlugins("beforeLayout",{cancelable:!0})){qn.update(this,this.width,this.height,Dy);const Ey=this.chartArea,Fy=Ey.width<=0||Ey.height<=0;this._layers=[],(0,d.C)(this.boxes,a=>{Fy&&"chartArea"===a.position||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,b)=>{a._idx=b}),this.notifyPlugins("afterLayout")}}_updateDatasets(Gy){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:Gy,cancelable:!0})){for(let Hy=0,Iy=this.data.datasets.length;Hy<Iy;++Hy)this.getDatasetMeta(Hy).controller.configure();for(let Jy=0,Ky=this.data.datasets.length;Jy<Ky;++Jy)this._updateDataset(Jy,(0,d.a4)(Gy)?Gy({datasetIndex:Jy}):Gy);this.notifyPlugins("afterDatasetsUpdate",{mode:Gy})}}_updateDataset(Ly,My){const Ny=this.getDatasetMeta(Ly),Oy={meta:Ny,index:Ly,mode:My,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",Oy)&&(Ny.controller._update(My),Oy.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",Oy))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(e.has(this)?this.attached&&!e.running(this)&&e.start(this):(this.draw(),qv({chart:this})))}draw(){let Py;if(this._resizeBeforeDraw){const{width:Qy,height:Ry}=this._resizeBeforeDraw;this._resize(Qy,Ry),this._resizeBeforeDraw=null}if(this.clear(),!(this.width<=0)&&!(this.height<=0)&& !1!==this.notifyPlugins("beforeDraw",{cancelable:!0})){const Sy=this._layers;for(Py=0;Py<Sy.length&&Sy[Py].z<=0;++Py)Sy[Py].draw(this.chartArea);for(this._drawDatasets();Py<Sy.length;++Py)Sy[Py].draw(this.chartArea);this.notifyPlugins("afterDraw")}}_getSortedDatasetMetas(Ty){const Uy=this._sortedMetasets,Vy=[];let Wy,Xy;for(Wy=0,Xy=Uy.length;Wy<Xy;++Wy){const Yy=Uy[Wy];(!Ty||Yy.visible)&&Vy.push(Yy)}return Vy}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1!==this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})){const Zy=this.getSortedVisibleDatasetMetas();for(let $y=Zy.length-1;$y>=0;--$y)this._drawDataset(Zy[$y]);this.notifyPlugins("afterDatasetsDraw")}}_drawDataset(_y){const az=this.ctx,bz=_y._clip,cz=!bz.disabled,dz=this.chartArea,ez={meta:_y,index:_y.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",ez)&&(cz&&(0,d.V)(az,{left:!1===bz.left?0:dz.left-bz.left,right:!1===bz.right?this.width:dz.right+bz.right,top:!1===bz.top?0:dz.top-bz.top,bottom:!1===bz.bottom?this.height:dz.bottom+bz.bottom}),_y.controller.draw(),cz&&(0,d.X)(az),ez.cancelable=!1,this.notifyPlugins("afterDatasetDraw",ez))}getElementsAtEventForMode(fz,gz,hz,iz){const jz=dn.modes[gz];return"function"==typeof jz?jz(this,fz,hz,iz):[]}getDatasetMeta(kz){const lz=this.data.datasets[kz],mz=this._metasets;let nz=mz.filter(a=>a&&a._dataset===lz).pop();return nz||(nz={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:lz&&lz.order||0,index:kz,_dataset:lz,_parsed:[],_sorted:!1},mz.push(nz)),nz}getContext(){return this.$context||(this.$context=(0,d.h)(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(oz){const pz=this.data.datasets[oz];if(!pz)return!1;const qz=this.getDatasetMeta(oz);return"boolean"==typeof qz.hidden?!qz.hidden:!pz.hidden}setDatasetVisibility(rz,sz){const tz=this.getDatasetMeta(rz);tz.hidden=!sz}toggleDataVisibility(uz){this._hiddenIndices[uz]=!this._hiddenIndices[uz]}getDataVisibility(vz){return!this._hiddenIndices[vz]}_updateVisibility(wz,xz,yz){const zz=yz?"show":"hide",Az=this.getDatasetMeta(wz),Bz=Az.controller._resolveAnimations(void 0,zz);(0,d.j)(xz)?(Az.data[xz].hidden=!yz,this.update()):(this.setDatasetVisibility(wz,yz),Bz.update(Az,{visible:yz}),this.update(a=>a.datasetIndex===wz?zz:void 0))}hide(Cz,Dz){this._updateVisibility(Cz,Dz,!1)}show(Ez,Fz){this._updateVisibility(Ez,Fz,!0)}_destroyDatasetMeta(Gz){const Hz=this._metasets[Gz];Hz&&Hz.controller&&Hz.controller._destroy(),delete this._metasets[Gz]}_stop(){let Iz,Jz;for(this.stop(),e.remove(this),Iz=0,Jz=this.data.datasets.length;Iz<Jz;++Iz)this._destroyDatasetMeta(Iz)}destroy(){const{canvas:Kz,ctx:Lz}=this;this._stop(),this.config.clearCache(),Kz&&(this.unbindEvents(),(0,d.ac)(Kz,Lz),this.platform.releaseContext(Lz),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete sv[this.id]}toBase64Image(...Mz){return this.canvas.toDataURL(...Mz)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const Nz=this._listeners,Oz=this.platform,Pz=(a,b)=>{Oz.addEventListener(this,a,b),Nz[a]=b},Qz=(a,b,c)=>{a.offsetX=b,a.offsetY=c,this._eventHandler(a)};(0,d.C)(this.options.events,a=>Pz(a,Qz))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const Rz=this._responsiveListeners,Sz=this.platform,Tz=(a,b)=>{Sz.addEventListener(this,a,b),Rz[a]=b},Uz=(a,b)=>{Rz[a]&&(Sz.removeEventListener(this,a,b),delete Rz[a])},Vz=(a,b)=>{this.canvas&&this.resize(a,b)};let Wz;const Xz=()=>{Uz("attach",Xz),this.attached=!0,this.resize(),Tz("resize",Vz),Tz("detach",Wz)};Wz=()=>{this.attached=!1,Uz("resize",Vz),this._stop(),this._resize(0,0),Tz("attach",Xz)},Sz.isAttached(this.canvas)?Xz():Wz()}unbindEvents(){(0,d.C)(this._listeners,(a,b)=>{this.platform.removeEventListener(this,b,a)}),this._listeners={},(0,d.C)(this._responsiveListeners,(a,b)=>{this.platform.removeEventListener(this,b,a)}),this._responsiveListeners=void 0}updateHoverStyle(Yz,Zz,$z){const _z=$z?"set":"remove";let aA,bA,cA;for("dataset"===Zz&&this.getDatasetMeta(Yz[0].datasetIndex).controller["_"+_z+"DatasetHoverStyle"](),bA=0,cA=Yz.length;bA<cA;++bA){aA=Yz[bA];const dA=aA&&this.getDatasetMeta(aA.datasetIndex).controller;dA&&dA[_z+"HoverStyle"](aA.element,aA.datasetIndex,aA.index)}}getActiveElements(){return this._active||[]}setActiveElements(eA){const fA=this._active||[],gA=eA.map(({datasetIndex:a,index:b})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[b],index:b}}),hA=!(0,d.ae)(gA,fA);hA&&(this._active=gA,this._updateHoverStyles(gA,fA))}notifyPlugins(iA,jA,kA){return this._plugins.notify(this,iA,jA,kA)}_updateHoverStyles(lA,mA,nA){const oA=this.options.hover,pA=(a,b)=>a.filter(a=>!b.some(b=>a.datasetIndex===b.datasetIndex&&a.index===b.index)),qA=pA(mA,lA),rA=nA?lA:pA(lA,mA);qA.length&&this.updateHoverStyle(qA,oA.mode,!1),rA.length&&oA.mode&&this.updateHoverStyle(rA,oA.mode,!0)}_eventHandler(sA,tA){const uA={event:sA,replay:tA,cancelable:!0},vA=a=>(a.options.events||this.options.events).includes(sA.native.type);if(!1!==this.notifyPlugins("beforeEvent",uA,vA)){const wA=this._handleEvent(sA,tA);return uA.cancelable=!1,this.notifyPlugins("afterEvent",uA,vA),(wA||uA.changed)&&this.render(),this}}_handleEvent(xA,yA){const{_active:zA=[],options:AA}=this,BA=AA.hover;let CA=[],DA=!1,EA=null;return"mouseout"!==xA.type&&(CA=this.getElementsAtEventForMode(xA,BA.mode,BA,yA),EA="click"===xA.type?this._lastEvent:xA),this._lastEvent=null,(0,d.z)(xA,this.chartArea,this._minPadding)&&((0,d.N)(AA.onHover,[xA,CA,this],this),("mouseup"===xA.type||"click"===xA.type||"contextmenu"===xA.type)&&(0,d.N)(AA.onClick,[xA,CA,this],this)),((DA=!(0,d.ae)(CA,zA))||yA)&&(this._active=CA,this._updateHoverStyles(CA,zA,yA)),this._lastEvent=EA,DA}}const FA=()=>(0,d.C)(vv.instances,a=>a._plugins.invalidate()),GA=!0;function HA(a,b,c){const{startAngle:e,pixelMargin:f,x:g,y:h,outerRadius:i,innerRadius:j}=b;let k=f/i;a.beginPath(),a.arc(g,h,i,e-k,c+k),j>f?(k=f/j,a.arc(g,h,j,c+k,e-k,!0)):a.arc(g,h,f,c+d.H,e-d.H),a.closePath(),a.clip()}function IA(a,b,c,d){return{x:c+a*Math.cos(b),y:d+a*Math.sin(b)}}function JA(a,b,c,e,f){const{x:g,y:h,startAngle:i,pixelMargin:j,innerRadius:k}=b,l=Math.max(b.outerRadius+e+c-j,0),m=k>0?k+e+c+j:0;let n=0;const o=f-i;if(e){const p=k>0?k-e:0,q=l>0?l-e:0,r=(p+q)/2,s=0!==r?o*r/(r+e):o;n=(o-s)/2}const t=Math.max(0.001,o*l-c/d.P)/l,u=(o-t)/2,v=i+u+n,w=f-u-n,{outerStart:x,outerEnd:y,innerStart:z,innerEnd:A}=function(a,b,c,e){const f=(a.options.borderRadius,(0,d.ah)(a.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"])),g=(c-b)/2,h=Math.min(g,e*b/2),i=a=>(0,d.w)(a,0,Math.min(g,(c-Math.min(g,a))*e/2));return{outerStart:i(f.outerStart),outerEnd:i(f.outerEnd),innerStart:(0,d.w)(f.innerStart,0,h),innerEnd:(0,d.w)(f.innerEnd,0,h)}}(b,m,l,w-v),B=l-x,C=l-y,D=v+x/B,E=w-y/C,F=m+z,G=m+A,H=v+z/F,I=w-A/G;if(a.beginPath(),a.arc(g,h,l,D,E),y>0){const J=IA(C,E,g,h);a.arc(J.x,J.y,y,E,w+d.H)}const K=IA(G,w,g,h);if(a.lineTo(K.x,K.y),A>0){const L=IA(G,I,g,h);a.arc(L.x,L.y,A,w+d.H,I+Math.PI)}if(a.arc(g,h,m,w-A/m,v+z/m,!0),z>0){const M=IA(F,H,g,h);a.arc(M.x,M.y,z,H+Math.PI,v-d.H)}const N=IA(B,v,g,h);if(a.lineTo(N.x,N.y),x>0){const O=IA(B,D,g,h);a.arc(O.x,O.y,x,v-d.H,D)}a.closePath()}Object.defineProperties(vv,{defaults:{enumerable:GA,value:d.d},instances:{enumerable:GA,value:sv},overrides:{enumerable:GA,value:d.a0},registry:{enumerable:GA,value:Au},version:{enumerable:GA,value:"3.6.2"},getChart:{enumerable:GA,value:tv},register:{enumerable:GA,value:(...a)=>{Au.add(...a),FA()}},unregister:{enumerable:GA,value:(...a)=>{Au.remove(...a),FA()}}});class KA extends Vn{constructor(LA){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,LA&&Object.assign(this,LA)}inRange(MA,NA,OA){const PA=this.getProps(["x","y"],OA),{angle:QA,distance:RA}=(0,d.af)(PA,{x:MA,y:NA}),{startAngle:SA,endAngle:TA,innerRadius:UA,outerRadius:VA,circumference:WA}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],OA),XA=this.options.spacing/2,YA=(0,d.v)(WA,TA-SA),ZA=YA>=d.T||(0,d.p)(QA,SA,TA),$A=(0,d.ag)(RA,UA+XA,VA+XA);return ZA&&$A}getCenterPoint(_A){const{x:aB,y:bB,startAngle:cB,endAngle:dB,innerRadius:eB,outerRadius:fB}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference",],_A),{offset:gB,spacing:hB}=this.options,iB=(cB+dB)/2,jB=(eB+fB+hB+gB)/2;return{x:aB+Math.cos(iB)*jB,y:bB+Math.sin(iB)*jB}}tooltipPosition(kB){return this.getCenterPoint(kB)}draw(lB){const{options:mB,circumference:nB}=this,oB=(mB.offset||0)/2,pB=(mB.spacing||0)/2;if(this.pixelMargin="inner"===mB.borderAlign?0.33:0,this.fullCircles=nB>d.T?Math.floor(nB/d.T):0,0!==nB&&!(this.innerRadius<0)&&!(this.outerRadius<0)){lB.save();let qB=0;if(oB){qB=oB/2;const rB=(this.startAngle+this.endAngle)/2;lB.translate(Math.cos(rB)*qB,Math.sin(rB)*qB),this.circumference>=d.P&&(qB=oB)}lB.fillStyle=mB.backgroundColor,lB.strokeStyle=mB.borderColor;const sB=function(a,b,c,e){const{fullCircles:f,startAngle:g,circumference:h}=b;let i=b.endAngle;if(f){JA(a,b,c,e,g+d.T);for(let j=0;j<f;++j)a.fill();isNaN(h)||(i=g+h%d.T,h%d.T==0&&(i+=d.T))}return JA(a,b,c,e,i),a.fill(),i}(lB,this,qB,pB);!function(a,b,c,e,f){const{options:g}=b,h="inner"===g.borderAlign;g.borderWidth&&(h?(a.lineWidth=2*g.borderWidth,a.lineJoin="round"):(a.lineWidth=g.borderWidth,a.lineJoin="bevel"),b.fullCircles&&(function(a,b,c){const{x:e,y:f,startAngle:g,pixelMargin:h,fullCircles:i}=b,j=Math.max(b.outerRadius-h,0),k=b.innerRadius+h;let l;for(c&&HA(a,b,g+d.T),a.beginPath(),a.arc(e,f,k,g+d.T,g,!0),l=0;l<i;++l)a.stroke();for(a.beginPath(),a.arc(e,f,j,g,g+d.T),l=0;l<i;++l)a.stroke()})(a,b,h),h&&HA(a,b,f),JA(a,b,c,e,f),a.stroke())}(lB,this,qB,pB,sB),lB.restore()}}}function tB(a,b,c=b){a.lineCap=(0,d.v)(c.borderCapStyle,b.borderCapStyle),a.setLineDash((0,d.v)(c.borderDash,b.borderDash)),a.lineDashOffset=(0,d.v)(c.borderDashOffset,b.borderDashOffset),a.lineJoin=(0,d.v)(c.borderJoinStyle,b.borderJoinStyle),a.lineWidth=(0,d.v)(c.borderWidth,b.borderWidth),a.strokeStyle=(0,d.v)(c.borderColor,b.borderColor)}function uB(a,b,c){a.lineTo(c.x,c.y)}function vB(a,b,c={}){const d=a.length,{start:e=0,end:f=d-1}=c,{start:g,end:h}=b,i=Math.max(e,g),j=Math.min(f,h);return{count:d,start:i,loop:b.loop,ilen:j<i&&!(e<g&&f<g||e>h&&f>h)?d+j-i:j-i}}function wB(a,b,c,e){var f;const{points:g,options:h}=b,{count:i,start:j,loop:k,ilen:l}=vB(g,c,e),m=(f=h).stepped?d.ao:f.tension||"monotone"===f.cubicInterpolationMode?d.ap:uB;let{move:n=!0,reverse:o}=e||{},p,q,r;for(p=0;p<=l;++p)(q=g[(j+(o?l-p:p))%i]).skip||(n?(a.moveTo(q.x,q.y),n=!1):m(a,r,q,o,h.stepped),r=q);return k&&m(a,r,q=g[(j+(o?l:0))%i],o,h.stepped),!!k}function xB(a,b,c,d){const e=b.points,{count:f,start:g,ilen:h}=vB(e,c,d),{move:i=!0,reverse:j}=d||{};let k=0,l=0,m,n,o,p,q,r;const s=a=>(g+(j?h-a:a))%f,t=()=>{p!==q&&(a.lineTo(k,q),a.lineTo(k,p),a.lineTo(k,r))};for(i&&(n=e[s(0)],a.moveTo(n.x,n.y)),m=0;m<=h;++m)if(!(n=e[s(m)]).skip){const u=n.x,v=n.y,w=0|u;w===o?(v<p?p=v:v>q&&(q=v),k=(l*k+u)/ ++l):(t(),a.lineTo(u,v),o=w,l=0,p=q=v),r=v}t()}function yB(a){const b=a.options,c=b.borderDash&&b.borderDash.length,d=!a._decimated&&!a._loop&&!b.tension&&"monotone"!==b.cubicInterpolationMode&&!b.stepped&&!c;return d?xB:wB}KA.id="arc",KA.defaults={borderAlign:"center",borderColor:"#fff",borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},KA.defaultRoutes={backgroundColor:"backgroundColor"};const zB="function"==typeof Path2D;class AB extends Vn{constructor(BB){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,BB&&Object.assign(this,BB)}updateControlPoints(CB,DB){const EB=this.options;if((EB.tension||"monotone"===EB.cubicInterpolationMode)&&!EB.stepped&&!this._pointsUpdated){const FB=EB.spanGaps?this._loop:this._fullLoop;(0,d.ai)(this._points,EB,CB,FB,DB),this._pointsUpdated=!0}}set points(GB){this._points=GB,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=(0,d.aj)(this,this.options.segment))}first(){const HB=this.segments;return HB.length&&this.points[HB[0].start]}last(){const IB=this.segments,JB=IB.length;return JB&&this.points[IB[JB-1].end]}interpolate(KB,LB){var MB;const NB=this.options,OB=KB[LB],PB=this.points,QB=(0,d.ak)(this,{property:LB,start:OB,end:OB});if(QB.length){const RB=[],SB=(MB=NB).stepped?d.al:MB.tension||"monotone"===MB.cubicInterpolationMode?d.am:d.an;let TB,UB;for(TB=0,UB=QB.length;TB<UB;++TB){const{start:VB,end:WB}=QB[TB],XB=PB[VB],YB=PB[WB];if(XB===YB){RB.push(XB);continue}const ZB=Math.abs((OB-XB[LB])/(YB[LB]-XB[LB])),$B=SB(XB,YB,ZB,NB.stepped);$B[LB]=KB[LB],RB.push($B)}return 1===RB.length?RB[0]:RB}}pathSegment(_B,aC,bC){const cC=yB(this);return cC(_B,this,aC,bC)}path(dC,eC,fC){const gC=this.segments,hC=yB(this);let iC=this._loop;for(const jC of(eC=eC||0,fC=fC||this.points.length-eC,gC))iC&=hC(dC,this,jC,{start:eC,end:eC+fC-1});return!!iC}draw(kC,lC,mC,nC){const oC=this.options||{},pC=this.points||[];pC.length&&oC.borderWidth&&(kC.save(),(function(a,b,c,d){if(zB&&!b.options.segment){var e,f,g,h;let i;e=a,f=b,g=c,h=d,(i=f._path)||(i=f._path=new Path2D(),f.path(i,g,h)&&i.closePath()),tB(e,f.options),e.stroke(i)}else!function(a,b,c,d){const{segments:e,options:f}=b,g=yB(b);for(const h of e)tB(a,f,h.style),a.beginPath(),g(a,b,h,{start:c,end:c+d-1})&&a.closePath(),a.stroke()}(a,b,c,d)})(kC,this,mC,nC),kC.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function qC(a,b,c,d){const e=a.options,{[c]:f}=a.getProps([c],d);return Math.abs(b-f)<e.radius+e.hitRadius}AB.id="line",AB.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},AB.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},AB.descriptors={_scriptable:!0,_indexable:a=>"borderDash"!==a&&"fill"!==a};class rC extends Vn{constructor(sC){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,sC&&Object.assign(this,sC)}inRange(tC,uC,vC){const wC=this.options,{x:xC,y:yC}=this.getProps(["x","y"],vC);return Math.pow(tC-xC,2)+Math.pow(uC-yC,2)<Math.pow(wC.hitRadius+wC.radius,2)}inXRange(zC,AC){return qC(this,zC,"x",AC)}inYRange(BC,CC){return qC(this,BC,"y",CC)}getCenterPoint(DC){const{x:EC,y:FC}=this.getProps(["x","y"],DC);return{x:EC,y:FC}}size(GC){let HC=(GC=GC||this.options||{}).radius||0;HC=Math.max(HC,HC&&GC.hoverRadius||0);const IC=HC&&GC.borderWidth||0;return(HC+IC)*2}draw(JC,KC){const LC=this.options;this.skip||LC.radius<0.1||!(0,d.z)(this,KC,this.size(LC)/2)||(JC.strokeStyle=LC.borderColor,JC.lineWidth=LC.borderWidth,JC.fillStyle=LC.backgroundColor,(0,d.aq)(JC,LC,this.x,this.y))}getRange(){const MC=this.options||{};return MC.radius+MC.hitRadius}}function NC(a,b){const{x:c,y:d,base:e,width:f,height:g}=a.getProps(["x","y","base","width","height"],b);let h,i,j,k,l;return a.horizontal?(l=g/2,h=Math.min(c,e),i=Math.max(c,e),j=d-l,k=d+l):(h=c-(l=f/2),i=c+l,j=Math.min(d,e),k=Math.max(d,e)),{left:h,top:j,right:i,bottom:k}}function OC(a,b,c,e){return a?0:(0,d.w)(b,c,e)}function PC(a,b,c,e){const f=null===b,g=null===c,h=a&&!(f&&g)&&NC(a,e);return h&&(f||(0,d.ag)(b,h.left,h.right))&&(g||(0,d.ag)(c,h.top,h.bottom))}function QC(a,b){a.rect(b.x,b.y,b.w,b.h)}function RC(a,b,c={}){const d=a.x!==c.x?-b:0,e=a.y!==c.y?-b:0,f=(a.x+a.w!==c.x+c.w?b:0)-d,g=(a.y+a.h!==c.y+c.h?b:0)-e;return{x:a.x+d,y:a.y+e,w:a.w+f,h:a.h+g,radius:a.radius}}rC.id="point",rC.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},rC.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class SC extends Vn{constructor(TC){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,TC&&Object.assign(this,TC)}draw(UC){var VC;const{inflateAmount:WC,options:{borderColor:XC,backgroundColor:YC}}=this,{inner:ZC,outer:$C}=function(a){const b=NC(a),c=b.right-b.left,e=b.bottom-b.top,f=function(a,b,c){const e=a.options.borderWidth,f=a.borderSkipped,g=(0,d.as)(e);return{t:OC(f.top,g.top,0,c),r:OC(f.right,g.right,0,b),b:OC(f.bottom,g.bottom,0,c),l:OC(f.left,g.left,0,b)}}(a,c/2,e/2),g=function(a,b,c){const{enableBorderRadius:e}=a.getProps(["enableBorderRadius"]),f=a.options.borderRadius,g=(0,d.at)(f),h=Math.min(b,c),i=a.borderSkipped,j=e||(0,d.i)(f);return{topLeft:OC(!j||i.top||i.left,g.topLeft,0,h),topRight:OC(!j||i.top||i.right,g.topRight,0,h),bottomLeft:OC(!j||i.bottom||i.left,g.bottomLeft,0,h),bottomRight:OC(!j||i.bottom||i.right,g.bottomRight,0,h)}}(a,c/2,e/2);return{outer:{x:b.left,y:b.top,w:c,h:e,radius:g},inner:{x:b.left+f.l,y:b.top+f.t,w:c-f.l-f.r,h:e-f.t-f.b,radius:{topLeft:Math.max(0,g.topLeft-Math.max(f.t,f.l)),topRight:Math.max(0,g.topRight-Math.max(f.t,f.r)),bottomLeft:Math.max(0,g.bottomLeft-Math.max(f.b,f.l)),bottomRight:Math.max(0,g.bottomRight-Math.max(f.b,f.r))}}}}(this),_C=(VC=$C.radius).topLeft||VC.topRight||VC.bottomLeft||VC.bottomRight?d.ar:QC;UC.save(),($C.w!==ZC.w||$C.h!==ZC.h)&&(UC.beginPath(),_C(UC,RC($C,WC,ZC)),UC.clip(),_C(UC,RC(ZC,-WC,$C)),UC.fillStyle=XC,UC.fill("evenodd")),UC.beginPath(),_C(UC,RC(ZC,WC)),UC.fillStyle=YC,UC.fill(),UC.restore()}inRange(aD,bD,cD){return PC(this,aD,bD,cD)}inXRange(dD,eD){return PC(this,dD,null,eD)}inYRange(fD,gD){return PC(this,null,fD,gD)}getCenterPoint(hD){const{x:iD,y:jD,base:kD,horizontal:lD}=this.getProps(["x","y","base","horizontal"],hD);return{x:lD?(iD+kD)/2:iD,y:lD?jD:(jD+kD)/2}}getRange(mD){return"x"===mD?this.width/2:this.height/2}}function nD(a){if(a._decimated){const b=a._data;delete a._decimated,delete a._data,Object.defineProperty(a,"data",{value:b})}}function oD(a){a.data.datasets.forEach(a=>{nD(a)})}SC.id="bar",SC.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},SC.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},Object.freeze({__proto__:null,ArcElement:KA,LineElement:AB,PointElement:rC,BarElement:SC});var pD={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(a,b,c)=>{if(!c.enabled){oD(a);return}const e=a.width;a.data.datasets.forEach((b,f)=>{const{_data:g,indexAxis:h}=b,i=a.getDatasetMeta(f),j=g||b.data;if("y"!==(0,d.a)([h,a.options.indexAxis])&&"line"===i.type){const k=a.scales[i.xAxisID];if(("linear"===k.type||"time"===k.type)&&!a.options.parsing){let{start:l,count:m}=function(a,b){const c=b.length;let e=0,f;const{iScale:g}=a,{min:h,max:i,minDefined:j,maxDefined:k}=g.getUserBounds();return j&&(e=(0,d.w)((0,d.x)(b,g.axis,h).lo,0,c-1)),f=k?(0,d.w)((0,d.x)(b,g.axis,i).hi+1,e,c)-e:c-e,{start:e,count:f}}(i,j);const n=c.threshold||4*e;if(m<=n){nD(b);return}(0,d.k)(g)&&(b._data=j,delete b.data,Object.defineProperty(b,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(a){this._data=a}}));let o;switch(c.algorithm){case"lttb":o=(function(a,b,c,d,e){const f=e.samples||d;if(f>=c)return a.slice(b,b+c);const g=[],h=(c-2)/(f-2);let i=0,j=b,k,l,m,n,o;for(k=0,g[i++]=a[j];k<f-2;k++){let p=0,q=0,r;const s=Math.floor((k+1)*h)+1+b,t=Math.min(Math.floor((k+2)*h)+1,c)+b,u=t-s;for(r=s;r<t;r++)p+=a[r].x,q+=a[r].y;p/=u,q/=u;const v=Math.floor(k*h)+1+b,w=Math.min(Math.floor((k+1)*h)+1,c)+b,{x:x,y:y}=a[j];for(m=n=-1,r=v;r<w;r++)(n=0.5*Math.abs((x-p)*(a[r].y-y)-(x-a[r].x)*(q-y)))>m&&(m=n,l=a[r],o=r);g[i++]=l,j=o}return g[i++]=a[b+c-1],g})(j,l,m,e,c);break;case"min-max":o=(function(a,b,c,e){let f=0,g=0,h,i,j,k,l,m,n,o,p,q;const r=[],s=a[b].x,t=a[b+c-1].x,u=t-s;for(h=b;h<b+c;++h){j=((i=a[h]).x-s)/u*e,k=i.y;const v=0|j;if(v===l)k<p?(p=k,m=h):k>q&&(q=k,n=h),f=(g*f+i.x)/ ++g;else{const w=h-1;if(!(0,d.k)(m)&&!(0,d.k)(n)){const x=Math.min(m,n),y=Math.max(m,n);x!==o&&x!==w&&r.push({...a[x],x:f}),y!==o&&y!==w&&r.push({...a[y],x:f})}h>0&&w!==o&&r.push(a[w]),r.push(i),l=v,g=0,p=q=k,m=n=o=h}}return r})(j,l,m,e);break;default:throw new Error(`Unsupported decimation algorithm '${c.algorithm}'`)}b._decimated=o}}})},destroy(a){oD(a)}};function qD(a,b,c){const e=function(a){const b=a.options,c=b.fill;let e=(0,d.v)(c&&c.target,c);return void 0===e&&(e=!!b.backgroundColor),!1!==e&&null!==e&&(!0===e?"origin":e)}(a);if((0,d.i)(e))return!isNaN(e.value)&&e;let f=parseFloat(e);return(0,d.g)(f)&&Math.floor(f)===f?(("-"===e[0]||"+"===e[0])&&(f=b+f),f!==b&&!(f<0)&&!(f>=c)&&f):["origin","start","end","stack","shape"].indexOf(e)>=0&&e}class rD{constructor(sD){this.x=sD.x,this.y=sD.y,this.radius=sD.radius}pathSegment(tD,uD,vD){const{x:wD,y:xD,radius:yD}=this;return uD=uD||{start:0,end:d.T},tD.arc(wD,xD,yD,uD.end,uD.start,!0),!vD.bounds}interpolate(zD){const{x:AD,y:BD,radius:CD}=this,DD=zD.angle;return{x:AD+Math.cos(DD)*CD,y:BD+Math.sin(DD)*CD,angle:DD}}}function ED(a,b,c){for(;b>a;b--){const d=c[b];if(!isNaN(d.x)&&!isNaN(d.y))break}return b}function FD(a,b,c){const d=[];for(let e=0;e<c.length;e++){const f=c[e],{first:g,last:h,point:i}=GD(f,b,"x");if(i&&(!g||!h)){if(g)d.unshift(i);else if(a.push(i),!h)break}}a.push(...d)}function GD(a,b,c){const e=a.interpolate(b,c);if(!e)return{};const f=e[c],g=a.segments,h=a.points;let i=!1,j=!1;for(let k=0;k<g.length;k++){const l=g[k],m=h[l.start][c],n=h[l.end][c];if((0,d.ag)(f,m,n)){i=f===m,j=f===n;break}}return{first:i,last:j,point:e}}function HD(a,b){let c=[],e=!1;return(0,d.b)(a)?(e=!0,c=a):c=(function(a,b){const{x:c=null,y:d=null}=a||{},e=b.points,f=[];return b.segments.forEach(({start:a,end:b})=>{b=ED(a,b,e);const g=e[a],h=e[b];null!==d?(f.push({x:g.x,y:d}),f.push({x:h.x,y:d})):null!==c&&(f.push({x:c,y:g.y}),f.push({x:c,y:h.y}))}),f})(a,b),c.length?new AB({points:c,options:{tension:0},_loop:e,_fullLoop:e}):null}function ID(a,b,c){const e=a[b];let f=e.fill;const g=[b];let h;if(!c)return f;for(;!1!==f&& -1===g.indexOf(f);){if(!(0,d.g)(f))return f;if(!(h=a[f]))return!1;if(h.visible)return f;g.push(f),f=h.fill}return!1}function JD(a,b,c){a.beginPath(),b.path(a),a.lineTo(b.last().x,c),a.lineTo(b.first().x,c),a.closePath(),a.clip()}function KD(a,b,c,e){if(!e){let f=b[a],g=c[a];return"angle"===a&&(f=(0,d.av)(f),g=(0,d.av)(g)),{property:a,start:f,end:g}}}function LD(a,b,c,d){return a&&b?d(a[c],b[c]):a?a[c]:b?b[c]:0}function MD(a,b,c){const{top:d,bottom:e}=b.chart.chartArea,{property:f,start:g,end:h}=c||{};"x"===f&&(a.beginPath(),a.rect(g,d,h-g,e-d),a.clip())}function ND(a,b,c,d){const e=b.interpolate(c,d);e&&a.lineTo(e.x,e.y)}function OD(a,b){const{line:c,target:e,property:f,color:g,scale:h}=b,i=function(a,b,c){const e=a.segments,f=a.points,g=b.points,h=[];for(const i of e){let{start:j,end:k}=i;k=ED(j,k,f);const l=KD(c,f[j],f[k],i.loop);if(!b.segments){h.push({source:i,target:l,start:f[j],end:f[k]});continue}const m=(0,d.ak)(b,l);for(const n of m){const o=KD(c,g[n.start],g[n.end],n.loop),p=(0,d.au)(i,f,o);for(const q of p)h.push({source:q,target:n,start:{[c]:LD(l,o,"start",Math.max)},end:{[c]:LD(l,o,"end",Math.min)}})}}return h}(c,e,f);for(const{source:j,target:k,start:l,end:m}of i){const{style:{backgroundColor:n=g}={}}=j,o=!0!==e;a.save(),a.fillStyle=n,MD(a,h,o&&KD(f,l,m)),a.beginPath();const p=!!c.pathSegment(a,j);let q;if(o){p?a.closePath():ND(a,e,m,f);const r=!!e.pathSegment(a,k,{move:p,reverse:!0});(q=p&&r)||ND(a,e,l,f)}a.closePath(),a.fill(q?"evenodd":"nonzero"),a.restore()}}function PD(a,b,c){const e=function(a){const{chart:b,fill:c,line:e}=a;if((0,d.g)(c))return(function(a,b){const c=a.getDatasetMeta(b),d=c&&a.isDatasetVisible(b);return d?c.dataset:null})(b,c);if("stack"===c)return(function(a){const{scale:b,index:c,line:d}=a,e=[],f=d.segments,g=d.points,h=function(a,b){const c=[],d=a.getMatchingVisibleMetas("line");for(let e=0;e<d.length;e++){const f=d[e];if(f.index===b)break;f.hidden||c.unshift(f.dataset)}return c}(b,c);h.push(HD({x:null,y:b.bottom},d));for(let i=0;i<f.length;i++){const j=f[i];for(let k=j.start;k<=j.end;k++)FD(e,g[k],h)}return new AB({points:e,options:{}})})(a);if("shape"===c)return!0;const f=function(a){const b=a.scale||{};return b.getPointPositionForValue?(function(a){const{scale:b,fill:c}=a,e=b.options,f=b.getLabels().length,g=[],h=e.reverse?b.max:b.min,i=e.reverse?b.min:b.max;let j,k,l;if(l="start"===c?h:"end"===c?i:(0,d.i)(c)?c.value:b.getBaseValue(),e.grid.circular)return k=b.getPointPositionForValue(0,h),new rD({x:k.x,y:k.y,radius:b.getDistanceFromCenterForValue(l)});for(j=0;j<f;++j)g.push(b.getPointPositionForValue(j,l));return g})(a):(function(a){const{scale:b={},fill:c}=a;let e=null,f;return("start"===c?e=b.bottom:"end"===c?e=b.top:(0,d.i)(c)?e=b.getPixelForValue(c.value):b.getBasePixel&&(e=b.getBasePixel()),(0,d.g)(e))?{x:(f=b.isHorizontal())?e:null,y:f?null:e}:null})(a)}(a);return f instanceof rD?f:HD(f,e)}(b),{line:f,scale:g,axis:h}=b,i=f.options,j=i.fill,k=i.backgroundColor,{above:l=k,below:m=k}=j||{};e&&f.points.length&&((0,d.V)(a,c),(function(a,b){const{line:c,target:d,above:e,below:f,area:g,scale:h}=b,i=c._loop?"angle":b.axis;a.save(),"x"===i&&f!==e&&(JD(a,d,g.top),OD(a,{line:c,target:d,color:e,scale:h,property:i}),a.restore(),a.save(),JD(a,d,g.bottom)),OD(a,{line:c,target:d,color:f,scale:h,property:i}),a.restore()})(a,{line:f,target:e,above:l,below:m,area:c,scale:g,axis:h}),(0,d.X)(a))}var QD={id:"filler",afterDatasetsUpdate(a,b,c){const d=(a.data.datasets||[]).length,e=[];let f,g,h,i;for(g=0;g<d;++g)i=null,(h=(f=a.getDatasetMeta(g)).dataset)&&h.options&&h instanceof AB&&(i={visible:a.isDatasetVisible(g),index:g,fill:qD(h,g,d),chart:a,axis:f.controller.options.indexAxis,scale:f.vScale,line:h}),f.$filler=i,e.push(i);for(g=0;g<d;++g)(i=e[g])&& !1!==i.fill&&(i.fill=ID(e,g,c.propagate))},beforeDraw(a,b,c){const d="beforeDraw"===c.drawTime,e=a.getSortedVisibleDatasetMetas(),f=a.chartArea;for(let g=e.length-1;g>=0;--g){const h=e[g].$filler;!!h&&(h.line.updateControlPoints(f,h.axis),d&&PD(a.ctx,h,f))}},beforeDatasetsDraw(a,b,c){if("beforeDatasetsDraw"===c.drawTime){const d=a.getSortedVisibleDatasetMetas();for(let e=d.length-1;e>=0;--e){const f=d[e].$filler;f&&PD(a.ctx,f,a.chartArea)}}},beforeDatasetDraw(a,b,c){const d=b.meta.$filler;d&& !1!==d.fill&&"beforeDatasetDraw"===c.drawTime&&PD(a.ctx,d,a.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const RD=(a,b)=>{let{boxHeight:c=b,boxWidth:d=b}=a;return a.usePointStyle&&(c=Math.min(c,b),d=Math.min(d,b)),{boxWidth:d,boxHeight:c,itemHeight:Math.max(b,c)}},SD=(a,b)=>null!==a&&null!==b&&a.datasetIndex===b.datasetIndex&&a.index===b.index;class TD extends Vn{constructor(UD){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=UD.chart,this.options=UD.options,this.ctx=UD.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(VD,WD,XD){this.maxWidth=VD,this.maxHeight=WD,this._margins=XD,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const YD=this.options.labels||{};let ZD=(0,d.N)(YD.generateLabels,[this.chart],this)||[];YD.filter&&(ZD=ZD.filter(a=>YD.filter(a,this.chart.data))),YD.sort&&(ZD=ZD.sort((a,b)=>YD.sort(a,b,this.chart.data))),this.options.reverse&&ZD.reverse(),this.legendItems=ZD}fit(){const{options:$D,ctx:_D}=this;if(!$D.display){this.width=this.height=0;return}const aE=$D.labels,bE=(0,d.Y)(aE.font),cE=bE.size,dE=this._computeTitleHeight(),{boxWidth:eE,itemHeight:fE}=RD(aE,cE);let gE,hE;_D.font=bE.string,this.isHorizontal()?(gE=this.maxWidth,hE=this._fitRows(dE,cE,eE,fE)+10):(hE=this.maxHeight,gE=this._fitCols(dE,cE,eE,fE)+10),this.width=Math.min(gE,$D.maxWidth||this.maxWidth),this.height=Math.min(hE,$D.maxHeight||this.maxHeight)}_fitRows(iE,jE,kE,lE){const{ctx:mE,maxWidth:nE,options:{labels:{padding:oE}}}=this,pE=this.legendHitBoxes=[],qE=this.lineWidths=[0],rE=lE+oE;let sE=iE;mE.textAlign="left",mE.textBaseline="middle";let tE=-1,uE=-rE;return this.legendItems.forEach((a,b)=>{const c=kE+jE/2+mE.measureText(a.text).width;(0===b||qE[qE.length-1]+c+2*oE>nE)&&(sE+=rE,qE[qE.length-(b>0?0:1)]=0,uE+=rE,tE++),pE[b]={left:0,top:uE,row:tE,width:c,height:lE},qE[qE.length-1]+=c+oE}),sE}_fitCols(vE,wE,xE,yE){const{ctx:zE,maxHeight:AE,options:{labels:{padding:BE}}}=this,CE=this.legendHitBoxes=[],DE=this.columnSizes=[],EE=AE-vE;let FE=BE,GE=0,HE=0,IE=0,JE=0;return this.legendItems.forEach((a,b)=>{const c=xE+wE/2+zE.measureText(a.text).width;b>0&&HE+yE+2*BE>EE&&(FE+=GE+BE,DE.push({width:GE,height:HE}),IE+=GE+BE,JE++,GE=HE=0),CE[b]={left:IE,top:HE,col:JE,width:c,height:yE},GE=Math.max(GE,c),HE+=yE+BE}),FE+=GE,DE.push({width:GE,height:HE}),FE}adjustHitBoxes(){if(this.options.display){const KE=this._computeTitleHeight(),{legendHitBoxes:LE,options:{align:ME,labels:{padding:NE},rtl:OE}}=this,PE=(0,d.aw)(OE,this.left,this.width);if(this.isHorizontal()){let QE=0,RE=(0,d.$)(ME,this.left+NE,this.right-this.lineWidths[QE]);for(const SE of LE)QE!==SE.row&&(QE=SE.row,RE=(0,d.$)(ME,this.left+NE,this.right-this.lineWidths[QE])),SE.top+=this.top+KE+NE,SE.left=PE.leftForLtr(PE.x(RE),SE.width),RE+=SE.width+NE}else{let TE=0,UE=(0,d.$)(ME,this.top+KE+NE,this.bottom-this.columnSizes[TE].height);for(const VE of LE)VE.col!==TE&&(TE=VE.col,UE=(0,d.$)(ME,this.top+KE+NE,this.bottom-this.columnSizes[TE].height)),VE.top=UE,VE.left+=this.left+NE,VE.left=PE.leftForLtr(PE.x(VE.left),VE.width),UE+=VE.height+NE}}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const WE=this.ctx;(0,d.V)(WE,this),this._draw(),(0,d.X)(WE)}}_draw(){const{options:XE,columnSizes:YE,lineWidths:ZE,ctx:$E}=this,{align:_E,labels:aF}=XE,bF=d.d.color,cF=(0,d.aw)(XE.rtl,this.left,this.width),dF=(0,d.Y)(aF.font),{color:eF,padding:fF}=aF,gF=dF.size,hF=gF/2;let iF;this.drawTitle(),$E.textAlign=cF.textAlign("left"),$E.textBaseline="middle",$E.lineWidth=0.5,$E.font=dF.string;const{boxWidth:jF,boxHeight:kF,itemHeight:lF}=RD(aF,gF),mF=function(a,b,c){if(!(isNaN(jF)||jF<=0||isNaN(kF))&&!(kF<0)){$E.save();const e=(0,d.v)(c.lineWidth,1);if($E.fillStyle=(0,d.v)(c.fillStyle,bF),$E.lineCap=(0,d.v)(c.lineCap,"butt"),$E.lineDashOffset=(0,d.v)(c.lineDashOffset,0),$E.lineJoin=(0,d.v)(c.lineJoin,"miter"),$E.lineWidth=e,$E.strokeStyle=(0,d.v)(c.strokeStyle,bF),$E.setLineDash((0,d.v)(c.lineDash,[])),aF.usePointStyle){const f={radius:jF*Math.SQRT2/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:e},g=cF.xPlus(a,jF/2),h=b+hF;(0,d.aq)($E,f,g,h)}else{const i=b+Math.max((gF-kF)/2,0),j=cF.leftForLtr(a,jF),k=(0,d.at)(c.borderRadius);$E.beginPath(),Object.values(k).some(a=>0!==a)?(0,d.ar)($E,{x:j,y:i,w:jF,h:kF,radius:k}):$E.rect(j,i,jF,kF),$E.fill(),0!==e&&$E.stroke()}$E.restore()}},nF=function(a,b,c){(0,d.W)($E,c.text,a,b+lF/2,dF,{strikethrough:c.hidden,textAlign:cF.textAlign(c.textAlign)})},oF=this.isHorizontal(),pF=this._computeTitleHeight();iF=oF?{x:(0,d.$)(_E,this.left+fF,this.right-ZE[0]),y:this.top+fF+pF,line:0}:{x:this.left+fF,y:(0,d.$)(_E,this.top+pF+fF,this.bottom-YE[0].height),line:0},(0,d.ax)(this.ctx,XE.textDirection);const qF=lF+fF;this.legendItems.forEach((a,b)=>{$E.strokeStyle=a.fontColor||eF,$E.fillStyle=a.fontColor||eF;const c=$E.measureText(a.text).width,e=cF.textAlign(a.textAlign||(a.textAlign=aF.textAlign)),f=jF+hF+c;let g=iF.x,h=iF.y;cF.setWidth(this.width),oF?b>0&&g+f+fF>this.right&&(h=iF.y+=qF,iF.line++,g=iF.x=(0,d.$)(_E,this.left+fF,this.right-ZE[iF.line])):b>0&&h+qF>this.bottom&&(g=iF.x=g+YE[iF.line].width+fF,iF.line++,h=iF.y=(0,d.$)(_E,this.top+pF+fF,this.bottom-YE[iF.line].height));const i=cF.x(g);mF(i,h,a),g=(0,d.ay)(e,g+jF+hF,oF?g+f:this.right,XE.rtl),nF(cF.x(g),h,a),oF?iF.x+=f+fF:iF.y+=qF}),(0,d.az)(this.ctx,XE.textDirection)}drawTitle(){const rF=this.options,sF=rF.title,tF=(0,d.Y)(sF.font),uF=(0,d.B)(sF.padding);if(sF.display){const vF=(0,d.aw)(rF.rtl,this.left,this.width),wF=this.ctx,xF=sF.position,yF=tF.size/2,zF=uF.top+yF;let AF,BF=this.left,CF=this.width;if(this.isHorizontal())CF=Math.max(...this.lineWidths),AF=this.top+zF,BF=(0,d.$)(rF.align,BF,this.right-CF);else{const DF=this.columnSizes.reduce((a,b)=>Math.max(a,b.height),0);AF=zF+(0,d.$)(rF.align,this.top,this.bottom-DF-rF.labels.padding-this._computeTitleHeight())}const EF=(0,d.$)(xF,BF,BF+CF);wF.textAlign=vF.textAlign((0,d.Z)(xF)),wF.textBaseline="middle",wF.strokeStyle=sF.color,wF.fillStyle=sF.color,wF.font=tF.string,(0,d.W)(wF,sF.text,EF,AF,tF)}}_computeTitleHeight(){const FF=this.options.title,GF=(0,d.Y)(FF.font),HF=(0,d.B)(FF.padding);return FF.display?GF.lineHeight+HF.height:0}_getLegendItemAt(IF,JF){let KF,LF,MF;if((0,d.ag)(IF,this.left,this.right)&&(0,d.ag)(JF,this.top,this.bottom)){for(KF=0,MF=this.legendHitBoxes;KF<MF.length;++KF)if(LF=MF[KF],(0,d.ag)(IF,LF.left,LF.left+LF.width)&&(0,d.ag)(JF,LF.top,LF.top+LF.height))return this.legendItems[KF]}return null}handleEvent(NF){const OF=this.options;if(SF(NF.type,OF)){const PF=this._getLegendItemAt(NF.x,NF.y);if("mousemove"===NF.type){const QF=this._hoveredItem,RF=SD(QF,PF);QF&&!RF&&(0,d.N)(OF.onLeave,[NF,QF,this],this),this._hoveredItem=PF,PF&&!RF&&(0,d.N)(OF.onHover,[NF,PF,this],this)}else PF&&(0,d.N)(OF.onClick,[NF,PF,this],this)}}}function SF(a,b){return"mousemove"===a&&(!!b.onHover||!!b.onLeave)|| !!b.onClick&&("click"===a||"mouseup"===a)}var TF={id:"legend",_element:TD,start(a,b,c){const d=a.legend=new TD({ctx:a.ctx,options:c,chart:a});qn.configure(a,d,c),qn.addBox(a,d)},stop(a){qn.removeBox(a,a.legend),delete a.legend},beforeUpdate(a,b,c){const d=a.legend;qn.configure(a,d,c),d.options=c},afterUpdate(a){const b=a.legend;b.buildLabels(),b.adjustHitBoxes()},afterEvent(a,b){b.replay||a.legend.handleEvent(b.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1000,onClick(a,b,c){const d=b.datasetIndex,e=c.chart;e.isDatasetVisible(d)?(e.hide(d),b.hidden=!0):(e.show(d),b.hidden=!1)},onHover:null,onLeave:null,labels:{color:a=>a.chart.options.color,boxWidth:40,padding:10,generateLabels(a){const b=a.data.datasets,{labels:{usePointStyle:c,pointStyle:e,textAlign:f,color:g}}=a.legend.options;return a._getSortedDatasetMetas().map(a=>{const h=a.controller.getStyle(c?0:void 0),i=(0,d.B)(h.borderWidth);return{text:b[a.index].label,fillStyle:h.backgroundColor,fontColor:g,hidden:!a.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(i.width+i.height)/4,strokeStyle:h.borderColor,pointStyle:e||h.pointStyle,rotation:h.rotation,textAlign:f||h.textAlign,borderRadius:0,datasetIndex:a.index}},this)}},title:{color:a=>a.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:a=>!a.startsWith("on"),labels:{_scriptable:a=>!["generateLabels","filter","sort"].includes(a)}}};class UF extends Vn{constructor(VF){super(),this.chart=VF.chart,this.options=VF.options,this.ctx=VF.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(WF,XF){const YF=this.options;if(this.left=0,this.top=0,!YF.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=WF,this.height=this.bottom=XF;const ZF=(0,d.b)(YF.text)?YF.text.length:1;this._padding=(0,d.B)(YF.padding);const $F=ZF*(0,d.Y)(YF.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=$F:this.width=$F}isHorizontal(){const _F=this.options.position;return"top"===_F||"bottom"===_F}_drawArgs(aG){const{top:bG,left:cG,bottom:dG,right:eG,options:fG}=this,gG=fG.align;let hG=0,iG,jG,kG;return this.isHorizontal()?(jG=(0,d.$)(gG,cG,eG),kG=bG+aG,iG=eG-cG):("left"===fG.position?(jG=cG+aG,kG=(0,d.$)(gG,dG,bG),hG=-0.5*d.P):(jG=eG-aG,kG=(0,d.$)(gG,bG,dG),hG=0.5*d.P),iG=dG-bG),{titleX:jG,titleY:kG,maxWidth:iG,rotation:hG}}draw(){const lG=this.ctx,mG=this.options;if(mG.display){const nG=(0,d.Y)(mG.font),oG=nG.lineHeight,pG=oG/2+this._padding.top,{titleX:qG,titleY:rG,maxWidth:sG,rotation:tG}=this._drawArgs(pG);(0,d.W)(lG,mG.text,0,0,nG,{color:mG.color,maxWidth:sG,rotation:tG,textAlign:(0,d.Z)(mG.align),textBaseline:"middle",translation:[qG,rG]})}}}var uG={id:"title",_element:UF,start(a,b,c){!function(a,b){const c=new UF({ctx:a.ctx,options:b,chart:a});qn.configure(a,c,b),qn.addBox(a,c),a.titleBlock=c}(a,c)},stop(a){const b=a.titleBlock;qn.removeBox(a,b),delete a.titleBlock},beforeUpdate(a,b,c){const d=a.titleBlock;qn.configure(a,d,c),d.options=c},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2000},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const vG=new WeakMap();var wG={id:"subtitle",start(a,b,c){const d=new UF({ctx:a.ctx,options:c,chart:a});qn.configure(a,d,c),qn.addBox(a,d),vG.set(a,d)},stop(a){qn.removeBox(a,vG.get(a)),vG.delete(a)},beforeUpdate(a,b,c){const d=vG.get(a);qn.configure(a,d,c),d.options=c},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const xG={average(a){if(!a.length)return!1;let b,c,d=0,e=0,f=0;for(b=0,c=a.length;b<c;++b){const g=a[b].element;if(g&&g.hasValue()){const h=g.tooltipPosition();d+=h.x,e+=h.y,++f}}return{x:d/f,y:e/f}},nearest(a,b){if(!a.length)return!1;let c=b.x,e=b.y,f=Number.POSITIVE_INFINITY,g,h,i;for(g=0,h=a.length;g<h;++g){const j=a[g].element;if(j&&j.hasValue()){const k=j.getCenterPoint(),l=(0,d.aB)(b,k);l<f&&(f=l,i=j)}}if(i){const m=i.tooltipPosition();c=m.x,e=m.y}return{x:c,y:e}}};function yG(a,b){return b&&((0,d.b)(b)?Array.prototype.push.apply(a,b):a.push(b)),a}function zG(a){return("string"==typeof a||a instanceof String)&&a.indexOf("\n")> -1?a.split("\n"):a}function AG(a,b){const{element:c,datasetIndex:d,index:e}=b,f=a.getDatasetMeta(d).controller,{label:g,value:h}=f.getLabelAndValue(e);return{chart:a,label:g,parsed:f.getParsed(e),raw:a.data.datasets[d].data[e],formattedValue:h,dataset:f.getDataset(),dataIndex:e,datasetIndex:d,element:c}}function BG(a,b){const c=a._chart.ctx,{body:e,footer:f,title:g}=a,{boxWidth:h,boxHeight:i}=b,j=(0,d.Y)(b.bodyFont),k=(0,d.Y)(b.titleFont),l=(0,d.Y)(b.footerFont),m=g.length,n=f.length,o=e.length,p=(0,d.B)(b.padding);let q=p.height,r=0,s=e.reduce((a,b)=>a+b.before.length+b.lines.length+b.after.length,0);if(s+=a.beforeBody.length+a.afterBody.length,m&&(q+=m*k.lineHeight+(m-1)*b.titleSpacing+b.titleMarginBottom),s){const t=b.displayColors?Math.max(i,j.lineHeight):j.lineHeight;q+=o*t+(s-o)*j.lineHeight+(s-1)*b.bodySpacing}n&&(q+=b.footerMarginTop+n*l.lineHeight+(n-1)*b.footerSpacing);let u=0;const v=function(a){r=Math.max(r,c.measureText(a).width+u)};return c.save(),c.font=k.string,(0,d.C)(a.title,v),c.font=j.string,(0,d.C)(a.beforeBody.concat(a.afterBody),v),u=b.displayColors?h+2+b.boxPadding:0,(0,d.C)(e,a=>{(0,d.C)(a.before,v),(0,d.C)(a.lines,v),(0,d.C)(a.after,v)}),u=0,c.font=l.string,(0,d.C)(a.footer,v),c.restore(),r+=p.width,{width:r,height:q}}function CG(a,b,c){const d=b.yAlign||function(a,b){const{y:c,height:d}=b;return c<d/2?"top":c>a.height-d/2?"bottom":"center"}(a,c);return{xAlign:b.xAlign||(function(a,b,c,d){const{x:e,width:f}=c,{width:g,chartArea:{left:h,right:i}}=a;let j="center";return"center"===d?j=e<=(h+i)/2?"left":"right":e<=f/2?j="left":e>=g-f/2&&(j="right"),(function(a,b,c,d){const{x:e,width:f}=d,g=c.caretSize+c.caretPadding;return"left"===a&&e+f+g>b.width||"right"===a&&e-f-g<0||void 0})(j,a,b,c)&&(j="center"),j})(a,b,c,d),yAlign:d}}function DG(a,b,c,e){const{caretSize:f,caretPadding:g,cornerRadius:h}=a,{xAlign:i,yAlign:j}=c,k=f+g,{topLeft:l,topRight:m,bottomLeft:n,bottomRight:o}=(0,d.at)(h);let p=function(a,b){let{x:c,width:d}=a;return"right"===b?c-=d:"center"===b&&(c-=d/2),c}(b,i);const q=function(a,b,c){let{y:d,height:e}=a;return"top"===b?d+=c:"bottom"===b?d-=e+c:d-=e/2,d}(b,j,k);return"center"===j?"left"===i?p+=k:"right"===i&&(p-=k):"left"===i?p-=Math.max(l,n)+f:"right"===i&&(p+=Math.max(m,o)+f),{x:(0,d.w)(p,0,e.width-b.width),y:(0,d.w)(q,0,e.height-b.height)}}function EG(a,b,c){const e=(0,d.B)(c.padding);return"center"===b?a.x+a.width/2:"right"===b?a.x+a.width-e.right:a.x+e.left}function FG(a){return yG([],zG(a))}function GG(a,b){const c=b&&b.dataset&&b.dataset.tooltip&&b.dataset.tooltip.callbacks;return c?a.override(c):a}class HG extends Vn{constructor(IG){super(),this.opacity=0,this._active=[],this._chart=IG._chart,this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.options=IG.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(JG){this.options=JG,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const KG=this._cachedAnimations;if(KG)return KG;const LG=this._chart,MG=this.options.setContext(this.getContext()),NG=MG.enabled&&LG.options.animation&&MG.animations,OG=new ga(this._chart,NG);return NG._cacheable&&(this._cachedAnimations=Object.freeze(OG)),OG}getContext(){var PG,QG,RG;return this.$context||(this.$context=(PG=this._chart.getContext(),QG=this,RG=this._tooltipItems,(0,d.h)(PG,{tooltip:QG,tooltipItems:RG,type:"tooltip"})))}getTitle(SG,TG){const{callbacks:UG}=TG,VG=UG.beforeTitle.apply(this,[SG]),WG=UG.title.apply(this,[SG]),XG=UG.afterTitle.apply(this,[SG]);let YG=[];return YG=yG(YG,zG(VG)),YG=yG(YG,zG(WG)),YG=yG(YG,zG(XG))}getBeforeBody(ZG,$G){return FG($G.callbacks.beforeBody.apply(this,[ZG]))}getBody(_G,aH){const{callbacks:bH}=aH,cH=[];return(0,d.C)(_G,a=>{const b={before:[],lines:[],after:[]},c=GG(bH,a);yG(b.before,zG(c.beforeLabel.call(this,a))),yG(b.lines,c.label.call(this,a)),yG(b.after,zG(c.afterLabel.call(this,a))),cH.push(b)}),cH}getAfterBody(dH,eH){return FG(eH.callbacks.afterBody.apply(this,[dH]))}getFooter(fH,gH){const{callbacks:hH}=gH,iH=hH.beforeFooter.apply(this,[fH]),jH=hH.footer.apply(this,[fH]),kH=hH.afterFooter.apply(this,[fH]);let lH=[];return lH=yG(lH,zG(iH)),lH=yG(lH,zG(jH)),lH=yG(lH,zG(kH))}_createItems(mH){const nH=this._active,oH=this._chart.data,pH=[],qH=[],rH=[];let sH=[],tH,uH;for(tH=0,uH=nH.length;tH<uH;++tH)sH.push(AG(this._chart,nH[tH]));return mH.filter&&(sH=sH.filter((a,b,c)=>mH.filter(a,b,c,oH))),mH.itemSort&&(sH=sH.sort((a,b)=>mH.itemSort(a,b,oH))),(0,d.C)(sH,a=>{const b=GG(mH.callbacks,a);pH.push(b.labelColor.call(this,a)),qH.push(b.labelPointStyle.call(this,a)),rH.push(b.labelTextColor.call(this,a))}),this.labelColors=pH,this.labelPointStyles=qH,this.labelTextColors=rH,this.dataPoints=sH,sH}update(vH,wH){const xH=this.options.setContext(this.getContext()),yH=this._active;let zH,AH=[];if(yH.length){const BH=xG[xH.position].call(this,yH,this._eventPosition);AH=this._createItems(xH),this.title=this.getTitle(AH,xH),this.beforeBody=this.getBeforeBody(AH,xH),this.body=this.getBody(AH,xH),this.afterBody=this.getAfterBody(AH,xH),this.footer=this.getFooter(AH,xH);const CH=this._size=BG(this,xH),DH=Object.assign({},BH,CH),EH=CG(this._chart,xH,DH),FH=DG(xH,DH,EH,this._chart);this.xAlign=EH.xAlign,this.yAlign=EH.yAlign,zH={opacity:1,x:FH.x,y:FH.y,width:CH.width,height:CH.height,caretX:BH.x,caretY:BH.y}}else 0!==this.opacity&&(zH={opacity:0});this._tooltipItems=AH,this.$context=void 0,zH&&this._resolveAnimations().update(this,zH),vH&&xH.external&&xH.external.call(this,{chart:this._chart,tooltip:this,replay:wH})}drawCaret(GH,HH,IH,JH){const KH=this.getCaretPosition(GH,IH,JH);HH.lineTo(KH.x1,KH.y1),HH.lineTo(KH.x2,KH.y2),HH.lineTo(KH.x3,KH.y3)}getCaretPosition(LH,MH,NH){const{xAlign:OH,yAlign:PH}=this,{caretSize:QH,cornerRadius:RH}=NH,{topLeft:SH,topRight:TH,bottomLeft:UH,bottomRight:VH}=(0,d.at)(RH),{x:WH,y:XH}=LH,{width:YH,height:ZH}=MH;let $H,_H,aI,bI,cI,dI;return"center"===PH?(cI=XH+ZH/2,"left"===OH?(_H=($H=WH)-QH,bI=cI+QH,dI=cI-QH):(_H=($H=WH+YH)+QH,bI=cI-QH,dI=cI+QH),aI=$H):(_H="left"===OH?WH+Math.max(SH,UH)+QH:"right"===OH?WH+YH-Math.max(TH,VH)-QH:this.caretX,"top"===PH?(cI=(bI=XH)-QH,$H=_H-QH,aI=_H+QH):(cI=(bI=XH+ZH)+QH,$H=_H+QH,aI=_H-QH),dI=bI),{x1:$H,x2:_H,x3:aI,y1:bI,y2:cI,y3:dI}}drawTitle(eI,fI,gI){const hI=this.title,iI=hI.length;let jI,kI,lI;if(iI){const mI=(0,d.aw)(gI.rtl,this.x,this.width);for(lI=0,eI.x=EG(this,gI.titleAlign,gI),fI.textAlign=mI.textAlign(gI.titleAlign),fI.textBaseline="middle",jI=(0,d.Y)(gI.titleFont),kI=gI.titleSpacing,fI.fillStyle=gI.titleColor,fI.font=jI.string;lI<iI;++lI)fI.fillText(hI[lI],mI.x(eI.x),eI.y+jI.lineHeight/2),eI.y+=jI.lineHeight+kI,lI+1===iI&&(eI.y+=gI.titleMarginBottom-kI)}}_drawColorBox(nI,oI,pI,qI,rI){const sI=this.labelColors[pI],tI=this.labelPointStyles[pI],{boxHeight:uI,boxWidth:vI,boxPadding:wI}=rI,xI=(0,d.Y)(rI.bodyFont),yI=EG(this,"left",rI),zI=qI.x(yI),AI=uI<xI.lineHeight?(xI.lineHeight-uI)/2:0,BI=oI.y+AI;if(rI.usePointStyle){const CI={radius:Math.min(vI,uI)/2,pointStyle:tI.pointStyle,rotation:tI.rotation,borderWidth:1},DI=qI.leftForLtr(zI,vI)+vI/2,EI=BI+uI/2;nI.strokeStyle=rI.multiKeyBackground,nI.fillStyle=rI.multiKeyBackground,(0,d.aq)(nI,CI,DI,EI),nI.strokeStyle=sI.borderColor,nI.fillStyle=sI.backgroundColor,(0,d.aq)(nI,CI,DI,EI)}else{nI.lineWidth=sI.borderWidth||1,nI.strokeStyle=sI.borderColor,nI.setLineDash(sI.borderDash||[]),nI.lineDashOffset=sI.borderDashOffset||0;const FI=qI.leftForLtr(zI,vI-wI),GI=qI.leftForLtr(qI.xPlus(zI,1),vI-wI-2),HI=(0,d.at)(sI.borderRadius);Object.values(HI).some(a=>0!==a)?(nI.beginPath(),nI.fillStyle=rI.multiKeyBackground,(0,d.ar)(nI,{x:FI,y:BI,w:vI,h:uI,radius:HI}),nI.fill(),nI.stroke(),nI.fillStyle=sI.backgroundColor,nI.beginPath(),(0,d.ar)(nI,{x:GI,y:BI+1,w:vI-2,h:uI-2,radius:HI}),nI.fill()):(nI.fillStyle=rI.multiKeyBackground,nI.fillRect(FI,BI,vI,uI),nI.strokeRect(FI,BI,vI,uI),nI.fillStyle=sI.backgroundColor,nI.fillRect(GI,BI+1,vI-2,uI-2))}nI.fillStyle=this.labelTextColors[pI]}drawBody(II,JI,KI){const{body:LI}=this,{bodySpacing:MI,bodyAlign:NI,displayColors:OI,boxHeight:PI,boxWidth:QI,boxPadding:RI}=KI,SI=(0,d.Y)(KI.bodyFont);let TI=SI.lineHeight,UI=0;const VI=(0,d.aw)(KI.rtl,this.x,this.width),WI=function(a){JI.fillText(a,VI.x(II.x+UI),II.y+TI/2),II.y+=TI+MI},XI=VI.textAlign(NI);let YI,ZI,$I,_I,aJ,bJ,cJ;for(JI.textAlign=NI,JI.textBaseline="middle",JI.font=SI.string,II.x=EG(this,XI,KI),JI.fillStyle=KI.bodyColor,(0,d.C)(this.beforeBody,WI),UI=OI&&"right"!==XI?"center"===NI?QI/2+RI:QI+2+RI:0,_I=0,bJ=LI.length;_I<bJ;++_I){for(YI=LI[_I],ZI=this.labelTextColors[_I],JI.fillStyle=ZI,(0,d.C)(YI.before,WI),$I=YI.lines,OI&&$I.length&&(this._drawColorBox(JI,II,_I,VI,KI),TI=Math.max(SI.lineHeight,PI)),aJ=0,cJ=$I.length;aJ<cJ;++aJ)WI($I[aJ]),TI=SI.lineHeight;(0,d.C)(YI.after,WI)}UI=0,TI=SI.lineHeight,(0,d.C)(this.afterBody,WI),II.y-=MI}drawFooter(dJ,eJ,fJ){const gJ=this.footer,hJ=gJ.length;let iJ,jJ;if(hJ){const kJ=(0,d.aw)(fJ.rtl,this.x,this.width);for(dJ.x=EG(this,fJ.footerAlign,fJ),dJ.y+=fJ.footerMarginTop,eJ.textAlign=kJ.textAlign(fJ.footerAlign),eJ.textBaseline="middle",iJ=(0,d.Y)(fJ.footerFont),eJ.fillStyle=fJ.footerColor,eJ.font=iJ.string,jJ=0;jJ<hJ;++jJ)eJ.fillText(gJ[jJ],kJ.x(dJ.x),dJ.y+iJ.lineHeight/2),dJ.y+=iJ.lineHeight+fJ.footerSpacing}}drawBackground(lJ,mJ,nJ,oJ){const{xAlign:pJ,yAlign:qJ}=this,{x:rJ,y:sJ}=lJ,{width:tJ,height:uJ}=nJ,{topLeft:vJ,topRight:wJ,bottomLeft:xJ,bottomRight:yJ}=(0,d.at)(oJ.cornerRadius);mJ.fillStyle=oJ.backgroundColor,mJ.strokeStyle=oJ.borderColor,mJ.lineWidth=oJ.borderWidth,mJ.beginPath(),mJ.moveTo(rJ+vJ,sJ),"top"===qJ&&this.drawCaret(lJ,mJ,nJ,oJ),mJ.lineTo(rJ+tJ-wJ,sJ),mJ.quadraticCurveTo(rJ+tJ,sJ,rJ+tJ,sJ+wJ),"center"===qJ&&"right"===pJ&&this.drawCaret(lJ,mJ,nJ,oJ),mJ.lineTo(rJ+tJ,sJ+uJ-yJ),mJ.quadraticCurveTo(rJ+tJ,sJ+uJ,rJ+tJ-yJ,sJ+uJ),"bottom"===qJ&&this.drawCaret(lJ,mJ,nJ,oJ),mJ.lineTo(rJ+xJ,sJ+uJ),mJ.quadraticCurveTo(rJ,sJ+uJ,rJ,sJ+uJ-xJ),"center"===qJ&&"left"===pJ&&this.drawCaret(lJ,mJ,nJ,oJ),mJ.lineTo(rJ,sJ+vJ),mJ.quadraticCurveTo(rJ,sJ,rJ+vJ,sJ),mJ.closePath(),mJ.fill(),oJ.borderWidth>0&&mJ.stroke()}_updateAnimationTarget(zJ){const AJ=this._chart,BJ=this.$animations,CJ=BJ&&BJ.x,DJ=BJ&&BJ.y;if(CJ||DJ){const EJ=xG[zJ.position].call(this,this._active,this._eventPosition);if(!EJ)return;const FJ=this._size=BG(this,zJ),GJ=Object.assign({},EJ,this._size),HJ=CG(AJ,zJ,GJ),IJ=DG(zJ,GJ,HJ,AJ);(CJ._to!==IJ.x||DJ._to!==IJ.y)&&(this.xAlign=HJ.xAlign,this.yAlign=HJ.yAlign,this.width=FJ.width,this.height=FJ.height,this.caretX=EJ.x,this.caretY=EJ.y,this._resolveAnimations().update(this,IJ))}}draw(JJ){const KJ=this.options.setContext(this.getContext());let LJ=this.opacity;if(LJ){this._updateAnimationTarget(KJ);const MJ={width:this.width,height:this.height},NJ={x:this.x,y:this.y};LJ=0.001>Math.abs(LJ)?0:LJ;const OJ=(0,d.B)(KJ.padding),PJ=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;KJ.enabled&&PJ&&(JJ.save(),JJ.globalAlpha=LJ,this.drawBackground(NJ,JJ,MJ,KJ),(0,d.ax)(JJ,KJ.textDirection),NJ.y+=OJ.top,this.drawTitle(NJ,JJ,KJ),this.drawBody(NJ,JJ,KJ),this.drawFooter(NJ,JJ,KJ),(0,d.az)(JJ,KJ.textDirection),JJ.restore())}}getActiveElements(){return this._active||[]}setActiveElements(QJ,RJ){const SJ=this._active,TJ=QJ.map(({datasetIndex:a,index:b})=>{const c=this._chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[b],index:b}}),UJ=!(0,d.ae)(SJ,TJ),VJ=this._positionChanged(TJ,RJ);(UJ||VJ)&&(this._active=TJ,this._eventPosition=RJ,this.update(!0))}handleEvent(WJ,XJ){const YJ=this.options,ZJ=this._active||[];let $J=!1,_J=[];"mouseout"!==WJ.type&&(_J=this._chart.getElementsAtEventForMode(WJ,YJ.mode,YJ,XJ),YJ.reverse&&_J.reverse());const aK=this._positionChanged(_J,WJ);return($J=XJ||!(0,d.ae)(_J,ZJ)||aK)&&(this._active=_J,(YJ.enabled||YJ.external)&&(this._eventPosition={x:WJ.x,y:WJ.y},this.update(!0,XJ))),$J}_positionChanged(bK,cK){const{caretX:dK,caretY:eK,options:fK}=this,gK=xG[fK.position].call(this,bK,cK);return!1!==gK&&(dK!==gK.x||eK!==gK.y)}}HG.positioners=xG;var hK={id:"tooltip",_element:HG,positioners:xG,afterInit(a,b,c){c&&(a.tooltip=new HG({_chart:a,options:c}))},beforeUpdate(a,b,c){a.tooltip&&a.tooltip.initialize(c)},reset(a,b,c){a.tooltip&&a.tooltip.initialize(c)},afterDraw(a){const b=a.tooltip,c={tooltip:b};!1!==a.notifyPlugins("beforeTooltipDraw",c)&&(b&&b.draw(a.ctx),a.notifyPlugins("afterTooltipDraw",c))},afterEvent(a,b){if(a.tooltip){const c=b.replay;a.tooltip.handleEvent(b.event,c)&&(b.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(a,b)=>b.bodyFont.size,boxWidth:(a,b)=>b.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:d.aA,title(a){if(a.length>0){const b=a[0],c=b.chart.data.labels,d=c?c.length:0;if(this&&this.options&&"dataset"===this.options.mode)return b.dataset.label||"";if(b.label)return b.label;if(d>0&&b.dataIndex<d)return c[b.dataIndex]}return""},afterTitle:d.aA,beforeBody:d.aA,beforeLabel:d.aA,label(a){if(this&&this.options&&"dataset"===this.options.mode)return a.label+": "+a.formattedValue||a.formattedValue;let b=a.dataset.label||"";b&&(b+=": ");const c=a.formattedValue;return(0,d.k)(c)||(b+=c),b},labelColor(a){const b=a.chart.getDatasetMeta(a.datasetIndex),c=b.controller.getStyle(a.dataIndex);return{borderColor:c.borderColor,backgroundColor:c.backgroundColor,borderWidth:c.borderWidth,borderDash:c.borderDash,borderDashOffset:c.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(a){const b=a.chart.getDatasetMeta(a.datasetIndex),c=b.controller.getStyle(a.dataIndex);return{pointStyle:c.pointStyle,rotation:c.rotation}},afterLabel:d.aA,afterBody:d.aA,beforeFooter:d.aA,footer:d.aA,afterFooter:d.aA}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:a=>"filter"!==a&&"itemSort"!==a&&"external"!==a,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};Object.freeze({__proto__:null,Decimation:pD,Filler:QD,Legend:TF,SubTitle:wG,Title:uG,Tooltip:hK});const iK=(a,b,c,d)=>("string"==typeof b?(c=a.push(b)-1,d.unshift({index:c,label:b})):isNaN(b)&&(c=null),c),jK=(a,b)=>null===a?null:(0,d.w)(Math.round(a),0,b);class kK extends mo{constructor(lK){super(lK),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(mK){const nK=this._addedLabels;if(nK.length){const oK=this.getLabels();for(const{index:pK,label:qK}of nK)oK[pK]===qK&&oK.splice(pK,1);this._addedLabels=[]}super.init(mK)}parse(rK,sK){if((0,d.k)(rK))return null;const tK=this.getLabels();return jK(sK=isFinite(sK)&&tK[sK]===rK?sK:function(a,b,c,d){const e=a.indexOf(b);if(-1===e)return iK(a,b,c,d);const f=a.lastIndexOf(b);return e!==f?c:e}(tK,rK,(0,d.v)(sK,rK),this._addedLabels),tK.length-1)}determineDataLimits(){const{minDefined:uK,maxDefined:vK}=this.getUserBounds();let{min:wK,max:xK}=this.getMinMax(!0);"ticks"!==this.options.bounds||(uK||(wK=0),vK||(xK=this.getLabels().length-1)),this.min=wK,this.max=xK}buildTicks(){const yK=this.min,zK=this.max,AK=this.options.offset,BK=[];let CK=this.getLabels();CK=0===yK&&zK===CK.length-1?CK:CK.slice(yK,zK+1),this._valueRange=Math.max(CK.length-(AK?0:1),1),this._startValue=this.min-(AK?0.5:0);for(let DK=yK;DK<=zK;DK++)BK.push({value:DK});return BK}getLabelForValue(EK){const FK=this.getLabels();return EK>=0&&EK<FK.length?FK[EK]:EK}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(GK){return"number"!=typeof GK&&(GK=this.parse(GK)),null===GK?NaN:this.getPixelForDecimal((GK-this._startValue)/this._valueRange)}getPixelForTick(HK){const IK=this.ticks;return HK<0||HK>IK.length-1?null:this.getPixelForValue(IK[HK].value)}getValueForPixel(JK){return Math.round(this._startValue+this.getDecimalForPixel(JK)*this._valueRange)}getBasePixel(){return this.bottom}}function KK(a,b,{horizontal:c,minRotation:e}){const f=(0,d.t)(e),g=0.75*b*(""+a).length;return Math.min(b/((c?Math.sin(f):Math.cos(f))||0.001),g)}kK.id="category",kK.defaults={ticks:{callback:kK.prototype.getLabelForValue}};class LK extends mo{constructor(MK){super(MK),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(NK,OK){return(0,d.k)(NK)?null:("number"==typeof NK||NK instanceof Number)&&!isFinite(+NK)?null:+NK}handleTickRangeOptions(){const{beginAtZero:PK}=this.options,{minDefined:QK,maxDefined:RK}=this.getUserBounds();let{min:SK,max:TK}=this;const UK=a=>SK=QK?SK:a,VK=a=>TK=RK?TK:a;if(PK){const WK=(0,d.s)(SK),XK=(0,d.s)(TK);WK<0&&XK<0?VK(0):WK>0&&XK>0&&UK(0)}if(SK===TK){let YK=1;(TK>=Number.MAX_SAFE_INTEGER||SK<=Number.MIN_SAFE_INTEGER)&&(YK=Math.abs(0.05*TK)),VK(TK+YK),PK||UK(SK-YK)}this.min=SK,this.max=TK}getTickLimit(){const ZK=this.options.ticks;let{maxTicksLimit:$K,stepSize:_K}=ZK,aL;return _K?(aL=Math.ceil(this.max/_K)-Math.floor(this.min/_K)+1)>1000&&(console.warn(`scales.${this.id}.ticks.stepSize: ${_K} would result generating up to ${aL} ticks. Limiting to 1000.`),aL=1000):(aL=this.computeTickLimit(),$K=$K||11),$K&&(aL=Math.min($K,aL)),aL}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const bL=this.options,cL=bL.ticks;let dL=this.getTickLimit();dL=Math.max(2,dL);const eL={maxTicks:dL,bounds:bL.bounds,min:bL.min,max:bL.max,precision:cL.precision,step:cL.stepSize,count:cL.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:cL.minRotation||0,includeBounds:!1!==cL.includeBounds},fL=this._range||this,gL=function(a,b){const c=[],{bounds:e,step:f,min:g,max:h,precision:i,count:j,maxTicks:k,maxDigits:l,includeBounds:m}=a,n=f||1,o=k-1,{min:p,max:q}=b,r=!(0,d.k)(g),s=!(0,d.k)(h),t=!(0,d.k)(j),u=(q-p)/(l+1);let v=(0,d.aD)((q-p)/o/n)*n,w,x,y,z;if(v<0.00000000000001&&!r&&!s)return[{value:p},{value:q}];(z=Math.ceil(q/v)-Math.floor(p/v))>o&&(v=(0,d.aD)(z*v/o/n)*n),(0,d.k)(i)||(w=Math.pow(10,i),v=Math.ceil(v*w)/w),"ticks"===e?(x=Math.floor(p/v)*v,y=Math.ceil(q/v)*v):(x=p,y=q),r&&s&&f&&(0,d.aE)((h-g)/f,v/1000)?(z=Math.round(Math.min((h-g)/v,k)),v=(h-g)/z,x=g,y=h):t?(x=r?g:x,v=((y=s?h:y)-x)/(z=j-1)):(z=(y-x)/v,z=(0,d.aF)(z,Math.round(z),v/1000)?Math.round(z):Math.ceil(z));const A=Math.max((0,d.aG)(v),(0,d.aG)(x));w=Math.pow(10,(0,d.k)(i)?A:i),x=Math.round(x*w)/w,y=Math.round(y*w)/w;let B=0;for(r&&(m&&x!==g?(c.push({value:g}),x<g&&B++,(0,d.aF)(Math.round((x+B*v)*w)/w,g,KK(g,u,a))&&B++):x<g&&B++);B<z;++B)c.push({value:Math.round((x+B*v)*w)/w});return s&&m&&y!==h?c.length&&(0,d.aF)(c[c.length-1].value,h,KK(h,u,a))?c[c.length-1].value=h:c.push({value:h}):s&&y!==h||c.push({value:y}),c}(eL,fL);return"ticks"===bL.bounds&&(0,d.aC)(gL,this,"value"),bL.reverse?(gL.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),gL}configure(){const hL=this.ticks;let iL=this.min,jL=this.max;if(super.configure(),this.options.offset&&hL.length){const kL=(jL-iL)/Math.max(hL.length-1,1)/2;iL-=kL,jL+=kL}this._startValue=iL,this._endValue=jL,this._valueRange=jL-iL}getLabelForValue(lL){return(0,d.o)(lL,this.chart.options.locale,this.options.ticks.format)}}class mL extends LK{determineDataLimits(){const{min:nL,max:oL}=this.getMinMax(!0);this.min=(0,d.g)(nL)?nL:0,this.max=(0,d.g)(oL)?oL:1,this.handleTickRangeOptions()}computeTickLimit(){const pL=this.isHorizontal(),qL=pL?this.width:this.height,rL=(0,d.t)(this.options.ticks.minRotation),sL=this._resolveTickFontOptions(0);return Math.ceil(qL/Math.min(40,sL.lineHeight/((pL?Math.sin(rL):Math.cos(rL))||0.001)))}getPixelForValue(tL){return null===tL?NaN:this.getPixelForDecimal((tL-this._startValue)/this._valueRange)}getValueForPixel(uL){return this._startValue+this.getDecimalForPixel(uL)*this._valueRange}}function vL(a){const b=a/Math.pow(10,Math.floor((0,d.K)(a)));return 1===b}mL.id="linear",mL.defaults={ticks:{callback:eo.formatters.numeric}};class wL extends mo{constructor(xL){super(xL),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(yL,zL){const AL=LK.prototype.parse.apply(this,[yL,zL]);if(0===AL){this._zero=!0;return}return(0,d.g)(AL)&&AL>0?AL:null}determineDataLimits(){const{min:BL,max:CL}=this.getMinMax(!0);this.min=(0,d.g)(BL)?Math.max(0,BL):null,this.max=(0,d.g)(CL)?Math.max(0,CL):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:DL,maxDefined:EL}=this.getUserBounds();let FL=this.min,GL=this.max;const HL=a=>FL=DL?FL:a,IL=a=>GL=EL?GL:a,JL=(a,b)=>Math.pow(10,Math.floor((0,d.K)(a))+b);FL===GL&&(FL<=0?(HL(1),IL(10)):(HL(JL(FL,-1)),IL(JL(GL,1)))),FL<=0&&HL(JL(GL,-1)),GL<=0&&IL(JL(FL,1)),this._zero&&this.min!==this._suggestedMin&&FL===JL(this.min,0)&&HL(JL(FL,-1)),this.min=FL,this.max=GL}buildTicks(){const KL=this.options,LL={min:this._userMin,max:this._userMax},ML=function(a,b){const c=Math.floor((0,d.K)(b.max)),e=Math.ceil(b.max/Math.pow(10,c)),f=[];let g=(0,d.M)(a.min,Math.pow(10,Math.floor((0,d.K)(b.min)))),h=Math.floor((0,d.K)(g)),i=Math.floor(g/Math.pow(10,h)),j=h<0?Math.pow(10,Math.abs(h)):1;do f.push({value:g,major:vL(g)}),++i,10===i&&(i=1,++h,j=h>=0?1:j),g=Math.round(i*Math.pow(10,h)*j)/j;while(h<c||h===c&&i<e)const k=(0,d.M)(a.max,g);return f.push({value:k,major:vL(g)}),f}(LL,this);return"ticks"===KL.bounds&&(0,d.aC)(ML,this,"value"),KL.reverse?(ML.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),ML}getLabelForValue(NL){return void 0===NL?"0":(0,d.o)(NL,this.chart.options.locale,this.options.ticks.format)}configure(){const OL=this.min;super.configure(),this._startValue=(0,d.K)(OL),this._valueRange=(0,d.K)(this.max)-(0,d.K)(OL)}getPixelForValue(PL){return((void 0===PL||0===PL)&&(PL=this.min),null===PL||isNaN(PL))?NaN:this.getPixelForDecimal(PL===this.min?0:((0,d.K)(PL)-this._startValue)/this._valueRange)}getValueForPixel(QL){const RL=this.getDecimalForPixel(QL);return Math.pow(10,this._startValue+RL*this._valueRange)}}function SL(a){const b=a.ticks;if(b.display&&a.display){const c=(0,d.B)(b.backdropPadding);return(0,d.v)(b.font&&b.font.size,d.d.font.size)+c.height}return 0}function TL(a,b,c){return c=(0,d.b)(c)?c:[c],{w:(0,d.aH)(a,b.string,c),h:c.length*b.lineHeight}}function UL(a,b,c,d,e){return a===d||a===e?{start:b-c/2,end:b+c/2}:a<d||a>e?{start:b-c,end:b}:{start:b,end:b+c}}function VL(a){return 0===a||180===a?"center":a<180?"left":"right"}function WL(a,b,c){return"right"===c?a-=b:"center"===c&&(a-=b/2),a}function XL(a,b,c){return 90===c||270===c?a-=b/2:(c>270||c<90)&&(a-=b),a}function YL(a,b,c,e){const{ctx:f}=a;if(c)f.arc(a.xCenter,a.yCenter,b,0,d.T);else{let g=a.getPointPosition(0,b);f.moveTo(g.x,g.y);for(let h=1;h<e;h++)g=a.getPointPosition(h,b),f.lineTo(g.x,g.y)}}function ZL(a){return(0,d.q)(a)?a:0}wL.id="logarithmic",wL.defaults={ticks:{callback:eo.formatters.logarithmic,major:{enabled:!0}}};class $L extends LK{constructor(_L){super(_L),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){this.width=this.maxWidth,this.height=this.maxHeight,this.paddingTop=SL(this.options)/2,this.xCenter=Math.floor(this.width/2),this.yCenter=Math.floor((this.height-this.paddingTop)/2),this.drawingArea=Math.min(this.height-this.paddingTop,this.width)/2}determineDataLimits(){const{min:aM,max:bM}=this.getMinMax(!1);this.min=(0,d.g)(aM)&&!isNaN(aM)?aM:0,this.max=(0,d.g)(bM)&&!isNaN(bM)?bM:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/SL(this.options))}generateTickLabels(cM){LK.prototype.generateTickLabels.call(this,cM),this._pointLabels=this.getLabels().map((a,b)=>{const c=(0,d.N)(this.options.pointLabels.callback,[a,b],this);return c||0===c?c:""})}fit(){const dM=this.options;dM.display&&dM.pointLabels.display?(function(a){const b={l:0,r:a.width,t:0,b:a.height-a.paddingTop},c={},e=[],f=[],g=a.getLabels().length;for(let h=0;h<g;h++){const i=a.options.pointLabels.setContext(a.getPointLabelContext(h));f[h]=i.padding;const j=a.getPointPosition(h,a.drawingArea+f[h]),k=(0,d.Y)(i.font),l=TL(a.ctx,k,a._pointLabels[h]);e[h]=l;const m=a.getIndexAngle(h),n=(0,d.Q)(m),o=UL(n,j.x,l.w,0,180),p=UL(n,j.y,l.h,90,270);o.start<b.l&&(b.l=o.start,c.l=m),o.end>b.r&&(b.r=o.end,c.r=m),p.start<b.t&&(b.t=p.start,c.t=m),p.end>b.b&&(b.b=p.end,c.b=m)}a._setReductions(a.drawingArea,b,c),a._pointLabelItems=(function(a,b,c){const e=[],f=a.getLabels().length,g=a.options,h=SL(g),i=a.getDistanceFromCenterForValue(g.ticks.reverse?a.min:a.max);for(let j=0;j<f;j++){const k=0===j?h/2:0,l=a.getPointPosition(j,i+k+c[j]),m=(0,d.Q)(a.getIndexAngle(j)),n=b[j],o=XL(l.y,n.h,m),p=VL(m),q=WL(l.x,n.w,p);e.push({x:l.x,y:o,textAlign:p,left:q,top:o,right:q+n.w,bottom:o+n.h})}return e})(a,e,f)})(this):this.setCenterPoint(0,0,0,0)}_setReductions(eM,fM,gM){let hM=fM.l/Math.sin(gM.l),iM=Math.max(fM.r-this.width,0)/Math.sin(gM.r),jM=-fM.t/Math.cos(gM.t),kM=-Math.max(fM.b-(this.height-this.paddingTop),0)/Math.cos(gM.b);hM=ZL(hM),iM=ZL(iM),jM=ZL(jM),kM=ZL(kM),this.drawingArea=Math.max(eM/2,Math.min(Math.floor(eM-(hM+iM)/2),Math.floor(eM-(jM+kM)/2))),this.setCenterPoint(hM,iM,jM,kM)}setCenterPoint(lM,mM,nM,oM){const pM=this.width-mM-this.drawingArea,qM=lM+this.drawingArea,rM=nM+this.drawingArea,sM=this.height-this.paddingTop-oM-this.drawingArea;this.xCenter=Math.floor((qM+pM)/2+this.left),this.yCenter=Math.floor((rM+sM)/2+this.top+this.paddingTop)}getIndexAngle(tM){const uM=d.T/this.getLabels().length,vM=this.options.startAngle||0;return(0,d.av)(tM*uM+(0,d.t)(vM))}getDistanceFromCenterForValue(wM){if((0,d.k)(wM))return NaN;const xM=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-wM)*xM:(wM-this.min)*xM}getValueForDistanceFromCenter(yM){if((0,d.k)(yM))return NaN;const zM=yM/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-zM:this.min+zM}getPointLabelContext(AM){const BM=this._pointLabels||[];if(AM>=0&&AM<BM.length){var CM,DM,EM;const FM=BM[AM];return CM=this.getContext(),DM=AM,EM=FM,(0,d.h)(CM,{label:EM,index:DM,type:"pointLabel"})}}getPointPosition(GM,HM){const IM=this.getIndexAngle(GM)-d.H;return{x:Math.cos(IM)*HM+this.xCenter,y:Math.sin(IM)*HM+this.yCenter,angle:IM}}getPointPositionForValue(JM,KM){return this.getPointPosition(JM,this.getDistanceFromCenterForValue(KM))}getBasePosition(LM){return this.getPointPositionForValue(LM||0,this.getBaseValue())}getPointLabelPosition(MM){const{left:NM,top:OM,right:PM,bottom:QM}=this._pointLabelItems[MM];return{left:NM,top:OM,right:PM,bottom:QM}}drawBackground(){const{backgroundColor:RM,grid:{circular:SM}}=this.options;if(RM){const TM=this.ctx;TM.save(),TM.beginPath(),YL(this,this.getDistanceFromCenterForValue(this._endValue),SM,this.getLabels().length),TM.closePath(),TM.fillStyle=RM,TM.fill(),TM.restore()}}drawGrid(){const UM=this.ctx,VM=this.options,{angleLines:WM,grid:XM}=VM,YM=this.getLabels().length;let ZM,$M,_M;if(VM.pointLabels.display&&(function(a,b){const{ctx:c,options:{pointLabels:e}}=a;for(let f=b-1;f>=0;f--){const g=e.setContext(a.getPointLabelContext(f)),h=(0,d.Y)(g.font),{x:i,y:j,textAlign:k,left:l,top:m,right:n,bottom:o}=a._pointLabelItems[f],{backdropColor:p}=g;if(!(0,d.k)(p)){const q=(0,d.B)(g.backdropPadding);c.fillStyle=p,c.fillRect(l-q.left,m-q.top,n-l+q.width,o-m+q.height)}(0,d.W)(c,a._pointLabels[f],i,j+h.lineHeight/2,h,{color:g.color,textAlign:k,textBaseline:"middle"})}})(this,YM),XM.display&&this.ticks.forEach((a,b)=>{if(0!==b){$M=this.getDistanceFromCenterForValue(a.value);const c=XM.setContext(this.getContext(b-1));!function(a,b,c,d){const e=a.ctx,f=b.circular,{color:g,lineWidth:h}=b;(f||d)&&g&&h&&!(c<0)&&(e.save(),e.strokeStyle=g,e.lineWidth=h,e.setLineDash(b.borderDash),e.lineDashOffset=b.borderDashOffset,e.beginPath(),YL(a,c,f,d),e.closePath(),e.stroke(),e.restore())}(this,c,$M,YM)}}),WM.display){for(UM.save(),ZM=this.getLabels().length-1;ZM>=0;ZM--){const aN=WM.setContext(this.getPointLabelContext(ZM)),{color:bN,lineWidth:cN}=aN;cN&&bN&&(UM.lineWidth=cN,UM.strokeStyle=bN,UM.setLineDash(aN.borderDash),UM.lineDashOffset=aN.borderDashOffset,$M=this.getDistanceFromCenterForValue(VM.ticks.reverse?this.min:this.max),_M=this.getPointPosition(ZM,$M),UM.beginPath(),UM.moveTo(this.xCenter,this.yCenter),UM.lineTo(_M.x,_M.y),UM.stroke())}UM.restore()}}drawBorder(){}drawLabels(){const dN=this.ctx,eN=this.options,fN=eN.ticks;if(fN.display){const gN=this.getIndexAngle(0);let hN,iN;dN.save(),dN.translate(this.xCenter,this.yCenter),dN.rotate(gN),dN.textAlign="center",dN.textBaseline="middle",this.ticks.forEach((a,b)=>{if(0!==b||eN.reverse){const c=fN.setContext(this.getContext(b)),e=(0,d.Y)(c.font);if(hN=this.getDistanceFromCenterForValue(this.ticks[b].value),c.showLabelBackdrop){dN.font=e.string,iN=dN.measureText(a.label).width,dN.fillStyle=c.backdropColor;const f=(0,d.B)(c.backdropPadding);dN.fillRect(-iN/2-f.left,-hN-e.size/2-f.top,iN+f.width,e.size+f.height)}(0,d.W)(dN,a.label,0,-hN,e,{color:c.color})}}),dN.restore()}}drawTitle(){}}$L.id="radialLinear",$L.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:eo.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(a){return a},padding:5}},$L.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},$L.descriptors={angleLines:{_fallback:"grid"}};const jN={millisecond:{common:!0,size:1,steps:1000},second:{common:!0,size:1000,steps:60},minute:{common:!0,size:60e3,steps:60},hour:{common:!0,size:360e4,steps:24},day:{common:!0,size:8640e4,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:26280e5,steps:12},quarter:{common:!1,size:78840e5,steps:4},year:{common:!0,size:31540e6}},kN=Object.keys(jN);function lN(a,b){return a-b}function mN(a,b){if((0,d.k)(b))return null;const c=a._adapter,{parser:e,round:f,isoWeekday:g}=a._parseOpts;let h=b;return("function"==typeof e&&(h=e(h)),(0,d.g)(h)||(h="string"==typeof e?c.parse(h,e):c.parse(h)),null===h)?null:(f&&(h="week"===f&&((0,d.q)(g)|| !0===g)?c.startOf(h,"isoWeek",g):c.startOf(h,f)),+h)}function nN(a,b,c,d){const e=kN.length;for(let f=kN.indexOf(a);f<e-1;++f){const g=jN[kN[f]],h=g.steps?g.steps:Number.MAX_SAFE_INTEGER;if(g.common&&Math.ceil((c-b)/(h*g.size))<=d)return kN[f]}return kN[e-1]}function oN(a,b,c){if(c){if(c.length){const{lo:e,hi:f}=(0,d.aJ)(c,b),g=c[e]>=b?c[e]:c[f];a[g]=!0}}else a[b]=!0}function pN(a,b,c){const d=[],e={},f=b.length;let g,h;for(g=0;g<f;++g)e[h=b[g]]=g,d.push({value:h,major:!1});return 0!==f&&c?(function(a,b,c,d){const e=a._adapter,f=+e.startOf(b[0].value,d),g=b[b.length-1].value;let h,i;for(h=f;h<=g;h=+e.add(h,1,d))(i=c[h])>=0&&(b[i].major=!0);return b})(a,d,e,c):d}class qN extends mo{constructor(rN){super(rN),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(sN,tN){const uN=sN.time||(sN.time={}),vN=this._adapter=new Ym._date(sN.adapters.date);(0,d.a8)(uN.displayFormats,vN.formats()),this._parseOpts={parser:uN.parser,round:uN.round,isoWeekday:uN.isoWeekday},super.init(sN),this._normalized=tN.normalized}parse(wN,xN){return void 0===wN?null:mN(this,wN)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const yN=this.options,zN=this._adapter,AN=yN.time.unit||"day";let{min:BN,max:CN,minDefined:DN,maxDefined:EN}=this.getUserBounds();function FN(a){DN||isNaN(a.min)||(BN=Math.min(BN,a.min)),EN||isNaN(a.max)||(CN=Math.max(CN,a.max))}DN&&EN||(FN(this._getLabelBounds()),("ticks"!==yN.bounds||"labels"!==yN.ticks.source)&&FN(this.getMinMax(!1))),BN=(0,d.g)(BN)&&!isNaN(BN)?BN:+zN.startOf(Date.now(),AN),CN=(0,d.g)(CN)&&!isNaN(CN)?CN:+zN.endOf(Date.now(),AN)+1,this.min=Math.min(BN,CN-1),this.max=Math.max(BN+1,CN)}_getLabelBounds(){const GN=this.getLabelTimestamps();let HN=Number.POSITIVE_INFINITY,IN=Number.NEGATIVE_INFINITY;return GN.length&&(HN=GN[0],IN=GN[GN.length-1]),{min:HN,max:IN}}buildTicks(){const JN=this.options,KN=JN.time,LN=JN.ticks,MN="labels"===LN.source?this.getLabelTimestamps():this._generate();"ticks"===JN.bounds&&MN.length&&(this.min=this._userMin||MN[0],this.max=this._userMax||MN[MN.length-1]);const NN=this.min,ON=this.max,PN=(0,d.aI)(MN,NN,ON);return this._unit=KN.unit||(LN.autoSkip?nN(KN.minUnit,this.min,this.max,this._getLabelCapacity(NN)):(function(a,b,c,d,e){for(let f=kN.length-1;f>=kN.indexOf(c);f--){const g=kN[f];if(jN[g].common&&a._adapter.diff(e,d,g)>=b-1)return g}return kN[c?kN.indexOf(c):0]})(this,PN.length,KN.minUnit,this.min,this.max)),this._majorUnit=LN.major.enabled&&"year"!==this._unit?(function(a){for(let b=kN.indexOf(a)+1,c=kN.length;b<c;++b)if(jN[kN[b]].common)return kN[b]})(this._unit):void 0,this.initOffsets(MN),JN.reverse&&PN.reverse(),pN(this,PN,this._majorUnit)}initOffsets(QN){let RN=0,SN=0,TN,UN;this.options.offset&&QN.length&&(TN=this.getDecimalForValue(QN[0]),RN=1===QN.length?1-TN:(this.getDecimalForValue(QN[1])-TN)/2,UN=this.getDecimalForValue(QN[QN.length-1]),SN=1===QN.length?UN:(UN-this.getDecimalForValue(QN[QN.length-2]))/2);const VN=QN.length<3?0.5:0.25;RN=(0,d.w)(RN,0,VN),SN=(0,d.w)(SN,0,VN),this._offsets={start:RN,end:SN,factor:1/(RN+1+SN)}}_generate(){const WN=this._adapter,XN=this.min,YN=this.max,ZN=this.options,$N=ZN.time,_N=$N.unit||nN($N.minUnit,XN,YN,this._getLabelCapacity(XN)),aO=(0,d.v)($N.stepSize,1),bO="week"===_N&&$N.isoWeekday,cO=(0,d.q)(bO)|| !0===bO,dO={};let eO=XN,fO,gO;if(cO&&(eO=+WN.startOf(eO,"isoWeek",bO)),eO=+WN.startOf(eO,cO?"day":_N),WN.diff(YN,XN,_N)>10e4*aO)throw new Error(XN+" and "+YN+" are too far apart with stepSize of "+aO+" "+_N);const hO="data"===ZN.ticks.source&&this.getDataTimestamps();for(fO=eO,gO=0;fO<YN;fO=+WN.add(fO,aO,_N),gO++)oN(dO,fO,hO);return(fO===YN||"ticks"===ZN.bounds||1===gO)&&oN(dO,fO,hO),Object.keys(dO).sort((a,b)=>a-b).map(a=>+a)}getLabelForValue(iO){const jO=this._adapter,kO=this.options.time;return kO.tooltipFormat?jO.format(iO,kO.tooltipFormat):jO.format(iO,kO.displayFormats.datetime)}_tickFormatFunction(lO,mO,nO,oO){const pO=this.options,qO=pO.time.displayFormats,rO=this._unit,sO=this._majorUnit,tO=rO&&qO[rO],uO=sO&&qO[sO],vO=nO[mO],wO=sO&&uO&&vO&&vO.major,xO=this._adapter.format(lO,oO||(wO?uO:tO)),yO=pO.ticks.callback;return yO?(0,d.N)(yO,[xO,mO,nO],this):xO}generateTickLabels(zO){let AO,BO,CO;for(AO=0,BO=zO.length;AO<BO;++AO)(CO=zO[AO]).label=this._tickFormatFunction(CO.value,AO,zO)}getDecimalForValue(DO){return null===DO?NaN:(DO-this.min)/(this.max-this.min)}getPixelForValue(EO){const FO=this._offsets,GO=this.getDecimalForValue(EO);return this.getPixelForDecimal((FO.start+GO)*FO.factor)}getValueForPixel(HO){const IO=this._offsets,JO=this.getDecimalForPixel(HO)/IO.factor-IO.end;return this.min+JO*(this.max-this.min)}_getLabelSize(KO){const LO=this.options.ticks,MO=this.ctx.measureText(KO).width,NO=(0,d.t)(this.isHorizontal()?LO.maxRotation:LO.minRotation),OO=Math.cos(NO),PO=Math.sin(NO),QO=this._resolveTickFontOptions(0).size;return{w:MO*OO+QO*PO,h:MO*PO+QO*OO}}_getLabelCapacity(RO){const SO=this.options.time,TO=SO.displayFormats,UO=TO[SO.unit]||TO.millisecond,VO=this._tickFormatFunction(RO,0,pN(this,[RO],this._majorUnit),UO),WO=this._getLabelSize(VO),XO=Math.floor(this.isHorizontal()?this.width/WO.w:this.height/WO.h)-1;return XO>0?XO:1}getDataTimestamps(){let YO=this._cache.data||[],ZO,$O;if(YO.length)return YO;const _O=this.getMatchingVisibleMetas();if(this._normalized&&_O.length)return this._cache.data=_O[0].controller.getAllParsedValues(this);for(ZO=0,$O=_O.length;ZO<$O;++ZO)YO=YO.concat(_O[ZO].controller.getAllParsedValues(this));return this._cache.data=this.normalize(YO)}getLabelTimestamps(){const aP=this._cache.labels||[];let bP,cP;if(aP.length)return aP;const dP=this.getLabels();for(bP=0,cP=dP.length;bP<cP;++bP)aP.push(mN(this,dP[bP]));return this._cache.labels=this._normalized?aP:this.normalize(aP)}normalize(eP){return(0,d._)(eP.sort(lN))}}function fP(a,b,c){let e=0,f=a.length-1,g,h,i,j;c?(b>=a[e].pos&&b<=a[f].pos&&({lo:e,hi:f}=(0,d.x)(a,"pos",b)),{pos:g,time:i}=a[e],{pos:h,time:j}=a[f]):(b>=a[e].time&&b<=a[f].time&&({lo:e,hi:f}=(0,d.x)(a,"time",b)),{time:g,pos:i}=a[e],{time:h,pos:j}=a[f]);const k=h-g;return k?i+(j-i)*(b-g)/k:i}qN.id="time",qN.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class gP extends qN{constructor(hP){super(hP),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const iP=this._getTimestampsForTable(),jP=this._table=this.buildLookupTable(iP);this._minPos=fP(jP,this.min),this._tableRange=fP(jP,this.max)-this._minPos,super.initOffsets(iP)}buildLookupTable(kP){const{min:lP,max:mP}=this,nP=[],oP=[];let pP,qP,rP,sP,tP;for(pP=0,qP=kP.length;pP<qP;++pP)(sP=kP[pP])>=lP&&sP<=mP&&nP.push(sP);if(nP.length<2)return[{time:lP,pos:0},{time:mP,pos:1}];for(pP=0,qP=nP.length;pP<qP;++pP)tP=nP[pP+1],rP=nP[pP-1],sP=nP[pP],Math.round((tP+rP)/2)!==sP&&oP.push({time:sP,pos:pP/(qP-1)});return oP}_getTimestampsForTable(){let uP=this._cache.all||[];if(uP.length)return uP;const vP=this.getDataTimestamps(),wP=this.getLabelTimestamps();return uP=vP.length&&wP.length?this.normalize(vP.concat(wP)):vP.length?vP:wP,uP=this._cache.all=uP}getDecimalForValue(xP){return(fP(this._table,xP)-this._minPos)/this._tableRange}getValueForPixel(yP){const zP=this._offsets,AP=this.getDecimalForPixel(yP)/zP.factor-zP.end;return fP(this._table,AP*this._tableRange+this._minPos,!0)}}gP.id="timeseries",gP.defaults=qN.defaults,Object.freeze({__proto__:null,CategoryScale:kK,LinearScale:mL,LogarithmicScale:wL,RadialLinearScale:$L,TimeScale:qN,TimeSeriesScale:gP})}}])